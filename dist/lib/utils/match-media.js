import facepaint from 'facepaint';
import { useEffect, useState } from 'react';
export const Breakpoints = {
    // there is NO "mobile breakpoint", because in mobile first
    // styles for mobile are defined by default without media
    tablet: 768,
    laptop: 1024,
    desktop: 1280,
};
export const MediaQueries = {
    // mobile: `(max-width:${Breakpoints['tablet'] - 1}px)`,
    tablet: `(min-width:${Breakpoints['tablet']}px)`,
    laptop: `(min-width:${Breakpoints['laptop']}px)`,
    desktop: `(min-width:${Breakpoints['desktop']}px)`,
};
/** withMedia helper
 * @usage
 * ```
 * const StyledImg = styled.img(({ theme }) => theme.withMedia({
 *   display: ['mobileValue', 'tabletValue', 'laptopValue', 'desktopValue'],
 * }));
 * ```
 */
export const withMedia = facepaint([
    `@media ${MediaQueries['tablet']}`,
    `@media ${MediaQueries['laptop']}`,
    `@media ${MediaQueries['desktop']}`,
]);
/** useMatchMedia helper
 * @usage
 * ```
 * const responsiveType = useMatchMedia(['mobile', 'tablet', 'laptop or desktop'], [deps])
 * <div>{responsiveType}</div>
 * ```
 */
export const useMatchMedia = ([onMobile, onTablet, onLaptop, onDesktop], dependencies) => {
    const queries = [
        MediaQueries['desktop'],
        MediaQueries['laptop'],
        MediaQueries['tablet'],
    ];
    const mediaQueryLists = queries.map((q) => window.matchMedia(q));
    const getMatchArg = () => {
        // get index of first media query that matches
        const index = mediaQueryLists.findIndex((mql) => mql.matches);
        // return passed value or mobile when no match
        return ([onDesktop ?? onLaptop ?? onTablet, onLaptop ?? onTablet, onTablet]?.[index] ?? onMobile);
    };
    const [match, setMatch] = useState(getMatchArg);
    useEffect(() => {
        const handler = () => setMatch(getMatchArg);
        handler();
        // Add listeners to media queries
        mediaQueryLists.forEach((mql) => mql.addListener(handler));
        // Remove listeners on cleanup
        return () => mediaQueryLists.forEach((mql) => mql.removeListener(handler));
    }, [...dependencies]);
    return match;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0Y2gtbWVkaWEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL3V0aWxzL21hdGNoLW1lZGlhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sU0FBUyxNQUFNLFdBQVcsQ0FBQztBQUNsQyxPQUFPLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUc1QyxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUc7SUFDekIsMkRBQTJEO0lBQzNELHlEQUF5RDtJQUN6RCxNQUFNLEVBQUUsR0FBRztJQUNYLE1BQU0sRUFBRSxJQUFJO0lBQ1osT0FBTyxFQUFFLElBQUk7Q0FDZCxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHO0lBQzFCLHdEQUF3RDtJQUN4RCxNQUFNLEVBQUUsY0FBYyxXQUFXLENBQUMsUUFBUSxDQUFDLEtBQUs7SUFDaEQsTUFBTSxFQUFFLGNBQWMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxLQUFLO0lBQ2hELE9BQU8sRUFBRSxjQUFjLFdBQVcsQ0FBQyxTQUFTLENBQUMsS0FBSztDQUNuRCxDQUFDO0FBa0JGOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQTBDLFNBQVMsQ0FBQztJQUN4RSxVQUFVLFlBQVksQ0FBQyxRQUFRLENBQUMsRUFBRTtJQUNsQyxVQUFVLFlBQVksQ0FBQyxRQUFRLENBQUMsRUFBRTtJQUNsQyxVQUFVLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRTtDQUNwQyxDQUFRLENBQUM7QUFFVjs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FDM0IsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxTQUFTLENBQWtCLEVBQzFELFlBQW1CLEVBQ25CLEVBQUU7SUFDRixNQUFNLE9BQU8sR0FBRztRQUNkLFlBQVksQ0FBQyxTQUFTLENBQUM7UUFDdkIsWUFBWSxDQUFDLFFBQVEsQ0FBQztRQUN0QixZQUFZLENBQUMsUUFBUSxDQUFDO0tBQ3ZCLENBQUM7SUFFRixNQUFNLGVBQWUsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFakUsTUFBTSxXQUFXLEdBQUcsR0FBRyxFQUFFO1FBQ3ZCLDhDQUE4QztRQUM5QyxNQUFNLEtBQUssR0FBRyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDOUQsOENBQThDO1FBQzlDLE9BQU8sQ0FDTCxDQUFDLFNBQVMsSUFBSSxRQUFRLElBQUksUUFBUSxFQUFFLFFBQVEsSUFBSSxRQUFRLEVBQUUsUUFBUSxDQUFDLEVBQUUsQ0FDbkUsS0FBSyxDQUNOLElBQUksUUFBUSxDQUNkLENBQUM7SUFDSixDQUFDLENBQUM7SUFFRixNQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxHQUFHLFFBQVEsQ0FBSSxXQUFXLENBQUMsQ0FBQztJQUVuRCxTQUFTLENBQUMsR0FBRyxFQUFFO1FBQ2IsTUFBTSxPQUFPLEdBQUcsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sRUFBRSxDQUFDO1FBQ1YsaUNBQWlDO1FBQ2pDLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUMzRCw4QkFBOEI7UUFDOUIsT0FBTyxHQUFHLEVBQUUsQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDN0UsQ0FBQyxFQUFFLENBQUMsR0FBRyxZQUFZLENBQUMsQ0FBQyxDQUFDO0lBRXRCLE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ1NTIGZyb20gJ2Nzc3R5cGUnO1xuaW1wb3J0IGZhY2VwYWludCBmcm9tICdmYWNlcGFpbnQnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENTU09iamVjdCB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcblxuZXhwb3J0IGNvbnN0IEJyZWFrcG9pbnRzID0ge1xuICAvLyB0aGVyZSBpcyBOTyBcIm1vYmlsZSBicmVha3BvaW50XCIsIGJlY2F1c2UgaW4gbW9iaWxlIGZpcnN0XG4gIC8vIHN0eWxlcyBmb3IgbW9iaWxlIGFyZSBkZWZpbmVkIGJ5IGRlZmF1bHQgd2l0aG91dCBtZWRpYVxuICB0YWJsZXQ6IDc2OCxcbiAgbGFwdG9wOiAxMDI0LFxuICBkZXNrdG9wOiAxMjgwLFxufTtcblxuZXhwb3J0IGNvbnN0IE1lZGlhUXVlcmllcyA9IHtcbiAgLy8gbW9iaWxlOiBgKG1heC13aWR0aDoke0JyZWFrcG9pbnRzWyd0YWJsZXQnXSAtIDF9cHgpYCxcbiAgdGFibGV0OiBgKG1pbi13aWR0aDoke0JyZWFrcG9pbnRzWyd0YWJsZXQnXX1weClgLFxuICBsYXB0b3A6IGAobWluLXdpZHRoOiR7QnJlYWtwb2ludHNbJ2xhcHRvcCddfXB4KWAsXG4gIGRlc2t0b3A6IGAobWluLXdpZHRoOiR7QnJlYWtwb2ludHNbJ2Rlc2t0b3AnXX1weClgLFxufTtcblxudHlwZSBDU1NQcm9wZXJ0aWVzTXVsdGkgPSB7XG4gIFtQIGluIGtleW9mIENTUy5Qcm9wZXJ0aWVzPHN0cmluZyB8IG51bWJlcj5dOlxuICAgIHwgQ1NTLlByb3BlcnRpZXM8c3RyaW5nIHwgbnVtYmVyPltQXVxuICAgIHwgQ1NTLlByb3BlcnRpZXM8c3RyaW5nIHwgbnVtYmVyPltQXVtdO1xufTtcbnR5cGUgQ1NTUHNldWRvcyA9IHsgW0sgaW4gQ1NTLlBzZXVkb3NdPzogQ1NTT2JqZWN0TXVsdGkgfTtcblxuaW50ZXJmYWNlIENTU09iamVjdE11bHRpIGV4dGVuZHMgQ1NTUHJvcGVydGllc011bHRpLCBDU1NQc2V1ZG9zIHtcbiAgW2tleTogc3RyaW5nXTpcbiAgICB8IEFycmF5PENTU09iamVjdE11bHRpIHwgc3RyaW5nIHwgbnVtYmVyIHwgdW5kZWZpbmVkPlxuICAgIHwgQ1NTT2JqZWN0TXVsdGlcbiAgICB8IHN0cmluZ1xuICAgIHwgbnVtYmVyXG4gICAgfCB1bmRlZmluZWQ7XG59XG5cbi8qKiB3aXRoTWVkaWEgaGVscGVyXG4gKiBAdXNhZ2VcbiAqIGBgYFxuICogY29uc3QgU3R5bGVkSW1nID0gc3R5bGVkLmltZygoeyB0aGVtZSB9KSA9PiB0aGVtZS53aXRoTWVkaWEoe1xuICogICBkaXNwbGF5OiBbJ21vYmlsZVZhbHVlJywgJ3RhYmxldFZhbHVlJywgJ2xhcHRvcFZhbHVlJywgJ2Rlc2t0b3BWYWx1ZSddLFxuICogfSkpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoTWVkaWE6IChzdHlsZWQ6IENTU09iamVjdE11bHRpKSA9PiBDU1NPYmplY3QgPSBmYWNlcGFpbnQoW1xuICBgQG1lZGlhICR7TWVkaWFRdWVyaWVzWyd0YWJsZXQnXX1gLFxuICBgQG1lZGlhICR7TWVkaWFRdWVyaWVzWydsYXB0b3AnXX1gLFxuICBgQG1lZGlhICR7TWVkaWFRdWVyaWVzWydkZXNrdG9wJ119YCxcbl0pIGFzIGFueTtcblxuLyoqIHVzZU1hdGNoTWVkaWEgaGVscGVyXG4gKiBAdXNhZ2VcbiAqIGBgYFxuICogY29uc3QgcmVzcG9uc2l2ZVR5cGUgPSB1c2VNYXRjaE1lZGlhKFsnbW9iaWxlJywgJ3RhYmxldCcsICdsYXB0b3Agb3IgZGVza3RvcCddLCBbZGVwc10pXG4gKiA8ZGl2PntyZXNwb25zaXZlVHlwZX08L2Rpdj5cbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgdXNlTWF0Y2hNZWRpYSA9IDxUIGV4dGVuZHMgYW55PihcbiAgW29uTW9iaWxlLCBvblRhYmxldCwgb25MYXB0b3AsIG9uRGVza3RvcF06IFtULCBUPywgVD8sIFQ/XSxcbiAgZGVwZW5kZW5jaWVzOiBhbnlbXVxuKSA9PiB7XG4gIGNvbnN0IHF1ZXJpZXMgPSBbXG4gICAgTWVkaWFRdWVyaWVzWydkZXNrdG9wJ10sXG4gICAgTWVkaWFRdWVyaWVzWydsYXB0b3AnXSxcbiAgICBNZWRpYVF1ZXJpZXNbJ3RhYmxldCddLFxuICBdO1xuXG4gIGNvbnN0IG1lZGlhUXVlcnlMaXN0cyA9IHF1ZXJpZXMubWFwKChxKSA9PiB3aW5kb3cubWF0Y2hNZWRpYShxKSk7XG5cbiAgY29uc3QgZ2V0TWF0Y2hBcmcgPSAoKSA9PiB7XG4gICAgLy8gZ2V0IGluZGV4IG9mIGZpcnN0IG1lZGlhIHF1ZXJ5IHRoYXQgbWF0Y2hlc1xuICAgIGNvbnN0IGluZGV4ID0gbWVkaWFRdWVyeUxpc3RzLmZpbmRJbmRleCgobXFsKSA9PiBtcWwubWF0Y2hlcyk7XG4gICAgLy8gcmV0dXJuIHBhc3NlZCB2YWx1ZSBvciBtb2JpbGUgd2hlbiBubyBtYXRjaFxuICAgIHJldHVybiAoXG4gICAgICBbb25EZXNrdG9wID8/IG9uTGFwdG9wID8/IG9uVGFibGV0LCBvbkxhcHRvcCA/PyBvblRhYmxldCwgb25UYWJsZXRdPy5bXG4gICAgICAgIGluZGV4XG4gICAgICBdID8/IG9uTW9iaWxlXG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBbbWF0Y2gsIHNldE1hdGNoXSA9IHVzZVN0YXRlPFQ+KGdldE1hdGNoQXJnKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZXIgPSAoKSA9PiBzZXRNYXRjaChnZXRNYXRjaEFyZyk7XG4gICAgaGFuZGxlcigpO1xuICAgIC8vIEFkZCBsaXN0ZW5lcnMgdG8gbWVkaWEgcXVlcmllc1xuICAgIG1lZGlhUXVlcnlMaXN0cy5mb3JFYWNoKChtcWwpID0+IG1xbC5hZGRMaXN0ZW5lcihoYW5kbGVyKSk7XG4gICAgLy8gUmVtb3ZlIGxpc3RlbmVycyBvbiBjbGVhbnVwXG4gICAgcmV0dXJuICgpID0+IG1lZGlhUXVlcnlMaXN0cy5mb3JFYWNoKChtcWwpID0+IG1xbC5yZW1vdmVMaXN0ZW5lcihoYW5kbGVyKSk7XG4gIH0sIFsuLi5kZXBlbmRlbmNpZXNdKTtcblxuICByZXR1cm4gbWF0Y2g7XG59O1xuIl19