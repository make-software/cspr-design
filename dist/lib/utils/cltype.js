import { CLType } from "../types/CLType";
export const stringifyCLTypeType = (type) => {
    const getTypeFromNestedObj = (type) => typeof type === 'object' ? Object.keys(type)[0] : type;
    const clValueType = getTypeFromNestedObj(type);
    const clValueInnerType = getTypeFromNestedObj(type[clValueType]);
    const clValueListInnerType = clValueType === CLType.List && clValueInnerType === CLType.Option
        ? stringifyCLTypeType(type[clValueType])
        : clValueInnerType;
    switch (clValueType) {
        case CLType.ByteArray:
        case CLType.List:
            return `${clValueType}[${clValueListInnerType}]`;
        case CLType.Tuple1:
        case CLType.Tuple2:
        case CLType.Tuple3:
        case CLType.Map:
        case CLType.Key:
            return `${clValueType}`;
        case CLType.Option:
            return `${clValueType}(${clValueInnerType})`;
        default:
            return `${clValueType}`;
    }
};
export const stringifyCLTypeValue = ({ type, value, balance, }) => {
    if (!type) {
        return Array.isArray(value)
            ? value.join(', ')
            : typeof value === 'object'
                ? JSON.stringify(value)
                : value;
    }
    const getTypeFromNestedObj = (type) => typeof type === 'object' ? Object.keys(type)[0] : type;
    const clValueType = getTypeFromNestedObj(type);
    const clValueInnerType = getTypeFromNestedObj(type[clValueType]);
    switch (clValueType) {
        case CLType.Unit:
            return balance;
        case CLType.List:
            return value
                ?.map((listItem) => stringifyCLTypeValue({
                type: clValueInnerType,
                value: listItem,
            }))
                .join(', ');
        case CLType.Tuple1:
        case CLType.Tuple2:
        case CLType.Tuple3:
            return value?.join(', ');
        case CLType.Option:
            return stringifyCLTypeValue({
                type: clValueInnerType,
                value: value,
            });
        case CLType.Result:
        case CLType.Map:
            return JSON.stringify(value);
        case CLType.Bool:
            return value !== null && value !== undefined ? value.toString() : null;
        default:
            return value;
    }
};
export const convertTransactionArgsToObj = (args) => {
    if (!args) {
        return {};
    }
    const argsKeys = [...args.args.keys()];
    return argsKeys.reduce((prev, curr) => {
        return {
            ...prev,
            [curr]: args.getByName(curr).toJSON(),
        };
    }, {});
};
export const convertApprovalsFromBytesToString = (approvals) => {
    if (!approvals || !approvals.length) {
        return [];
    }
    return approvals.map((approval) => {
        return {
            signer: approval.signer.toHex(),
            signature: approval.signature.toJSON(),
        };
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2x0eXBlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi91dGlscy9jbHR5cGUudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBQyxNQUFNLEVBQStELE1BQU0saUJBQWlCLENBQUM7QUFFckcsTUFBTSxDQUFDLE1BQU0sbUJBQW1CLEdBQUcsQ0FDakMsSUFBd0MsRUFDaEMsRUFBRTtJQUNWLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUNwQyxPQUFPLElBQUksS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUV6RCxNQUFNLFdBQVcsR0FBRyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMvQyxNQUFNLGdCQUFnQixHQUFHLG9CQUFvQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0lBRWpFLE1BQU0sb0JBQW9CLEdBQ3hCLFdBQVcsS0FBSyxNQUFNLENBQUMsSUFBSSxJQUFJLGdCQUFnQixLQUFLLE1BQU0sQ0FBQyxNQUFNO1FBQy9ELENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDeEMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDO0lBRXZCLFFBQVEsV0FBVyxFQUFFLENBQUM7UUFDcEIsS0FBSyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBQ3RCLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDZCxPQUFPLEdBQUcsV0FBVyxJQUFJLG9CQUFvQixHQUFHLENBQUM7UUFDbkQsS0FBSyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ25CLEtBQUssTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNuQixLQUFLLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDbkIsS0FBSyxNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2hC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QUUsRUFBRTtRQUNwQyxPQUFPO1lBQ0wsR0FBRyxJQUFJO1lBQ1AsQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRTtTQUN0QyxDQUFDO0lBQ0osQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ1QsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0saUNBQWlDLEdBQUcsQ0FDL0MsU0FBd0IsRUFDWixFQUFFO0lBQ2QsSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNwQyxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFFRCxPQUFPLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRTtRQUNoQyxPQUFPO1lBQ0wsTUFBTSxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFO1lBQy9CLFNBQVMsRUFBRSxRQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRTtTQUN2QyxDQUFDO0lBQ0osQ0FBQyxDQUFlLENBQUM7QUFDbkIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQge0FyZ3MsIEFwcHJvdmFsIGFzIEFwcHJvdmFsU0RLLCBBcHByb3ZhbH0gZnJvbSAnY2FzcGVyLWpzLXNkayc7XG5pbXBvcnQge0NMVHlwZSwgQ0xUeXBlUGFyc2VkTGlzdFJlc3VsdCwgQ0xUeXBlUGFyc2VkUmVzdWx0LCBDTFR5cGVUeXBlUmVzdWx0fSBmcm9tIFwiLi4vdHlwZXMvQ0xUeXBlXCI7XG5cbmV4cG9ydCBjb25zdCBzdHJpbmdpZnlDTFR5cGVUeXBlID0gKFxuICB0eXBlOiBzdHJpbmcgfCBDTFR5cGUgfCBDTFR5cGVUeXBlUmVzdWx0XG4pOiBzdHJpbmcgPT4ge1xuICBjb25zdCBnZXRUeXBlRnJvbU5lc3RlZE9iaiA9ICh0eXBlKSA9PlxuICAgIHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyA/IE9iamVjdC5rZXlzKHR5cGUpWzBdIDogdHlwZTtcblxuICBjb25zdCBjbFZhbHVlVHlwZSA9IGdldFR5cGVGcm9tTmVzdGVkT2JqKHR5cGUpO1xuICBjb25zdCBjbFZhbHVlSW5uZXJUeXBlID0gZ2V0VHlwZUZyb21OZXN0ZWRPYmoodHlwZVtjbFZhbHVlVHlwZV0pO1xuXG4gIGNvbnN0IGNsVmFsdWVMaXN0SW5uZXJUeXBlID1cbiAgICBjbFZhbHVlVHlwZSA9PT0gQ0xUeXBlLkxpc3QgJiYgY2xWYWx1ZUlubmVyVHlwZSA9PT0gQ0xUeXBlLk9wdGlvblxuICAgICAgPyBzdHJpbmdpZnlDTFR5cGVUeXBlKHR5cGVbY2xWYWx1ZVR5cGVdKVxuICAgICAgOiBjbFZhbHVlSW5uZXJUeXBlO1xuXG4gIHN3aXRjaCAoY2xWYWx1ZVR5cGUpIHtcbiAgICBjYXNlIENMVHlwZS5CeXRlQXJyYXk6XG4gICAgY2FzZSBDTFR5cGUuTGlzdDpcbiAgICAgIHJldHVybiBgJHtjbFZhbHVlVHlwZX1bJHtjbFZhbHVlTGlzdElubmVyVHlwZX1dYDtcbiAgICBjYXNlIENMVHlwZS5UdXBsZTE6XG4gICAgY2FzZSBDTFR5cGUuVHVwbGUyOlxuICAgIGNhc2UgQ0xUeXBlLlR1cGxlMzpcbiAgICBjYXNlIENMVHlwZS5NYXA6XG4gICAgY2FzZSBDTFR5cGUuS2V5OlxuICAgICAgcmV0dXJuIGAke2NsVmFsdWVUeXBlfWA7XG4gICAgY2FzZSBDTFR5cGUuT3B0aW9uOlxuICAgICAgcmV0dXJuIGAke2NsVmFsdWVUeXBlfSgke2NsVmFsdWVJbm5lclR5cGV9KWA7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGAke2NsVmFsdWVUeXBlfWA7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBzdHJpbmdpZnlDTFR5cGVWYWx1ZSA9ICh7XG4gIHR5cGUsXG4gIHZhbHVlLFxuICBiYWxhbmNlLFxufToge1xuICB0eXBlPzogQ0xUeXBlVHlwZVJlc3VsdCB8IHN0cmluZztcbiAgdmFsdWU6IENMVHlwZVBhcnNlZFJlc3VsdCB8IG51bGw7XG4gIGJhbGFuY2U/OiBzdHJpbmcgfCBudWxsO1xufSkgPT4ge1xuICBpZiAoIXR5cGUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSlcbiAgICAgID8gdmFsdWUuam9pbignLCAnKVxuICAgICAgOiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnXG4gICAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpXG4gICAgICAgIDogdmFsdWU7XG4gIH1cblxuICBjb25zdCBnZXRUeXBlRnJvbU5lc3RlZE9iaiA9ICh0eXBlKSA9PlxuICAgIHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyA/IE9iamVjdC5rZXlzKHR5cGUpWzBdIDogdHlwZTtcblxuICBjb25zdCBjbFZhbHVlVHlwZSA9IGdldFR5cGVGcm9tTmVzdGVkT2JqKHR5cGUpO1xuICBjb25zdCBjbFZhbHVlSW5uZXJUeXBlID0gZ2V0VHlwZUZyb21OZXN0ZWRPYmoodHlwZVtjbFZhbHVlVHlwZV0pO1xuXG4gIHN3aXRjaCAoY2xWYWx1ZVR5cGUpIHtcbiAgICBjYXNlIENMVHlwZS5Vbml0OlxuICAgICAgcmV0dXJuIGJhbGFuY2U7XG5cbiAgICBjYXNlIENMVHlwZS5MaXN0OlxuICAgICAgcmV0dXJuICh2YWx1ZSBhcyBDTFR5cGVQYXJzZWRMaXN0UmVzdWx0KVxuICAgICAgICA/Lm1hcCgobGlzdEl0ZW0pID0+XG4gICAgICAgICAgc3RyaW5naWZ5Q0xUeXBlVmFsdWUoe1xuICAgICAgICAgICAgdHlwZTogY2xWYWx1ZUlubmVyVHlwZSxcbiAgICAgICAgICAgIHZhbHVlOiBsaXN0SXRlbSxcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICAgIC5qb2luKCcsICcpO1xuXG4gICAgY2FzZSBDTFR5cGUuVHVwbGUxOlxuICAgIGNhc2UgQ0xUeXBlLlR1cGxlMjpcbiAgICBjYXNlIENMVHlwZS5UdXBsZTM6XG4gICAgICByZXR1cm4gKHZhbHVlIGFzIENMVHlwZVBhcnNlZExpc3RSZXN1bHQpPy5qb2luKCcsICcpO1xuXG4gICAgY2FzZSBDTFR5cGUuT3B0aW9uOlxuICAgICAgcmV0dXJuIHN0cmluZ2lmeUNMVHlwZVZhbHVlKHtcbiAgICAgICAgdHlwZTogY2xWYWx1ZUlubmVyVHlwZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgfSk7XG4gICAgY2FzZSBDTFR5cGUuUmVzdWx0OlxuICAgIGNhc2UgQ0xUeXBlLk1hcDpcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cbiAgICBjYXNlIENMVHlwZS5Cb29sOlxuICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZS50b1N0cmluZygpIDogbnVsbDtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjb252ZXJ0VHJhbnNhY3Rpb25BcmdzVG9PYmogPSAoXG4gIGFyZ3M6IEFyZ3Ncbik6IFJlY29yZDxzdHJpbmcsIGFueT4gPT4ge1xuICBpZiAoIWFyZ3MpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBjb25zdCBhcmdzS2V5cyA9IFsuLi5hcmdzLmFyZ3Mua2V5cygpXTtcblxuICByZXR1cm4gYXJnc0tleXMucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbY3Vycl06IGFyZ3MuZ2V0QnlOYW1lKGN1cnIpLnRvSlNPTigpLFxuICAgIH07XG4gIH0sIHt9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb252ZXJ0QXBwcm92YWxzRnJvbUJ5dGVzVG9TdHJpbmcgPSAoXG4gIGFwcHJvdmFsczogQXBwcm92YWxTREtbXVxuKTogQXBwcm92YWxbXSA9PiB7XG4gIGlmICghYXBwcm92YWxzIHx8ICFhcHByb3ZhbHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgcmV0dXJuIGFwcHJvdmFscy5tYXAoKGFwcHJvdmFsKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNpZ25lcjogYXBwcm92YWwuc2lnbmVyLnRvSGV4KCksXG4gICAgICBzaWduYXR1cmU6IGFwcHJvdmFsLnNpZ25hdHVyZS50b0pTT04oKSxcbiAgICB9O1xuICB9KSBhcyBBcHByb3ZhbFtdO1xufTtcbiJdfQ==