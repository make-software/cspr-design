import { createIntl, createIntlCache } from '@formatjs/intl';
var cache = createIntlCache();
var intl = createIntl({
    locale: 'en-US',
    messages: {
        'components.transaction_status': 'Success',
    },
}, cache);
export var HashLength;
(function (HashLength) {
    HashLength[HashLength["FULL"] = 0] = "FULL";
    HashLength[HashLength["TINY"] = 5] = "TINY";
    HashLength[HashLength["LITTLE"] = 10] = "LITTLE";
    HashLength[HashLength["SMALL"] = 15] = "SMALL";
    HashLength[HashLength["MEDIUM"] = 20] = "MEDIUM";
    HashLength[HashLength["LARGE"] = 25] = "LARGE";
})(HashLength || (HashLength = {}));
export var DEFAULT_PRECISION = 5;
export var FULL_PRECISION = 9;
var formatDistanceTokens = {
    lessThanXSeconds: 'second',
    xSeconds: 'second',
    lessThanXMinutes: 'minute',
    xMinutes: 'minute',
    xHours: 'hour',
    xDays: 'day',
    xMonths: 'month',
    xYears: 'year',
};
var BIG_NUMBERS_NOTATION_SYMBOL = [
    '',
    'k',
    'M',
    'B',
    'T',
    'Qa',
    'Qi',
    'Sx',
    'Sp',
    'O',
    'N',
    'D',
    'Ud',
    'Dd',
    'Td',
    'Qad',
    'Qid',
    'Sxd',
    'Spd',
    'Od',
    'Nd',
    'V',
    'Uv',
    'Dv',
    'Tv',
    'Qav',
    'Qiv',
    'Sxv',
    'Spv',
    'Ov',
    'Nv',
    'Tr',
    'Ut',
    'Dt',
    'G',
    'Tt', //Tretrigintillion
];
export var formatBigNumbers = function (value) {
    // determines symbol
    var tier = (Math.log10(Math.abs(value)) / 3) | 0;
    var tiersWithoutSuffixes = [0, 1, 2];
    if (tiersWithoutSuffixes.includes(tier)) {
        return formatNumber(value, {
            precision: 5,
        });
    }
    // get suffix and determine scale
    var suffix = BIG_NUMBERS_NOTATION_SYMBOL[tier];
    var scale = Math.pow(10, tier * 3);
    var scaledNumber = value / scale;
    return scaledNumber.toFixed(5) + suffix;
};
export var formatNumber = function (value, _a) {
    var _b = _a === void 0 ? {} : _a, precision = _b.precision, notation = _b.notation, compactDisplay = _b.compactDisplay;
    return intl.formatNumber(value, {
        minimumFractionDigits: precision || 0,
        maximumFractionDigits: precision || 0,
        notation: notation,
        compactDisplay: compactDisplay,
    });
};
export var formatCurrency = function (value, code, _a) {
    var _b = _a === void 0 ? {} : _a, precision = _b.precision;
    return intl.formatNumber(value, {
        style: 'currency',
        currency: code,
        minimumFractionDigits: precision,
        maximumFractionDigits: precision,
    });
};
export var formatTimestamp = function (value, locale) {
    if (locale === void 0) { locale = 'en'; }
    var date = new Date(value);
    var nativeIntl = new Intl.DateTimeFormat(locale, {
        month: 'short',
        day: 'numeric',
        year: 'numeric',
        hour: 'numeric',
        minute: 'numeric',
        second: 'numeric',
        timeZoneName: 'short',
    });
    return "".concat(nativeIntl.format(date));
};
export var formatDistance = function (token, count, options) {
    options = options || {};
    var locale = options.locale.code || 'en';
    return new Intl.RelativeTimeFormat(locale, {
        style: 'short',
    })
        .format(-count, formatDistanceTokens[token])
        .replace('.', '');
};
export var formatDate = function (value) {
    var date = new Date(value);
    return "".concat(intl.formatDate(date, {
        month: 'short',
        day: 'numeric',
        year: 'numeric',
    }), ", ").concat(intl.formatTime(date, {
        hour: 'numeric',
        minute: 'numeric',
    }));
};
export var formatDateShort = function (value) {
    var date = new Date(value);
    return "".concat(intl.formatDate(date, {
        month: 'short',
        day: 'numeric',
    }));
};
export var formatHash = function (hash, visibleHashLength) {
    if (visibleHashLength === void 0) { visibleHashLength = HashLength.TINY; }
    var MIN_TRUNCATE_HASH_LENGTH = HashLength.TINY * 2 + 3;
    var _a = hash.split('-'), hashWithoutSuffix = _a[0], lastDigits = _a[1];
    var hashLength = hashWithoutSuffix.length;
    if (visibleHashLength === HashLength.FULL ||
        hashLength <= MIN_TRUNCATE_HASH_LENGTH) {
        return hash;
    }
    var firstPart = hashWithoutSuffix.substring(0, visibleHashLength);
    var secondPart = hashWithoutSuffix.substring(hashLength - visibleHashLength);
    var truncatedHash = "".concat(firstPart, "...").concat(secondPart);
    return lastDigits ? "".concat(truncatedHash, "-").concat(lastDigits) : "".concat(truncatedHash);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWF0dGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvdXRpbHMvZm9ybWF0dGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTdELElBQU0sS0FBSyxHQUFHLGVBQWUsRUFBRSxDQUFDO0FBQ2hDLElBQU0sSUFBSSxHQUFHLFVBQVUsQ0FDckI7SUFDRSxNQUFNLEVBQUUsT0FBTztJQUNmLFFBQVEsRUFBRTtRQUNSLCtCQUErQixFQUFFLFNBQVM7S0FDM0M7Q0FDRixFQUNELEtBQUssQ0FDTixDQUFDO0FBRUYsTUFBTSxDQUFOLElBQVksVUFPWDtBQVBELFdBQVksVUFBVTtJQUNwQiwyQ0FBUSxDQUFBO0lBQ1IsMkNBQVEsQ0FBQTtJQUNSLGdEQUFXLENBQUE7SUFDWCw4Q0FBVSxDQUFBO0lBQ1YsZ0RBQVcsQ0FBQTtJQUNYLDhDQUFVLENBQUE7QUFDWixDQUFDLEVBUFcsVUFBVSxLQUFWLFVBQVUsUUFPckI7QUFFRCxNQUFNLENBQUMsSUFBTSxpQkFBaUIsR0FBRyxDQUFDLENBQUM7QUFDbkMsTUFBTSxDQUFDLElBQU0sY0FBYyxHQUFHLENBQUMsQ0FBQztBQUVoQyxJQUFNLG9CQUFvQixHQUFHO0lBQzNCLGdCQUFnQixFQUFFLFFBQVE7SUFDMUIsUUFBUSxFQUFFLFFBQVE7SUFDbEIsZ0JBQWdCLEVBQUUsUUFBUTtJQUMxQixRQUFRLEVBQUUsUUFBUTtJQUNsQixNQUFNLEVBQUUsTUFBTTtJQUNkLEtBQUssRUFBRSxLQUFLO0lBQ1osT0FBTyxFQUFFLE9BQU87SUFDaEIsTUFBTSxFQUFFLE1BQU07Q0FDZixDQUFDO0FBRUYsSUFBTSwyQkFBMkIsR0FBRztJQUNsQyxFQUFFO0lBQ0YsR0FBRztJQUNILEdBQUc7SUFDSCxHQUFHO0lBQ0gsR0FBRztJQUNILElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNK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S0FDZixDQUFDLENBQUUsQ0FBQztBQUNQLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLFVBQVUsR0FBRyxVQUN4QixJQUFZLEVBQ1osaUJBQStDO0lBQS9DLGtDQUFBLEVBQUEsb0JBQWdDLFVBQVUsQ0FBQyxJQUFJO0lBRS9DLElBQU0sd0JBQXdCLEdBQUcsVUFBVSxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRW5ELElBQUEsS0FBa0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBaEQsaUJBQWlCLFFBQUEsRUFBRSxVQUFVLFFBQW1CLENBQUM7SUFFeEQsSUFBTSxVQUFVLEdBQUcsaUJBQWlCLENBQUMsTUFBTSxDQUFDO0lBRTVDLElBQ0UsaUJBQWlCLEtBQUssVUFBVSxDQUFDLElBQUk7UUFDckMsVUFBVSxJQUFJLHdCQUF3QixFQUN0QztRQUNBLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFFRCxJQUFNLFNBQVMsR0FBRyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLGlCQUFpQixDQUFDLENBQUM7SUFDcEUsSUFBTSxVQUFVLEdBQUcsaUJBQWlCLENBQUMsU0FBUyxDQUM1QyxVQUFVLEdBQUcsaUJBQWlCLENBQy9CLENBQUM7SUFFRixJQUFNLGFBQWEsR0FBRyxVQUFHLFNBQVMsZ0JBQU0sVUFBVSxDQUFFLENBQUM7SUFFckQsT0FBTyxVQUFVLENBQUMsQ0FBQyxDQUFDLFVBQUcsYUFBYSxjQUFJLFVBQVUsQ0FBRSxDQUFDLENBQUMsQ0FBQyxVQUFHLGFBQWEsQ0FBRSxDQUFDO0FBQzVFLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUludGwsIGNyZWF0ZUludGxDYWNoZSB9IGZyb20gJ0Bmb3JtYXRqcy9pbnRsJztcblxuY29uc3QgY2FjaGUgPSBjcmVhdGVJbnRsQ2FjaGUoKTtcbmNvbnN0IGludGwgPSBjcmVhdGVJbnRsKFxuICB7XG4gICAgbG9jYWxlOiAnZW4tVVMnLFxuICAgIG1lc3NhZ2VzOiB7XG4gICAgICAnY29tcG9uZW50cy50cmFuc2FjdGlvbl9zdGF0dXMnOiAnU3VjY2VzcycsXG4gICAgfSxcbiAgfSxcbiAgY2FjaGVcbik7XG5cbmV4cG9ydCBlbnVtIEhhc2hMZW5ndGgge1xuICBGVUxMID0gMCxcbiAgVElOWSA9IDUsXG4gIExJVFRMRSA9IDEwLFxuICBTTUFMTCA9IDE1LFxuICBNRURJVU0gPSAyMCxcbiAgTEFSR0UgPSAyNSxcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfUFJFQ0lTSU9OID0gNTtcbmV4cG9ydCBjb25zdCBGVUxMX1BSRUNJU0lPTiA9IDk7XG5cbmNvbnN0IGZvcm1hdERpc3RhbmNlVG9rZW5zID0ge1xuICBsZXNzVGhhblhTZWNvbmRzOiAnc2Vjb25kJyxcbiAgeFNlY29uZHM6ICdzZWNvbmQnLFxuICBsZXNzVGhhblhNaW51dGVzOiAnbWludXRlJyxcbiAgeE1pbnV0ZXM6ICdtaW51dGUnLFxuICB4SG91cnM6ICdob3VyJyxcbiAgeERheXM6ICdkYXknLFxuICB4TW9udGhzOiAnbW9udGgnLFxuICB4WWVhcnM6ICd5ZWFyJyxcbn07XG5cbmNvbnN0IEJJR19OVU1CRVJTX05PVEFUSU9OX1NZTUJPTCA9IFtcbiAgJycsXG4gICdrJywgLy9UaG91c2FuZFxuICAnTScsIC8vTWlsbGlvblxuICAnQicsIC8vQmlsbGlvblxuICAnVCcsIC8vVHJpbGxpb25cbiAgJ1FhJywgLy9RdWFkcmlsbGlvblxuICAnUWknLCAvL1F1aW50aWxsaW9uXG4gICdTeCcsIC8vU2V4dGlsbGlvblxuICAnU3AnLCAvL1NlcHRpbGxpb25cbiAgJ08nLCAvL09jdGlsbGlvblxuICAnTicsIC8vTm9uaWxsaW9uXG4gICdEJywgLy9EZWNpbGxpb25cbiAgJ1VkJywgLy9VbmRlY2lsbGlvblxuICAnRGQnLCAvL0R1b2RlY2lsbGlvblxuICAnVGQnLCAvL1RyZWRlY2lsbGlvblxuICAnUWFkJywgLy9RdWF0dHVvcmRlY2lsbGlvblxuICAnUWlkJywgLy9RdWluZGVjaWxsaW9uXG4gICdTeGQnLCAvL1NleGRlY2lsbGlvblxuICAnU3BkJywgLy9TZXB0ZW5kZWNpbGxpb25cbiAgJ09kJywgLy9PY3RvZGVjaWxsaW9uXG4gICdOZCcsIC8vTm92ZW1kZWNpbGxpb25cbiAgJ1YnLCAvL1ZpZ2ludGlsbGlvblxuICAnVXYnLCAvL1VudmlnaW50aWxsaW9uXG4gICdEdicsIC8vRHVvdmlnaW50aWxsaW9uXG4gICdUdicsIC8vVHJldmlnaW50aWxsaW9uXG4gICdRYXYnLCAvL1F1YXR0dW9ydmlnaW50aWxsaW9uXG4gICdRaXYnLCAvL1F1aW52aWdpbnRpbGxpb25cbiAgJ1N4dicsIC8vU2V4dmlnaW50aWxsaW9uXG4gICdTcHYnLCAvL1NlcHRlbnZpZ2ludGlsbGlvblxuICAnT3YnLCAvL09jdG92aWdpbnRpbGxpb25cbiAgJ052JywgLy9Ob3ZlbXZpZ2ludGlsbGlvblxuICAnVHInLCAvL1RyaWdpbnRpbGxpb25cbiAgJ1V0JywgLy9VbnRyaWdpbnRpbGxpb25cbiAgJ0R0JywgLy9EdW90cmlnaW50aWxsaW9uXG4gICdHJywgLy9Hb29nb2xcbiAgJ1R0JywgLy9UcmV0cmlnaW50aWxsaW9uXG5dO1xuXG5leHBvcnQgY29uc3QgZm9ybWF0QmlnTnVtYmVycyA9ICh2YWx1ZSkgPT4ge1xuICAvLyBkZXRlcm1pbmVzIHN5bWJvbFxuICBjb25zdCB0aWVyID0gKE1hdGgubG9nMTAoTWF0aC5hYnModmFsdWUpKSAvIDMpIHwgMDtcbiAgY29uc3QgdGllcnNXaXRob3V0U3VmZml4ZXMgPSBbMCwgMSwgMl07XG5cbiAgaWYgKHRpZXJzV2l0aG91dFN1ZmZpeGVzLmluY2x1ZGVzKHRpZXIpKSB7XG4gICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWx1ZSwge1xuICAgICAgcHJlY2lzaW9uOiA1LFxuICAgIH0pO1xuICB9XG5cbiAgLy8gZ2V0IHN1ZmZpeCBhbmQgZGV0ZXJtaW5lIHNjYWxlXG4gIGNvbnN0IHN1ZmZpeCA9IEJJR19OVU1CRVJTX05PVEFUSU9OX1NZTUJPTFt0aWVyXTtcbiAgY29uc3Qgc2NhbGUgPSBNYXRoLnBvdygxMCwgdGllciAqIDMpO1xuXG4gIGNvbnN0IHNjYWxlZE51bWJlciA9IHZhbHVlIC8gc2NhbGU7XG5cbiAgcmV0dXJuIHNjYWxlZE51bWJlci50b0ZpeGVkKDUpICsgc3VmZml4O1xufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdE51bWJlciA9IChcbiAgdmFsdWU6IG51bWJlciB8IHN0cmluZyxcbiAge1xuICAgIHByZWNpc2lvbixcbiAgICBub3RhdGlvbixcbiAgICBjb21wYWN0RGlzcGxheSxcbiAgfToge1xuICAgIHByZWNpc2lvbj86IG51bWJlcjtcbiAgICBub3RhdGlvbj86ICdjb21wYWN0JyB8ICdzdGFuZGFyZCc7XG4gICAgY29tcGFjdERpc3BsYXk/OiAnc2hvcnQnIHwgJ2xvbmcnO1xuICB9ID0ge31cbik6IHN0cmluZyA9PiB7XG4gIHJldHVybiBpbnRsLmZvcm1hdE51bWJlcih2YWx1ZSBhcyBudW1iZXIsIHtcbiAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IHByZWNpc2lvbiB8fCAwLFxuICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogcHJlY2lzaW9uIHx8IDAsXG4gICAgbm90YXRpb24sXG4gICAgY29tcGFjdERpc3BsYXksXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdEN1cnJlbmN5ID0gKFxuICB2YWx1ZTogbnVtYmVyIHwgc3RyaW5nLFxuICBjb2RlOiBzdHJpbmcsXG4gIHtcbiAgICBwcmVjaXNpb24sXG4gIH06IHtcbiAgICBwcmVjaXNpb24/OiBudW1iZXI7XG4gIH0gPSB7fVxuKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIGludGwuZm9ybWF0TnVtYmVyKHZhbHVlIGFzIG51bWJlciwge1xuICAgIHN0eWxlOiAnY3VycmVuY3knLFxuICAgIGN1cnJlbmN5OiBjb2RlLFxuICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogcHJlY2lzaW9uLFxuICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogcHJlY2lzaW9uLFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBmb3JtYXRUaW1lc3RhbXAgPSAodmFsdWU6IHN0cmluZywgbG9jYWxlID0gJ2VuJyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gIGNvbnN0IG5hdGl2ZUludGwgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsb2NhbGUsIHtcbiAgICBtb250aDogJ3Nob3J0JyxcbiAgICBkYXk6ICdudW1lcmljJyxcbiAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgaG91cjogJ251bWVyaWMnLFxuICAgIG1pbnV0ZTogJ251bWVyaWMnLFxuICAgIHNlY29uZDogJ251bWVyaWMnLFxuICAgIHRpbWVab25lTmFtZTogJ3Nob3J0JyxcbiAgfSk7XG5cbiAgcmV0dXJuIGAke25hdGl2ZUludGwuZm9ybWF0KGRhdGUpfWA7XG59O1xuXG5leHBvcnQgY29uc3QgZm9ybWF0RGlzdGFuY2UgPSAodG9rZW4sIGNvdW50LCBvcHRpb25zKSA9PiB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBsb2NhbGUgPSBvcHRpb25zLmxvY2FsZS5jb2RlIHx8ICdlbic7XG5cbiAgcmV0dXJuIG5ldyAoSW50bCBhcyBhbnkpLlJlbGF0aXZlVGltZUZvcm1hdChsb2NhbGUsIHtcbiAgICBzdHlsZTogJ3Nob3J0JyxcbiAgfSlcbiAgICAuZm9ybWF0KC1jb3VudCwgZm9ybWF0RGlzdGFuY2VUb2tlbnNbdG9rZW5dKVxuICAgIC5yZXBsYWNlKCcuJywgJycpO1xufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdERhdGUgPSAodmFsdWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gIHJldHVybiBgJHtpbnRsLmZvcm1hdERhdGUoZGF0ZSwge1xuICAgIG1vbnRoOiAnc2hvcnQnLFxuICAgIGRheTogJ251bWVyaWMnLFxuICAgIHllYXI6ICdudW1lcmljJyxcbiAgfSl9LCAke2ludGwuZm9ybWF0VGltZShkYXRlLCB7XG4gICAgaG91cjogJ251bWVyaWMnLFxuICAgIG1pbnV0ZTogJ251bWVyaWMnLFxuICB9KX1gO1xufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdERhdGVTaG9ydCA9ICh2YWx1ZTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgcmV0dXJuIGAke2ludGwuZm9ybWF0RGF0ZShkYXRlLCB7XG4gICAgbW9udGg6ICdzaG9ydCcsXG4gICAgZGF5OiAnbnVtZXJpYycsXG4gIH0pfWA7XG59O1xuXG5leHBvcnQgY29uc3QgZm9ybWF0SGFzaCA9IChcbiAgaGFzaDogc3RyaW5nLFxuICB2aXNpYmxlSGFzaExlbmd0aDogSGFzaExlbmd0aCA9IEhhc2hMZW5ndGguVElOWVxuKSA9PiB7XG4gIGNvbnN0IE1JTl9UUlVOQ0FURV9IQVNIX0xFTkdUSCA9IEhhc2hMZW5ndGguVElOWSAqIDIgKyAzO1xuXG4gIGNvbnN0IFtoYXNoV2l0aG91dFN1ZmZpeCwgbGFzdERpZ2l0c10gPSBoYXNoLnNwbGl0KCctJyk7XG5cbiAgY29uc3QgaGFzaExlbmd0aCA9IGhhc2hXaXRob3V0U3VmZml4Lmxlbmd0aDtcblxuICBpZiAoXG4gICAgdmlzaWJsZUhhc2hMZW5ndGggPT09IEhhc2hMZW5ndGguRlVMTCB8fFxuICAgIGhhc2hMZW5ndGggPD0gTUlOX1RSVU5DQVRFX0hBU0hfTEVOR1RIXG4gICkge1xuICAgIHJldHVybiBoYXNoO1xuICB9XG5cbiAgY29uc3QgZmlyc3RQYXJ0ID0gaGFzaFdpdGhvdXRTdWZmaXguc3Vic3RyaW5nKDAsIHZpc2libGVIYXNoTGVuZ3RoKTtcbiAgY29uc3Qgc2Vjb25kUGFydCA9IGhhc2hXaXRob3V0U3VmZml4LnN1YnN0cmluZyhcbiAgICBoYXNoTGVuZ3RoIC0gdmlzaWJsZUhhc2hMZW5ndGhcbiAgKTtcblxuICBjb25zdCB0cnVuY2F0ZWRIYXNoID0gYCR7Zmlyc3RQYXJ0fS4uLiR7c2Vjb25kUGFydH1gO1xuXG4gIHJldHVybiBsYXN0RGlnaXRzID8gYCR7dHJ1bmNhdGVkSGFzaH0tJHtsYXN0RGlnaXRzfWAgOiBgJHt0cnVuY2F0ZWRIYXNofWA7XG59O1xuXG4iXX0=