import { jsx as _jsx } from "react/jsx-runtime";
import React from 'react';
import styled from 'styled-components';
import { matchSize } from '../../utils/match-size';
const BaseButton = styled.button(({ theme, disabled, height = '36', width = '100%', lineHeight = 'sm', hasOutline = false, }) => ({
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'center',
    border: 'none',
    borderRadius: theme.borderRadius.base,
    fontFamily: theme.typography.fontFamily.primary,
    fontWeight: matchSize({
        '24': theme.typography.fontWeight.medium,
        '36': theme.typography.fontWeight.medium,
        '40': theme.typography.fontWeight.semiBold,
    }, height),
    fontSize: matchSize({ '24': '0.688rem', '36': '0.875rem', '40': '0.875rem' }, height),
    minHeight: matchSize({ '24': 24, '36': 36, '40': 40 }, height),
    lineHeight: matchSize({
        sm: '1.5rem',
        xs: '1.25rem',
    }, lineHeight),
    padding: matchSize({ '24': '2px 10px', '36': '8px 25px', '40': '10px 30px' }, height),
    width: matchSize({
        '100': '100px',
        '120': '120px',
        '140': '140px',
        '176': '176px',
        '100%': '100%',
    }, width),
    ...(!hasOutline && {
        ':focus': {
            outline: 'none',
        },
    }),
    ...(disabled && {
        pointerEvents: 'none',
    }),
}));
const PrimaryBlueButton = styled(BaseButton)(({ theme, disabled }) => ({
    color: theme.styleguideColors.contentOnFill,
    background: theme.styleguideColors.fillPrimaryBlue,
    ': hover': {
        background: theme.styleguideColors.fillPrimaryBlueHover,
    },
    ': active': {
        background: theme.styleguideColors.fillPrimaryBlueClick,
    },
    ...(disabled && {
        color: theme.styleguideColors.contentTertiary,
        background: theme.styleguideColors.backgroundSecondary,
    }),
}));
const PrimaryRedButton = styled(BaseButton)(({ theme, disabled }) => ({
    color: theme.styleguideColors.contentOnFill,
    background: theme.styleguideColors.fillPrimaryRed,
    ': hover': {
        background: theme.styleguideColors.fillPrimaryRedHover,
    },
    ': active': {
        background: theme.styleguideColors.fillPrimaryRedClick,
    },
    ...(disabled && {
        color: theme.styleguideColors.contentTertiary,
        background: theme.styleguideColors.fillSecondary,
    }),
}));
const SecondaryBlueButton = styled(BaseButton)(({ theme, disabled }) => ({
    color: theme.styleguideColors.contentBlue,
    background: theme.styleguideColors.fillSecondary,
    ': hover': {
        background: theme.styleguideColors.fillSecondaryBlueHover,
        borderColor: 'transparent',
    },
    ': active': {
        background: theme.styleguideColors.fillSecondaryBlueClick,
        borderColor: 'transparent',
    },
    ...(disabled && {
        color: theme.styleguideColors.contentTertiary,
        background: theme.styleguideColors.backgroundPrimary,
    }),
}));
const SecondaryRedButton = styled(BaseButton)(({ theme, disabled }) => ({
    color: theme.styleguideColors.contentRed,
    background: theme.styleguideColors.fillSecondary,
    ': hover': {
        background: theme.styleguideColors.fillSecondaryRedHover,
    },
    ': active': {
        background: theme.styleguideColors.fillSecondaryRedClick,
    },
    ...(disabled && {
        color: theme.styleguideColors.contentTertiary,
        background: theme.styleguideColors.fillSecondary,
    }),
}));
const UtilityButton = styled(BaseButton)(({ theme, disabled }) => ({
    color: theme.styleguideColors.fillPrimaryRed,
    background: theme.styleguideColors.backgroundSecondary,
    ': hover': {
        background: theme.styleguideColors.fillSecondaryRedHover,
    },
    ': active': {
        background: theme.styleguideColors.fillSecondaryRedClick,
    },
    ...(disabled && {
        color: theme.styleguideColors.contentTertiary,
        background: theme.styleguideColors.backgroundPrimary,
    }),
}));
const COMPONENT_MAP_BY_COLOR = {
    primaryBlue: PrimaryBlueButton,
    primaryRed: PrimaryRedButton,
    secondaryBlue: SecondaryBlueButton,
    secondaryRed: SecondaryRedButton,
    utility: UtilityButton,
};
export const Button = React.forwardRef(function Button({ color = 'primaryBlue', ...props }, ref) {
    const ButtonComponent = COMPONENT_MAP_BY_COLOR[color] || PrimaryBlueButton;
    return (_jsx(ButtonComponent, { ref: ref, color: color, "aria-disabled": !!props.disabled, tabIndex: 0, ...props }));
});
export default Button;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnV0dG9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xpYi9jb21wb25lbnRzL2J1dHRvbi9idXR0b24udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUM7QUFDMUIsT0FBTyxNQUFNLE1BQU0sbUJBQW1CLENBQUM7QUFFdkMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBRW5ELE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQzlCLENBQUMsRUFDQyxLQUFLLEVBQ0wsUUFBUSxFQUNSLE1BQU0sR0FBRyxJQUFJLEVBQ2IsS0FBSyxHQUFHLE1BQU0sRUFDZCxVQUFVLEdBQUcsSUFBSSxFQUNqQixVQUFVLEdBQUcsS0FBSyxHQUNuQixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ0wsT0FBTyxFQUFFLE1BQU07SUFDZixVQUFVLEVBQUUsUUFBUTtJQUNwQixjQUFjLEVBQUUsUUFBUTtJQUN4QixNQUFNLEVBQUUsTUFBTTtJQUNkLFlBQVksRUFBRSxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUk7SUFDckMsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLE9BQU87SUFDL0MsVUFBVSxFQUFFLFNBQVMsQ0FDbkI7UUFDRSxJQUFJLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTTtRQUN4QyxJQUFJLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTTtRQUN4QyxJQUFJLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsUUFBUTtLQUMzQyxFQUNELE1BQU0sQ0FDUDtJQUNELFFBQVEsRUFBRSxTQUFTLENBQ2pCLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsRUFDeEQsTUFBTSxDQUNQO0lBQ0Qs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QUFDLHFCQUFxQjtLQUN6RDtJQUNELFVBQVUsRUFBRTtRQUNWLFVBQVUsRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCO0tBQ3pEO0lBRUQsR0FBRyxDQUFDLFFBQVEsSUFBSTtRQUNkLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsZUFBZTtRQUM3QyxVQUFVLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixDQUFDLGlCQUFpQjtLQUNyRCxDQUFDO0NBQ0gsQ0FBQyxDQUNILENBQUM7QUFFRixNQUFNLHNCQUFzQixHQUFHO0lBQzdCLFdBQVcsRUFBRSxpQkFBaUI7SUFDOUIsVUFBVSxFQUFFLGdCQUFnQjtJQUM1QixhQUFhLEVBQUUsbUJBQW1CO0lBQ2xDLFlBQVksRUFBRSxrQkFBa0I7SUFDaEMsT0FBTyxFQUFFLGFBQWE7Q0FDdkIsQ0FBQztBQXVCRixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBbUIsU0FBUyxNQUFNLENBQ3RFLEVBQUUsS0FBSyxHQUFHLGFBQWEsRUFBRSxHQUFHLEtBQUssRUFBZSxFQUNoRCxHQUFHO0lBRUgsTUFBTSxlQUFlLEdBQUcsc0JBQXNCLENBQUMsS0FBSyxDQUFDLElBQUksaUJBQWlCLENBQUM7SUFDM0UsT0FBTyxDQUNMLEtBQUMsZUFBZSxJQUNkLEdBQUcsRUFBRSxHQUFHLEVBQ1IsS0FBSyxFQUFFLEtBQUssbUJBQ0csQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQy9CLFFBQVEsRUFBRSxDQUFDLEtBQ1AsS0FBSyxHQUNULENBQ0gsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDO0FBRUgsZUFBZSxNQUFNLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5cbmltcG9ydCB7IG1hdGNoU2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL21hdGNoLXNpemUnO1xuXG5jb25zdCBCYXNlQnV0dG9uID0gc3R5bGVkLmJ1dHRvbjxCdXR0b25Qcm9wcz4oXG4gICh7XG4gICAgdGhlbWUsXG4gICAgZGlzYWJsZWQsXG4gICAgaGVpZ2h0ID0gJzM2JyxcbiAgICB3aWR0aCA9ICcxMDAlJyxcbiAgICBsaW5lSGVpZ2h0ID0gJ3NtJyxcbiAgICBoYXNPdXRsaW5lID0gZmFsc2UsXG4gIH0pID0+ICh7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICBib3JkZXI6ICdub25lJyxcbiAgICBib3JkZXJSYWRpdXM6IHRoZW1lLmJvcmRlclJhZGl1cy5iYXNlLFxuICAgIGZvbnRGYW1pbHk6IHRoZW1lLnR5cG9ncmFwaHkuZm9udEZhbWlseS5wcmltYXJ5LFxuICAgIGZvbnRXZWlnaHQ6IG1hdGNoU2l6ZShcbiAgICAgIHtcbiAgICAgICAgJzI0JzogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0Lm1lZGl1bSxcbiAgICAgICAgJzM2JzogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0Lm1lZGl1bSxcbiAgICAgICAgJzQwJzogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0LnNlbWlCb2xkLFxuICAgICAgfSxcbiAgICAgIGhlaWdodCxcbiAgICApLFxuICAgIGZvbnRTaXplOiBtYXRjaFNpemUoXG4gICAgICB7ICcyNCc6ICcwLjY4OHJlbScsICczNic6ICcwLjg3NXJlbScsICc0MCc6ICcwLjg3NXJlbScgfSxcbiAgICAgIGhlaWdodCxcbiAgICApLFxuICAgIG1pbkhlaWdodDogbWF0Y2hTaXplKHsgJzI0JzogMjQsICczNic6IDM2LCAnNDAnOiA0MCB9LCBoZWlnaHQpLFxuICAgIGxpbmVIZWlnaHQ6IG1hdGNoU2l6ZShcbiAgICAgIHtcbiAgICAgICAgc206ICcxLjVyZW0nLFxuICAgICAgICB4czogJzEuMjVyZW0nLFxuICAgICAgfSxcbiAgICAgIGxpbmVIZWlnaHQsXG4gICAgKSxcbiAgICBwYWRkaW5nOiBtYXRjaFNpemUoXG4gICAgICB7ICcyNCc6ICcycHggMTBweCcsICczNic6ICc4cHggMjVweCcsICc0MCc6ICcxMHB4IDMwcHgnIH0sXG4gICAgICBoZWlnaHQsXG4gICAgKSxcbiAgICB3aWR0aDogbWF0Y2hTaXplKFxuICAgICAge1xuICAgICAgICAnMTAwJzogJzEwMHB4JyxcbiAgICAgICAgJzEyMCc6ICcxMjBweCcsXG4gICAgICAgICcxNDAnOiAnMTQwcHgnLFxuICAgICAgICAnMTc2JzogJzE3NnB4JyxcbiAgICAgICAgJzEwMCUnOiAnMTAwJScsXG4gICAgICB9LFxuICAgICAgd2lkdGgsXG4gICAgKSxcblxuICAgIC4uLighaGFzT3V0bGluZSAmJiB7XG4gICAgICAnOmZvY3VzJzoge1xuICAgICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICB9LFxuICAgIH0pLFxuXG4gICAgLi4uKGRpc2FibGVkICYmIHtcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICB9KSxcbiAgfSksXG4pO1xuXG5jb25zdCBQcmltYXJ5Qmx1ZUJ1dHRvbiA9IHN0eWxlZChCYXNlQnV0dG9uKTxCdXR0b25Qcm9wcz4oXG4gICh7IHRoZW1lLCBkaXNhYmxlZCB9KSA9PiAoe1xuICAgIGNvbG9yOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRPbkZpbGwsXG4gICAgYmFja2dyb3VuZDogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5maWxsUHJpbWFyeUJsdWUsXG5cbiAgICAnOiBob3Zlcic6IHtcbiAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuZmlsbFByaW1hcnlCbHVlSG92ZXIsXG4gICAgfSxcbiAgICAnOiBhY3RpdmUnOiB7XG4gICAgICBiYWNrZ3JvdW5kOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmZpbGxQcmltYXJ5Qmx1ZUNsaWNrLFxuICAgIH0sXG5cbiAgICAuLi4oZGlzYWJsZWQgJiYge1xuICAgICAgY29sb3I6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuY29udGVudFRlcnRpYXJ5LFxuICAgICAgYmFja2dyb3VuZDogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5iYWNrZ3JvdW5kU2Vjb25kYXJ5LFxuICAgIH0pLFxuICB9KSxcbik7XG5cbmNvbnN0IFByaW1hcnlSZWRCdXR0b24gPSBzdHlsZWQoQmFzZUJ1dHRvbik8QnV0dG9uUHJvcHM+KFxuICAoeyB0aGVtZSwgZGlzYWJsZWQgfSkgPT4gKHtcbiAgICBjb2xvcjogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5jb250ZW50T25GaWxsLFxuICAgIGJhY2tncm91bmQ6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuZmlsbFByaW1hcnlSZWQsXG5cbiAgICAnOiBob3Zlcic6IHtcbiAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuZmlsbFByaW1hcnlSZWRIb3ZlcixcbiAgICB9LFxuICAgICc6IGFjdGl2ZSc6IHtcbiAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuZmlsbFByaW1hcnlSZWRDbGljayxcbiAgICB9LFxuXG4gICAgLi4uKGRpc2FibGVkICYmIHtcbiAgICAgIGNvbG9yOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRUZXJ0aWFyeSxcbiAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuZmlsbFNlY29uZGFyeSxcbiAgICB9KSxcbiAgfSksXG4pO1xuXG5jb25zdCBTZWNvbmRhcnlCbHVlQnV0dG9uID0gc3R5bGVkKEJhc2VCdXR0b24pPEJ1dHRvblByb3BzPihcbiAgKHsgdGhlbWUsIGRpc2FibGVkIH0pID0+ICh7XG4gICAgY29sb3I6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuY29udGVudEJsdWUsXG4gICAgYmFja2dyb3VuZDogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5maWxsU2Vjb25kYXJ5LFxuXG4gICAgJzogaG92ZXInOiB7XG4gICAgICBiYWNrZ3JvdW5kOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmZpbGxTZWNvbmRhcnlCbHVlSG92ZXIsXG4gICAgICBib3JkZXJDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICB9LFxuICAgICc6IGFjdGl2ZSc6IHtcbiAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuZmlsbFNlY29uZGFyeUJsdWVDbGljayxcbiAgICAgIGJvcmRlckNvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgIH0sXG5cbiAgICAuLi4oZGlzYWJsZWQgJiYge1xuICAgICAgY29sb3I6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuY29udGVudFRlcnRpYXJ5LFxuICAgICAgYmFja2dyb3VuZDogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5iYWNrZ3JvdW5kUHJpbWFyeSxcbiAgICB9KSxcbiAgfSksXG4pO1xuXG5jb25zdCBTZWNvbmRhcnlSZWRCdXR0b24gPSBzdHlsZWQoQmFzZUJ1dHRvbik8QnV0dG9uUHJvcHM+KFxuICAoeyB0aGVtZSwgZGlzYWJsZWQgfSkgPT4gKHtcbiAgICBjb2xvcjogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5jb250ZW50UmVkLFxuICAgIGJhY2tncm91bmQ6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuZmlsbFNlY29uZGFyeSxcblxuICAgICc6IGhvdmVyJzoge1xuICAgICAgYmFja2dyb3VuZDogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5maWxsU2Vjb25kYXJ5UmVkSG92ZXIsXG4gICAgfSxcbiAgICAnOiBhY3RpdmUnOiB7XG4gICAgICBiYWNrZ3JvdW5kOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmZpbGxTZWNvbmRhcnlSZWRDbGljayxcbiAgICB9LFxuXG4gICAgLi4uKGRpc2FibGVkICYmIHtcbiAgICAgIGNvbG9yOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRUZXJ0aWFyeSxcbiAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuZmlsbFNlY29uZGFyeSxcbiAgICB9KSxcbiAgfSksXG4pO1xuXG5jb25zdCBVdGlsaXR5QnV0dG9uID0gc3R5bGVkKEJhc2VCdXR0b24pPEJ1dHRvblByb3BzPihcbiAgKHsgdGhlbWUsIGRpc2FibGVkIH0pID0+ICh7XG4gICAgY29sb3I6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuZmlsbFByaW1hcnlSZWQsXG4gICAgYmFja2dyb3VuZDogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5iYWNrZ3JvdW5kU2Vjb25kYXJ5LFxuXG4gICAgJzogaG92ZXInOiB7XG4gICAgICBiYWNrZ3JvdW5kOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmZpbGxTZWNvbmRhcnlSZWRIb3ZlcixcbiAgICB9LFxuICAgICc6IGFjdGl2ZSc6IHtcbiAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuZmlsbFNlY29uZGFyeVJlZENsaWNrLFxuICAgIH0sXG5cbiAgICAuLi4oZGlzYWJsZWQgJiYge1xuICAgICAgY29sb3I6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuY29udGVudFRlcnRpYXJ5LFxuICAgICAgYmFja2dyb3VuZDogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5iYWNrZ3JvdW5kUHJpbWFyeSxcbiAgICB9KSxcbiAgfSksXG4pO1xuXG5jb25zdCBDT01QT05FTlRfTUFQX0JZX0NPTE9SID0ge1xuICBwcmltYXJ5Qmx1ZTogUHJpbWFyeUJsdWVCdXR0b24sXG4gIHByaW1hcnlSZWQ6IFByaW1hcnlSZWRCdXR0b24sXG4gIHNlY29uZGFyeUJsdWU6IFNlY29uZGFyeUJsdWVCdXR0b24sXG4gIHNlY29uZGFyeVJlZDogU2Vjb25kYXJ5UmVkQnV0dG9uLFxuICB1dGlsaXR5OiBVdGlsaXR5QnV0dG9uLFxufTtcblxuZXhwb3J0IHR5cGUgQnV0dG9uU2l6ZSA9ICdzbWFsbCcgfCAnbm9ybWFsJyB8ICdiaWcnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnV0dG9uUHJvcHNcbiAgZXh0ZW5kcyBSZWFjdC5CdXR0b25IVE1MQXR0cmlidXRlczxIVE1MQnV0dG9uRWxlbWVudD4ge1xuICBvbkNsaWNrPzogKGV2KSA9PiB2b2lkO1xuICBjb2xvcj86XG4gICAgfCAncHJpbWFyeUJsdWUnXG4gICAgfCAncHJpbWFyeVJlZCdcbiAgICB8ICdzZWNvbmRhcnlCbHVlJ1xuICAgIHwgJ3NlY29uZGFyeVJlZCdcbiAgICB8ICd1dGlsaXR5JztcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICBoZWlnaHQ/OiAnMjQnIHwgJzM2JyB8ICc0MCc7XG4gIHdpZHRoPzogJzEwMCcgfCAnMTIwJyB8ICcxNDAnIHwgJzE3NicgfCAnMTAwJSc7XG4gIGxpbmVIZWlnaHQ/OiAneHMnIHwgJ3NtJztcbiAgaGFzT3V0bGluZT86IGJvb2xlYW47XG59XG5cbnR5cGUgUmVmID0gSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cbmV4cG9ydCBjb25zdCBCdXR0b24gPSBSZWFjdC5mb3J3YXJkUmVmPFJlZiwgQnV0dG9uUHJvcHM+KGZ1bmN0aW9uIEJ1dHRvbihcbiAgeyBjb2xvciA9ICdwcmltYXJ5Qmx1ZScsIC4uLnByb3BzIH06IEJ1dHRvblByb3BzLFxuICByZWYsXG4pIHtcbiAgY29uc3QgQnV0dG9uQ29tcG9uZW50ID0gQ09NUE9ORU5UX01BUF9CWV9DT0xPUltjb2xvcl0gfHwgUHJpbWFyeUJsdWVCdXR0b247XG4gIHJldHVybiAoXG4gICAgPEJ1dHRvbkNvbXBvbmVudFxuICAgICAgcmVmPXtyZWZ9XG4gICAgICBjb2xvcj17Y29sb3J9XG4gICAgICBhcmlhLWRpc2FibGVkPXshIXByb3BzLmRpc2FibGVkfVxuICAgICAgdGFiSW5kZXg9ezB9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b247XG4iXX0=