import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import React from 'react';
import styled from 'styled-components';
import { FlexColumn } from '../flex-column/flex-column';
import { FlexRow } from '../flex-row/flex-row';
import { CaptionText } from '../caption-text/caption-text';
import { SvgIcon } from '../svg-icon/svg-icon';
import CheckIcon from '../../assets/icons/ic-check.svg';
const StepWrapper = styled(FlexColumn)(({}) => ({
    position: 'relative',
}));
const StepText = styled(CaptionText)(({ theme, disabled, isFirstStep, isLastStep, isCheckedStep }) => theme.withMedia({
    color: disabled
        ? theme.styleguideColors.contentTertiary
        : theme.styleguideColors.contentBlue,
    position: 'absolute',
    bottom: 30,
    whiteSpace: ['inherit', 'nowrap', 'nowrap'],
    ...(isCheckedStep &&
        !isLastStep && {
        color: theme.styleguideColors.contentTertiary,
    }),
    ...(isFirstStep && {
        left: 0,
    }),
    ...(isLastStep && {
        right: 0,
    }),
}));
const StepContainer = styled(FlexRow)(({ theme, disabled, checked }) => ({
    borderRadius: '50%',
    border: `2px solid ${disabled
        ? theme.styleguideColors.contentQuaternary
        : theme.styleguideColors.contentBlue}`,
    background: checked
        ? disabled
            ? theme.styleguideColors.contentQuaternary
            : theme.styleguideColors.contentBlue
        : theme.styleguideColors.backgroundPrimary,
    width: 24,
    height: 24,
    '& svg': {
        path: {
            fill: theme.styleguideColors.backgroundPrimary,
        },
    },
}));
const Circle = styled.div(({ theme, disabled }) => ({
    borderRadius: '50%',
    background: disabled
        ? theme.styleguideColors.contentQuaternary
        : theme.styleguideColors.contentBlue,
    width: 12,
    height: 12,
}));
const Line = styled.div(({ theme, disabled }) => ({
    height: 2,
    background: disabled
        ? theme.styleguideColors.contentQuaternary
        : theme.styleguideColors.contentBlue,
    width: '100%',
}));
const renderStep = (label, idx, currentIdx, totalSteps) => {
    const isCurrentStep = idx === currentIdx;
    const isFirstStep = idx === 0;
    const isLastStep = idx === totalSteps - 1;
    const isCompletedStep = idx < currentIdx;
    const isDisabledStep = !isCompletedStep && !isCurrentStep;
    const isCheckedStep = isCompletedStep || isLastStep;
    return (_jsxs(React.Fragment, { children: [!isFirstStep && _jsx(Line, { disabled: isDisabledStep }), _jsxs(StepWrapper, { align: "center", children: [_jsx(StepText, { disabled: isDisabledStep, size: 1, isFirstStep: isFirstStep, isLastStep: isLastStep, isCheckedStep: isCheckedStep, children: label }), _jsx(StepContainer, { disabled: isDisabledStep, checked: isCheckedStep, align: "center", justify: "center", children: isCheckedStep ? (_jsx(SvgIcon, { height: 7, width: 10, src: CheckIcon })) : (_jsx(Circle, { disabled: isDisabledStep })) })] }), !isLastStep && _jsx(Line, { disabled: !isFirstStep && !isCompletedStep })] }, `${idx}-${label}`));
};
export function ProgressLine({ steps, currentIdx }) {
    return (_jsx(FlexRow, { align: "center", children: steps.map((label, idx) => renderStep(label, idx, currentIdx, steps.length)) }));
}
export default ProgressLine;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZ3Jlc3MtbGluZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9wcm9ncmVzcy1saW5lL3Byb2dyZXNzLWxpbmUudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUM7QUFDMUIsT0FBTyxNQUFNLE1BQU0sbUJBQW1CLENBQUM7QUFDdkMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ3hELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDM0QsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQy9DLE9BQU8sU0FBUyxNQUFNLGlDQUFpQyxDQUFDO0FBT3hELE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM5QyxRQUFRLEVBQUUsVUFBVTtDQUNyQixDQUFDLENBQUMsQ0FBQztBQUVKLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FLakMsQ0FBQyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUUsRUFBRSxFQUFFLENBQ2pFLEtBQUssQ0FBQyxTQUFTLENBQUM7SUFDZCxLQUFLLEVBQUUsUUFBUTtRQUNiLENBQUMsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsZUFBZTtRQUN4QyxDQUFDLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFdBQVc7SUFDdEMsUUFBUSxFQUFFLFVBQVU7SUFDcEIsTUFBTSxFQUFFLEVBQUU7SUFDVixVQUFVLEVBQUUsQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQztJQUMzQyxHQUFHLENBQUMsYUFB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Q1AsUUFBUSxFQUFFLGNBQWMsRUFDeEIsSUFBSSxFQUFFLENBQUMsRUFDUCxXQUFXLEVBQUUsV0FBVyxFQUN4QixVQUFVLEVBQUUsVUFBVSxFQUN0QixhQUFhLEVBQUUsYUFBYSxZQUUzQixLQUFLLEdBQ0csRUFDWCxLQUFDLGFBQWEsSUFDWixRQUFRLEVBQUUsY0FBYyxFQUN4QixPQUFPLEVBQUUsYUFBYSxFQUN0QixLQUFLLEVBQUMsUUFBUSxFQUNkLE9BQU8sRUFBQyxRQUFRLFlBRWYsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUNmLEtBQUMsT0FBTyxJQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsU0FBUyxHQUFJLENBQ2xELENBQUMsQ0FBQyxDQUFDLENBQ0YsS0FBQyxNQUFNLElBQUMsUUFBUSxFQUFFLGNBQWMsR0FBSSxDQUNyQyxHQUNhLElBQ0osRUFDYixDQUFDLFVBQVUsSUFBSSxLQUFDLElBQUksSUFBQyxRQUFRLEVBQUUsQ0FBQyxXQUFXLElBQUksQ0FBQyxlQUFlLEdBQUksS0ExQmpELEdBQUcsR0FBRyxJQUFJLEtBQUssRUFBRSxDQTJCckIsQ0FDbEIsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLE1BQU0sVUFBVSxZQUFZLENBQUMsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFxQjtJQUNuRSxPQUFPLENBQ0wsS0FBQyxPQUFPLElBQUMsS0FBSyxFQUFDLFFBQVEsWUFDcEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUN4QixVQUFVLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUNqRCxHQUNPLENBQ1gsQ0FBQztBQUNKLENBQUM7QUFFRCxlQUFlLFlBQVksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IEZsZXhDb2x1bW4gfSBmcm9tICcuLi9mbGV4LWNvbHVtbi9mbGV4LWNvbHVtbic7XG5pbXBvcnQgeyBGbGV4Um93IH0gZnJvbSAnLi4vZmxleC1yb3cvZmxleC1yb3cnO1xuaW1wb3J0IHsgQ2FwdGlvblRleHQgfSBmcm9tICcuLi9jYXB0aW9uLXRleHQvY2FwdGlvbi10ZXh0JztcbmltcG9ydCB7IFN2Z0ljb24gfSBmcm9tICcuLi9zdmctaWNvbi9zdmctaWNvbic7XG5pbXBvcnQgQ2hlY2tJY29uIGZyb20gJy4uLy4uL2Fzc2V0cy9pY29ucy9pYy1jaGVjay5zdmcnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb2dyZXNzTGluZVByb3BzIHtcbiAgc3RlcHM6IHN0cmluZ1tdO1xuICBjdXJyZW50SWR4OiBudW1iZXI7XG59XG5cbmNvbnN0IFN0ZXBXcmFwcGVyID0gc3R5bGVkKEZsZXhDb2x1bW4pKCh7fSkgPT4gKHtcbiAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG59KSk7XG5cbmNvbnN0IFN0ZXBUZXh0ID0gc3R5bGVkKENhcHRpb25UZXh0KTx7XG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgaXNGaXJzdFN0ZXA6IGJvb2xlYW47XG4gIGlzTGFzdFN0ZXA6IGJvb2xlYW47XG4gIGlzQ2hlY2tlZFN0ZXA6IGJvb2xlYW47XG59PigoeyB0aGVtZSwgZGlzYWJsZWQsIGlzRmlyc3RTdGVwLCBpc0xhc3RTdGVwLCBpc0NoZWNrZWRTdGVwIH0pID0+XG4gIHRoZW1lLndpdGhNZWRpYSh7XG4gICAgY29sb3I6IGRpc2FibGVkXG4gICAgICA/IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuY29udGVudFRlcnRpYXJ5XG4gICAgICA6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuY29udGVudEJsdWUsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgYm90dG9tOiAzMCxcbiAgICB3aGl0ZVNwYWNlOiBbJ2luaGVyaXQnLCAnbm93cmFwJywgJ25vd3JhcCddLFxuICAgIC4uLihpc0NoZWNrZWRTdGVwICYmXG4gICAgICAhaXNMYXN0U3RlcCAmJiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRUZXJ0aWFyeSxcbiAgICAgIH0pLFxuICAgIC4uLihpc0ZpcnN0U3RlcCAmJiB7XG4gICAgICBsZWZ0OiAwLFxuICAgIH0pLFxuICAgIC4uLihpc0xhc3RTdGVwICYmIHtcbiAgICAgIHJpZ2h0OiAwLFxuICAgIH0pLFxuICB9KVxuKTtcblxuY29uc3QgU3RlcENvbnRhaW5lciA9IHN0eWxlZChGbGV4Um93KTx7IGRpc2FibGVkOiBib29sZWFuOyBjaGVja2VkOiBib29sZWFuIH0+KFxuICAoeyB0aGVtZSwgZGlzYWJsZWQsIGNoZWNrZWQgfSkgPT4gKHtcbiAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgIGJvcmRlcjogYDJweCBzb2xpZCAke1xuICAgICAgZGlzYWJsZWRcbiAgICAgICAgPyB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRRdWF0ZXJuYXJ5XG4gICAgICAgIDogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5jb250ZW50Qmx1ZVxuICAgIH1gLFxuICAgIGJhY2tncm91bmQ6IGNoZWNrZWRcbiAgICAgID8gZGlzYWJsZWRcbiAgICAgICAgPyB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRRdWF0ZXJuYXJ5XG4gICAgICAgIDogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5jb250ZW50Qmx1ZVxuICAgICAgOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmJhY2tncm91bmRQcmltYXJ5LFxuICAgIHdpZHRoOiAyNCxcbiAgICBoZWlnaHQ6IDI0LFxuICAgICcmIHN2Zyc6IHtcbiAgICAgIHBhdGg6IHtcbiAgICAgICAgZmlsbDogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5iYWNrZ3JvdW5kUHJpbWFyeSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcbik7XG5cbmNvbnN0IENpcmNsZSA9IHN0eWxlZC5kaXY8eyBkaXNhYmxlZD86IGJvb2xlYW4gfT4oKHsgdGhlbWUsIGRpc2FibGVkIH0pID0+ICh7XG4gIGJvcmRlclJhZGl1czogJzUwJScsXG4gIGJhY2tncm91bmQ6IGRpc2FibGVkXG4gICAgPyB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRRdWF0ZXJuYXJ5XG4gICAgOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRCbHVlLFxuICB3aWR0aDogMTIsXG4gIGhlaWdodDogMTIsXG59KSk7XG5cbmNvbnN0IExpbmUgPSBzdHlsZWQuZGl2PHsgZGlzYWJsZWQ/OiBib29sZWFuIH0+KCh7IHRoZW1lLCBkaXNhYmxlZCB9KSA9PiAoe1xuICBoZWlnaHQ6IDIsXG4gIGJhY2tncm91bmQ6IGRpc2FibGVkXG4gICAgPyB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRRdWF0ZXJuYXJ5XG4gICAgOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRCbHVlLFxuICB3aWR0aDogJzEwMCUnLFxufSkpO1xuXG5jb25zdCByZW5kZXJTdGVwID0gKFxuICBsYWJlbDogc3RyaW5nLFxuICBpZHg6IG51bWJlcixcbiAgY3VycmVudElkeDogbnVtYmVyLFxuICB0b3RhbFN0ZXBzOiBudW1iZXJcbikgPT4ge1xuICBjb25zdCBpc0N1cnJlbnRTdGVwID0gaWR4ID09PSBjdXJyZW50SWR4O1xuICBjb25zdCBpc0ZpcnN0U3RlcCA9IGlkeCA9PT0gMDtcbiAgY29uc3QgaXNMYXN0U3RlcCA9IGlkeCA9PT0gdG90YWxTdGVwcyAtIDE7XG5cbiAgY29uc3QgaXNDb21wbGV0ZWRTdGVwID0gaWR4IDwgY3VycmVudElkeDtcblxuICBjb25zdCBpc0Rpc2FibGVkU3RlcCA9ICFpc0NvbXBsZXRlZFN0ZXAgJiYgIWlzQ3VycmVudFN0ZXA7XG4gIGNvbnN0IGlzQ2hlY2tlZFN0ZXAgPSBpc0NvbXBsZXRlZFN0ZXAgfHwgaXNMYXN0U3RlcDtcblxuICByZXR1cm4gKFxuICAgIDxSZWFjdC5GcmFnbWVudCBrZXk9e2Ake2lkeH0tJHtsYWJlbH1gfT5cbiAgICAgIHshaXNGaXJzdFN0ZXAgJiYgPExpbmUgZGlzYWJsZWQ9e2lzRGlzYWJsZWRTdGVwfSAvPn1cblxuICAgICAgPFN0ZXBXcmFwcGVyIGFsaWduPVwiY2VudGVyXCI+XG4gICAgICAgIDxTdGVwVGV4dFxuICAgICAgICAgIGRpc2FibGVkPXtpc0Rpc2FibGVkU3RlcH1cbiAgICAgICAgICBzaXplPXsxfVxuICAgICAgICAgIGlzRmlyc3RTdGVwPXtpc0ZpcnN0U3RlcH1cbiAgICAgICAgICBpc0xhc3RTdGVwPXtpc0xhc3RTdGVwfVxuICAgICAgICAgIGlzQ2hlY2tlZFN0ZXA9e2lzQ2hlY2tlZFN0ZXB9XG4gICAgICAgID5cbiAgICAgICAgICB7bGFiZWx9XG4gICAgICAgIDwvU3RlcFRleHQ+XG4gICAgICAgIDxTdGVwQ29udGFpbmVyXG4gICAgICAgICAgZGlzYWJsZWQ9e2lzRGlzYWJsZWRTdGVwfVxuICAgICAgICAgIGNoZWNrZWQ9e2lzQ2hlY2tlZFN0ZXB9XG4gICAgICAgICAgYWxpZ249XCJjZW50ZXJcIlxuICAgICAgICAgIGp1c3RpZnk9XCJjZW50ZXJcIlxuICAgICAgICA+XG4gICAgICAgICAge2lzQ2hlY2tlZFN0ZXAgPyAoXG4gICAgICAgICAgICA8U3ZnSWNvbiBoZWlnaHQ9ezd9IHdpZHRoPXsxMH0gc3JjPXtDaGVja0ljb259IC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxDaXJjbGUgZGlzYWJsZWQ9e2lzRGlzYWJsZWRTdGVwfSAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvU3RlcENvbnRhaW5lcj5cbiAgICAgIDwvU3RlcFdyYXBwZXI+XG4gICAgICB7IWlzTGFzdFN0ZXAgJiYgPExpbmUgZGlzYWJsZWQ9eyFpc0ZpcnN0U3RlcCAmJiAhaXNDb21wbGV0ZWRTdGVwfSAvPn1cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIFByb2dyZXNzTGluZSh7IHN0ZXBzLCBjdXJyZW50SWR4IH06IFByb2dyZXNzTGluZVByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEZsZXhSb3cgYWxpZ249XCJjZW50ZXJcIj5cbiAgICAgIHtzdGVwcy5tYXAoKGxhYmVsLCBpZHgpID0+XG4gICAgICAgIHJlbmRlclN0ZXAobGFiZWwsIGlkeCwgY3VycmVudElkeCwgc3RlcHMubGVuZ3RoKVxuICAgICAgKX1cbiAgICA8L0ZsZXhSb3c+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2dyZXNzTGluZTtcbiJdfQ==