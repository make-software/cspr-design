import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import FlexRow from '../flex-row/flex-row';
import BodyText from '../body-text/body-text';
import styled, { css, keyframes } from 'styled-components';
import SvgIcon from '../svg-icon/svg-icon';
import copyToClipboard from 'copy-to-clipboard';
import SuccessIcon from '../../assets/icons/ic-success.svg';
import CopyIcon from '../../assets/icons/ic-copy.svg';
const copyColorMapper = {
    blue: 'contentBlue',
    gray: 'contentTertiary',
    green: 'contentGreen',
};
const fadeInOut = keyframes `
  0% {
    opacity: 0;
  }
  25% {
    opacity: 1;
  }
  75% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
`;
const StyledContainer = styled.span `
  line-height: 20px;
  cursor: pointer;
  position: relative;

  > :not(:first-child) {
    margin-left: 8px;
  }

  pointer-events: ${(props) => (props.isCopied ? 'none' : 'initial')};
  animation: ${(props) => props.isCopied
    ? css `
          ${fadeInOut} 3s
        `
    : 'none'};

  & svg {
    color: ${(props) => props.isCopied
    ? props.theme.styleguideColors.contentGreen
    : props.theme.styleguideColors.contentTertiary};

    path {
      fill: ${(props) => props.isCopied
    ? props.theme.styleguideColors.contentGreen
    : props.theme.styleguideColors.contentTertiary};
    }
    :hover {
      color: ${(props) => props.theme.styleguideColors.fillPrimaryBlue};
      path {
        fill: ${(props) => props.theme.styleguideColors.fillPrimaryBlue};
      }
    }
    :active {
      color: ${(props) => props.theme.styleguideColors.fillPrimaryBlueClick};
      path {
        fill: ${(props) => props.theme.styleguideColors.fillPrimaryBlueClick};
      }
    }
  }
`;
const StyledSvgIcon = styled(SvgIcon)(({ theme, variation = 'blue' }) => theme.withMedia({
    color: theme.styleguideColors[copyColorMapper[variation]],
    path: {
        fill: theme.styleguideColors[copyColorMapper[variation]],
    },
}));
export const Copy = ({ value, label = 'Copy Public Key', copiedLabel = 'Copied!', variation, styles, minified = false, }) => {
    const [isCopied, setIsCopied] = useState(false);
    const copiedIcon = isCopied ? SuccessIcon : CopyIcon;
    const copiedLabelText = isCopied ? copiedLabel : label;
    const copiedLabelStyle = isCopied ? 'green' : 'black';
    const handleCopy = (event) => {
        event.stopPropagation();
        if (value) {
            copyToClipboard(value);
            setIsCopied(true);
            setTimeout(() => setIsCopied(false), 2800);
        }
    };
    return (_jsx(FlexRow, { style: styles, align: "center", itemsSpacing: 8, children: _jsxs(StyledContainer, { onClick: handleCopy, isCopied: isCopied, children: [_jsx(StyledSvgIcon, { variation: variation, size: 16, src: copiedIcon, role: 'img', alt: 'Copy button' }), !minified && (_jsx(BodyText, { size: 3, variation: copiedLabelStyle, children: copiedLabelText }))] }) }));
};
export default Copy;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29weS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9jb3B5L2NvcHkudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFjLEVBQUUsUUFBUSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ3hDLE9BQU8sT0FBTyxNQUFNLHNCQUFzQixDQUFDO0FBQzNDLE9BQU8sUUFBUSxNQUFNLHdCQUF3QixDQUFDO0FBQzlDLE9BQU8sTUFBTSxFQUFFLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQzNELE9BQU8sT0FBTyxNQUFNLHNCQUFzQixDQUFDO0FBQzNDLE9BQU8sZUFBZSxNQUFNLG1CQUFtQixDQUFDO0FBRWhELE9BQU8sV0FBVyxNQUFNLG1DQUFtQyxDQUFDO0FBQzVELE9BQU8sUUFBUSxNQUFNLGdDQUFnQyxDQUFDO0FBSXRELE1BQU0sZUFBZSxHQUFHO0lBQ3RCLElBQUksRUFBRSxhQUFhO0lBQ25CLElBQUksRUFBRSxpQkFBaUI7SUFDdkIsS0FBSyxFQUFFLGNBQWM7Q0FDdEIsQ0FBQztBQUVGLE1BQU0sU0FBUyxHQUFHLFNBQVMsQ0FBQTs7Ozs7Ozs7Ozs7OztDQWExQixDQUFDO0FBRUYsTUFBTSxlQUFlLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBdUI7Ozs7Ozs7OztvQkFTdEMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7ZUFDckQsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUNyQixLQUFLLENBQUMsUUFBUTtJQUNaLENBQUMsQ0FBQyxHQUFHLENBQUE7WUFDQyxTQUFTO1NBQ1o7SUFDSCxDQUFDLENBQUMsTUFBTTs7O2FBR0QsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUNqQixLQUFLLENBQUMsUUFBUTtJQUNaLENBQUMsQ0FBQyxLQUFL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QUMsUUFBUSxJQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLGdCQUFnQixZQUMzQyxlQUFlLEdBQ1AsQ0FDWixJQUNlLEdBQ1YsQ0FDWCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsZUFBZSxJQUFJLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRmxleFJvdyBmcm9tICcuLi9mbGV4LXJvdy9mbGV4LXJvdyc7XG5pbXBvcnQgQm9keVRleHQgZnJvbSAnLi4vYm9keS10ZXh0L2JvZHktdGV4dCc7XG5pbXBvcnQgc3R5bGVkLCB7IGNzcywga2V5ZnJhbWVzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IFN2Z0ljb24gZnJvbSAnLi4vc3ZnLWljb24vc3ZnLWljb24nO1xuaW1wb3J0IGNvcHlUb0NsaXBib2FyZCBmcm9tICdjb3B5LXRvLWNsaXBib2FyZCc7XG5cbmltcG9ydCBTdWNjZXNzSWNvbiBmcm9tICcuLi8uLi9hc3NldHMvaWNvbnMvaWMtc3VjY2Vzcy5zdmcnO1xuaW1wb3J0IENvcHlJY29uIGZyb20gJy4uLy4uL2Fzc2V0cy9pY29ucy9pYy1jb3B5LnN2Zyc7XG5cbnR5cGUgQ29weUNvbG9yID0gJ2JsdWUnIHwgJ2dyYXknIHwgJ2dyZWVuJztcblxuY29uc3QgY29weUNvbG9yTWFwcGVyID0ge1xuICBibHVlOiAnY29udGVudEJsdWUnLFxuICBncmF5OiAnY29udGVudFRlcnRpYXJ5JyxcbiAgZ3JlZW46ICdjb250ZW50R3JlZW4nLFxufTtcblxuY29uc3QgZmFkZUluT3V0ID0ga2V5ZnJhbWVzYFxuICAwJSB7XG4gICAgb3BhY2l0eTogMDtcbiAgfVxuICAyNSUge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cbiAgNzUlIHtcbiAgICBvcGFjaXR5OiAxO1xuICB9XG4gIDEwMCUge1xuICAgIG9wYWNpdHk6IDA7XG4gIH1cbmA7XG5cbmNvbnN0IFN0eWxlZENvbnRhaW5lciA9IHN0eWxlZC5zcGFuPHsgaXNDb3BpZWQ6IGJvb2xlYW4gfT5gXG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICA+IDpub3QoOmZpcnN0LWNoaWxkKSB7XG4gICAgbWFyZ2luLWxlZnQ6IDhweDtcbiAgfVxuXG4gIHBvaW50ZXItZXZlbnRzOiAkeyhwcm9wcykgPT4gKHByb3BzLmlzQ29waWVkID8gJ25vbmUnIDogJ2luaXRpYWwnKX07XG4gIGFuaW1hdGlvbjogJHsocHJvcHMpID0+XG4gICAgcHJvcHMuaXNDb3BpZWRcbiAgICAgID8gY3NzYFxuICAgICAgICAgICR7ZmFkZUluT3V0fSAzc1xuICAgICAgICBgXG4gICAgICA6ICdub25lJ307XG5cbiAgJiBzdmcge1xuICAgIGNvbG9yOiAkeyhwcm9wcykgPT5cbiAgICAgIHByb3BzLmlzQ29waWVkXG4gICAgICAgID8gcHJvcHMudGhlbWUuc3R5bGVndWlkZUNvbG9ycy5jb250ZW50R3JlZW5cbiAgICAgICAgOiBwcm9wcy50aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRUZXJ0aWFyeX07XG5cbiAgICBwYXRoIHtcbiAgICAgIGZpbGw6ICR7KHByb3BzKSA9PlxuICAgICAgICBwcm9wcy5pc0NvcGllZFxuICAgICAgICAgID8gcHJvcHMudGhlbWUuc3R5bGVndWlkZUNvbG9ycy5jb250ZW50R3JlZW5cbiAgICAgICAgICA6IHByb3BzLnRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuY29udGVudFRlcnRpYXJ5fTtcbiAgICB9XG4gICAgOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUuc3R5bGVndWlkZUNvbG9ycy5maWxsUHJpbWFyeUJsdWV9O1xuICAgICAgcGF0aCB7XG4gICAgICAgIGZpbGw6ICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmZpbGxQcmltYXJ5Qmx1ZX07XG4gICAgICB9XG4gICAgfVxuICAgIDphY3RpdmUge1xuICAgICAgY29sb3I6ICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmZpbGxQcmltYXJ5Qmx1ZUNsaWNrfTtcbiAgICAgIHBhdGgge1xuICAgICAgICBmaWxsOiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUuc3R5bGVndWlkZUNvbG9ycy5maWxsUHJpbWFyeUJsdWVDbGlja307XG4gICAgICB9XG4gICAgfVxuICB9XG5gO1xuXG5jb25zdCBTdHlsZWRTdmdJY29uID0gc3R5bGVkKFN2Z0ljb24pPHsgdmFyaWF0aW9uPzogQ29weUNvbG9yIH0+KFxuICAoeyB0aGVtZSwgdmFyaWF0aW9uID0gJ2JsdWUnIH0pID0+XG4gICAgdGhlbWUud2l0aE1lZGlhKHtcbiAgICAgIGNvbG9yOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzW2NvcHlDb2xvck1hcHBlclt2YXJpYXRpb25dXSxcbiAgICAgIHBhdGg6IHtcbiAgICAgICAgZmlsbDogdGhlbWUuc3R5bGVndWlkZUNvbG9yc1tjb3B5Q29sb3JNYXBwZXJbdmFyaWF0aW9uXV0sXG4gICAgICB9LFxuICAgIH0pLFxuKTtcblxuZXhwb3J0IGludGVyZmFjZSBDb3B5UHJvcHMge1xuICB2YWx1ZTogc3RyaW5nO1xuICBzdHlsZXM/OiBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICBsYWJlbD86IHN0cmluZztcbiAgY29waWVkTGFiZWw/OiBzdHJpbmc7XG4gIG1pbmlmaWVkPzogYm9vbGVhbjtcbiAgdmFyaWF0aW9uPzogQ29weUNvbG9yO1xufVxuXG5leHBvcnQgY29uc3QgQ29weSA9ICh7XG4gIHZhbHVlLFxuICBsYWJlbCA9ICdDb3B5IFB1YmxpYyBLZXknLFxuICBjb3BpZWRMYWJlbCA9ICdDb3BpZWQhJyxcbiAgdmFyaWF0aW9uLFxuICBzdHlsZXMsXG4gIG1pbmlmaWVkID0gZmFsc2UsXG59OiBDb3B5UHJvcHMpID0+IHtcbiAgY29uc3QgW2lzQ29waWVkLCBzZXRJc0NvcGllZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgY29waWVkSWNvbiA9IGlzQ29waWVkID8gU3VjY2Vzc0ljb24gOiBDb3B5SWNvbjtcbiAgY29uc3QgY29waWVkTGFiZWxUZXh0ID0gaXNDb3BpZWQgPyBjb3BpZWRMYWJlbCA6IGxhYmVsO1xuICBjb25zdCBjb3BpZWRMYWJlbFN0eWxlID0gaXNDb3BpZWQgPyAnZ3JlZW4nIDogJ2JsYWNrJztcblxuICBjb25zdCBoYW5kbGVDb3B5ID0gKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxFbGVtZW50PikgPT4ge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBjb3B5VG9DbGlwYm9hcmQodmFsdWUpO1xuICAgICAgc2V0SXNDb3BpZWQodHJ1ZSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldElzQ29waWVkKGZhbHNlKSwgMjgwMCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPEZsZXhSb3cgc3R5bGU9e3N0eWxlc30gYWxpZ249XCJjZW50ZXJcIiBpdGVtc1NwYWNpbmc9ezh9PlxuICAgICAgPFN0eWxlZENvbnRhaW5lciBvbkNsaWNrPXtoYW5kbGVDb3B5fSBpc0NvcGllZD17aXNDb3BpZWR9PlxuICAgICAgICA8U3R5bGVkU3ZnSWNvblxuICAgICAgICAgIHZhcmlhdGlvbj17dmFyaWF0aW9ufVxuICAgICAgICAgIHNpemU9ezE2fVxuICAgICAgICAgIHNyYz17Y29waWVkSWNvbn1cbiAgICAgICAgICByb2xlPXsnaW1nJ31cbiAgICAgICAgICBhbHQ9eydDb3B5IGJ1dHRvbid9XG4gICAgICAgIC8+XG4gICAgICAgIHshbWluaWZpZWQgJiYgKFxuICAgICAgICAgIDxCb2R5VGV4dCBzaXplPXszfSB2YXJpYXRpb249e2NvcGllZExhYmVsU3R5bGV9PlxuICAgICAgICAgICAge2NvcGllZExhYmVsVGV4dH1cbiAgICAgICAgICA8L0JvZHlUZXh0PlxuICAgICAgICApfVxuICAgICAgPC9TdHlsZWRDb250YWluZXI+XG4gICAgPC9GbGV4Um93PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29weTtcbiJdfQ==