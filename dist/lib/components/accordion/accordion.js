import { __assign, __rest } from "tslib";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import styled from 'styled-components';
import FlexColumn from '../flex-column/flex-column';
import { useClickAway } from '../../hooks/use-click-away';
var AccordionContainer = styled(FlexColumn)(function (_a) {
    var isOpen = _a.isOpen, _b = _a.backgroundColor, backgroundColor = _b === void 0 ? 'transparent' : _b;
    return ({
        background: isOpen ? backgroundColor : 'transparent',
        width: '100%',
    });
});
var StyledContainer = styled.div(function () { return ({
    cursor: 'pointer',
}); });
export function Accordion(_a) {
    var children = _a.children, renderContent = _a.renderContent, disableClickAway = _a.disableClickAway, props = __rest(_a, ["children", "renderContent", "disableClickAway"]);
    var _b = useState(false), isOpen = _b[0], setIsOpen = _b[1];
    var ref = useClickAway({
        callback: function () {
            !disableClickAway && setIsOpen(false);
        },
    }).ref;
    var renderProps = { isOpen: isOpen, setIsOpen: setIsOpen };
    return (_jsxs(AccordionContainer, __assign({ isOpen: isOpen }, props, { children: [_jsx(StyledContainer, __assign({ ref: ref, onClick: function () {
                    setIsOpen(!isOpen);
                } }, { children: children(renderProps) })), isOpen && renderContent(renderProps)] })));
}
export default Accordion;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3JkaW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xpYi9jb21wb25lbnRzL2FjY29yZGlvbi9hY2NvcmRpb24udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBYyxFQUFFLFFBQVEsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUN4QyxPQUFPLE1BQU0sTUFBTSxtQkFBbUIsQ0FBQztBQUV2QyxPQUFPLFVBQVUsTUFBTSw0QkFBNEIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFjMUQsSUFBTSxrQkFBa0IsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLENBRzFDLFVBQUMsRUFBMkM7UUFBekMsTUFBTSxZQUFBLEVBQUUsdUJBQStCLEVBQS9CLGVBQWUsbUJBQUcsYUFBYSxLQUFBO0lBQU8sT0FBQSxDQUFDO1FBQ25ELFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsYUFBYTtRQUNwRCxLQUFLLEVBQUUsTUFBTTtLQUNkLENBQUM7QUFIa0QsQ0FHbEQsQ0FBQyxDQUFDO0FBRUosSUFBTSxlQUFlLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxjQUFNLE9BQUEsQ0FBQztJQUN4QyxNQUFNLEVBQUUsU0FBUztDQUNsQixDQUFDLEVBRnVDLENBRXZDLENBQUMsQ0FBQztBQUVKLE1BQU0sVUFBVSxTQUFTLENBQUMsRUFLVDtJQUpmLElBQUEsUUFBUSxjQUFBLEVBQ1IsYUFBYSxtQkFBQSxFQUNiLGdCQUFnQixzQkFBQSxFQUNiLEtBQUssY0FKZ0IsaURBS3pCLENBRFM7SUFFRixJQUFBLEtBQXNCLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBcEMsTUFBTSxRQUFBLEVBQUUsU0FBUyxRQUFtQixDQUFDO0lBRXBDLElBQUEsR0FBRyxHQUFLLFlBQVksQ0FBQztRQUMzQixRQUFRLEVBQUU7WUFDUixDQUFDLGdCQUFnQixJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4QyxDQUFDO0tBQ0YsQ0FBQyxJQUpTLENBSVI7SUFFSCxJQUFNLFdBQVcsR0FBZ0IsRUFBRSxNQUFNLFFBQUEsRUFBRSxTQUFTLFdBQUEsRUFBRSxDQUFDO0lBRXZELE9BQU8sQ0FDTCxNQUFDLGtCQUFrQixhQUFDLE1BQU0sRUFBRSxNQUFNLElBQU0sS0FBSyxlQUMzQyxLQUFDLGVBQWUsYUFDZCxHQUFHLEVBQUUsR0FBRyxFQUNSLE9BQU8sRUFBRTtvQkFDUCxTQUFTLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDckIsQ0FBQyxnQkFFQSxRQUFRLENBQUMsV0FBVyxDQUFDLElBQ04sRUFDakIsTUFBTSxJQUFJLGFBQWEsQ0FBQyxXQUFXLENBQUMsS0FDbEIsQ0FDdEIsQ0FBQztBQUNKLENBQUM7QUFFRCxlQUFlLFNBQVMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgQmFzZVByb3BzIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IEZsZXhDb2x1bW4gZnJvbSAnLi4vZmxleC1jb2x1bW4vZmxleC1jb2x1bW4nO1xuaW1wb3J0IHsgdXNlQ2xpY2tBd2F5IH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlLWNsaWNrLWF3YXknO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFjY29yZGlvblByb3BzIGV4dGVuZHMgQmFzZVByb3BzIHtcbiAgYmFja2dyb3VuZENvbG9yPzogc3RyaW5nO1xuICBjaGlsZHJlbjogKHJlbmRlclByb3BzOiBSZW5kZXJQcm9wcykgPT4gUmVhY3QuUmVhY3ROb2RlIHwgc3RyaW5nO1xuICByZW5kZXJDb250ZW50OiAocmVuZGVyUHJvcHM6IFJlbmRlclByb3BzKSA9PiBSZWFjdC5SZWFjdE5vZGUgfCBzdHJpbmc7XG4gIGRpc2FibGVDbGlja0F3YXk/OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgUmVuZGVyUHJvcHMge1xuICBpc09wZW46IGJvb2xlYW47XG4gIHNldElzT3BlbjogKGlzT3BlbjogYm9vbGVhbikgPT4gdm9pZDtcbn1cblxuY29uc3QgQWNjb3JkaW9uQ29udGFpbmVyID0gc3R5bGVkKEZsZXhDb2x1bW4pPHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XG59PigoeyBpc09wZW4sIGJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCcgfSkgPT4gKHtcbiAgYmFja2dyb3VuZDogaXNPcGVuID8gYmFja2dyb3VuZENvbG9yIDogJ3RyYW5zcGFyZW50JyxcbiAgd2lkdGg6ICcxMDAlJyxcbn0pKTtcblxuY29uc3QgU3R5bGVkQ29udGFpbmVyID0gc3R5bGVkLmRpdigoKSA9PiAoe1xuICBjdXJzb3I6ICdwb2ludGVyJyxcbn0pKTtcblxuZXhwb3J0IGZ1bmN0aW9uIEFjY29yZGlvbih7XG4gIGNoaWxkcmVuLFxuICByZW5kZXJDb250ZW50LFxuICBkaXNhYmxlQ2xpY2tBd2F5LFxuICAuLi5wcm9wc1xufTogQWNjb3JkaW9uUHJvcHMpIHtcbiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCB7IHJlZiB9ID0gdXNlQ2xpY2tBd2F5KHtcbiAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgIWRpc2FibGVDbGlja0F3YXkgJiYgc2V0SXNPcGVuKGZhbHNlKTtcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCByZW5kZXJQcm9wczogUmVuZGVyUHJvcHMgPSB7IGlzT3Blbiwgc2V0SXNPcGVuIH07XG5cbiAgcmV0dXJuIChcbiAgICA8QWNjb3JkaW9uQ29udGFpbmVyIGlzT3Blbj17aXNPcGVufSB7Li4ucHJvcHN9PlxuICAgICAgPFN0eWxlZENvbnRhaW5lclxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgIHNldElzT3BlbighaXNPcGVuKTtcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge2NoaWxkcmVuKHJlbmRlclByb3BzKX1cbiAgICAgIDwvU3R5bGVkQ29udGFpbmVyPlxuICAgICAge2lzT3BlbiAmJiByZW5kZXJDb250ZW50KHJlbmRlclByb3BzKX1cbiAgICA8L0FjY29yZGlvbkNvbnRhaW5lcj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQWNjb3JkaW9uO1xuIl19