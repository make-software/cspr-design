import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import styled from 'styled-components';
import FlexColumn from '../flex-column/flex-column';
import { useClickAway } from '../../hooks/use-click-away';
const AccordionContainer = styled(FlexColumn)(({ isOpen, backgroundColor = 'transparent' }) => ({
    background: isOpen ? backgroundColor : 'transparent',
    width: '100%',
}));
const StyledContainer = styled.div(() => ({
    cursor: 'pointer',
}));
export function Accordion({ children, renderContent, disableClickAway, ...props }) {
    const [isOpen, setIsOpen] = useState(false);
    const { ref } = useClickAway({
        callback: () => {
            !disableClickAway && setIsOpen(false);
        },
    });
    const renderProps = { isOpen };
    return (_jsxs(AccordionContainer, { isOpen: isOpen, ...props, children: [_jsx(StyledContainer, { ref: ref, onClick: () => {
                    setIsOpen(!isOpen);
                }, tabIndex: 0, onKeyDown: (ev) => {
                    if (ev.key === 'Enter') {
                        setIsOpen(!isOpen);
                    }
                }, children: children(renderProps) }), isOpen && renderContent(renderProps)] }));
}
export default Accordion;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3JkaW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xpYi9jb21wb25lbnRzL2FjY29yZGlvbi9hY2NvcmRpb24udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFjLEVBQUUsUUFBUSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ3hDLE9BQU8sTUFBTSxNQUFNLG1CQUFtQixDQUFDO0FBRXZDLE9BQU8sVUFBVSxNQUFNLDRCQUE0QixDQUFDO0FBQ3BELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQVkxRCxNQUFNLGtCQUFrQixHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FHMUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxlQUFlLEdBQUcsYUFBYSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbkQsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxhQUFhO0lBQ3BELEtBQUssRUFBRSxNQUFNO0NBQ2QsQ0FBQyxDQUFDLENBQUM7QUFFSixNQUFNLGVBQWUsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDeEMsTUFBTSxFQUFFLFNBQVM7Q0FDbEIsQ0FBQyxDQUFDLENBQUM7QUFFSixNQUFNLFVBQVUsU0FBUyxDQUFDLEVBQ3hCLFFBQVEsRUFDUixhQUFhLEVBQ2IsZ0JBQWdCLEVBQ2hCLEdBQUcsS0FBSyxFQUNnQztJQUN4QyxNQUFNLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUU1QyxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsWUFBWSxDQUFDO1FBQzNCLFFBQVEsRUFBRSxHQUFHLEVBQUU7WUFDYixDQUFDLGdCQUFnQixJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4QyxDQUFDO0tBQ0YsQ0FBQyxDQUFDO0lBRUgsTUFBTSxXQUFXLEdBQWdCLEVBQUUsTUFBTSxFQUFFLENBQUM7SUFFNUMsT0FBTyxDQUNMLE1BQUMsa0JBQWtCLElBQUMsTUFBTSxFQUFFLE1BQU0sS0FBTSxLQUFLLGFBQzNDLEtBQUMsZUFBZSxJQUNkLEdBQUcsRUFBRSxHQUFHLEVBQ1IsT0FBTyxFQUFFLEdBQUcsRUFBRTtvQkFDWixTQUFTLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDckIsQ0FBQyxFQUNELFFBQVEsRUFBRSxDQUFDLEVBQ1gsU0FBUyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7b0JBQ2hCLElBQUksRUFBRSxDQUFDLEdBQUcsS0FBSyxPQUFPLEVBQUUsQ0FBQzt3QkFDdkIsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBQ3JCLENBQUM7Z0JBQ0gsQ0FBQyxZQUVBLFFBQVEsQ0FBQyxXQUFXLENBQUMsR0FDTixFQUNqQixNQUFNLElBQUksYUFBYSxDQUFDLFdBQVcsQ0FBQyxJQUNsQixDQUN0QixDQUFDO0FBQ0osQ0FBQztBQUVELGVBQWUsU0FBUyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBCYXNlUHJvcHMgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgRmxleENvbHVtbiBmcm9tICcuLi9mbGV4LWNvbHVtbi9mbGV4LWNvbHVtbic7XG5pbXBvcnQgeyB1c2VDbGlja0F3YXkgfSBmcm9tICcuLi8uLi9ob29rcy91c2UtY2xpY2stYXdheSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWNjb3JkaW9uUHJvcHMgZXh0ZW5kcyBCYXNlUHJvcHMge1xuICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XG4gIHJlbmRlckNvbnRlbnQ6IChyZW5kZXJQcm9wczogUmVuZGVyUHJvcHMpID0+IFJlYWN0LlJlYWN0Tm9kZSB8IHN0cmluZztcbiAgZGlzYWJsZUNsaWNrQXdheT86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBSZW5kZXJQcm9wcyB7XG4gIGlzT3BlbjogYm9vbGVhbjtcbn1cblxuY29uc3QgQWNjb3JkaW9uQ29udGFpbmVyID0gc3R5bGVkKEZsZXhDb2x1bW4pPHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XG59PigoeyBpc09wZW4sIGJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCcgfSkgPT4gKHtcbiAgYmFja2dyb3VuZDogaXNPcGVuID8gYmFja2dyb3VuZENvbG9yIDogJ3RyYW5zcGFyZW50JyxcbiAgd2lkdGg6ICcxMDAlJyxcbn0pKTtcblxuY29uc3QgU3R5bGVkQ29udGFpbmVyID0gc3R5bGVkLmRpdigoKSA9PiAoe1xuICBjdXJzb3I6ICdwb2ludGVyJyxcbn0pKTtcblxuZXhwb3J0IGZ1bmN0aW9uIEFjY29yZGlvbih7XG4gIGNoaWxkcmVuLFxuICByZW5kZXJDb250ZW50LFxuICBkaXNhYmxlQ2xpY2tBd2F5LFxuICAuLi5wcm9wc1xufTogUmVhY3QuUHJvcHNXaXRoQ2hpbGRyZW48QWNjb3JkaW9uUHJvcHM+KSB7XG4gIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgeyByZWYgfSA9IHVzZUNsaWNrQXdheSh7XG4gICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICFkaXNhYmxlQ2xpY2tBd2F5ICYmIHNldElzT3BlbihmYWxzZSk7XG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgcmVuZGVyUHJvcHM6IFJlbmRlclByb3BzID0geyBpc09wZW4gfTtcblxuICByZXR1cm4gKFxuICAgIDxBY2NvcmRpb25Db250YWluZXIgaXNPcGVuPXtpc09wZW59IHsuLi5wcm9wc30+XG4gICAgICA8U3R5bGVkQ29udGFpbmVyXG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgc2V0SXNPcGVuKCFpc09wZW4pO1xuICAgICAgICB9fVxuICAgICAgICB0YWJJbmRleD17MH1cbiAgICAgICAgb25LZXlEb3duPXsoZXYpID0+IHtcbiAgICAgICAgICBpZiAoZXYua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICBzZXRJc09wZW4oIWlzT3Blbik7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7Y2hpbGRyZW4ocmVuZGVyUHJvcHMpfVxuICAgICAgPC9TdHlsZWRDb250YWluZXI+XG4gICAgICB7aXNPcGVuICYmIHJlbmRlckNvbnRlbnQocmVuZGVyUHJvcHMpfVxuICAgIDwvQWNjb3JkaW9uQ29udGFpbmVyPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBY2NvcmRpb247XG4iXX0=