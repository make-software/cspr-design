import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useDeployActionDataContext } from '../services/deploy-action-context';
import { deriveAccountInfo } from '../../../utils/account';
import { deriveSplitDataFromNamedKeyValue } from '../../../utils/named-key';
import FlexRow from '../../flex-row/flex-row';
import BodyText from '../../body-text/body-text';
import { ContractIdentifier } from '../../contract-identifier/contract-identifier';
import { HashFontSize } from '../../../utils/formatters';
import Address from '../../address/address';
import { deriveUpdatedAssociatedKey } from "../../../utils/deploy-action-helpers";
const DeployActionAssociatedKeys = ({ deploy, deployRawData, renderAsResultAction = false, }) => {
    const { contractPackage } = deploy;
    const updatedMasterKey = deriveUpdatedAssociatedKey(deployRawData?.data);
    const { hash } = deriveSplitDataFromNamedKeyValue(updatedMasterKey || '');
    const { getAccountInfo, getPublicKeyAccountHash, csprLiveDomainPath } = useDeployActionDataContext();
    const publicKey = getPublicKeyAccountHash(hash);
    const accountInfo = getAccountInfo(hash);
    const accountInfoData = deriveAccountInfo(accountInfo?.account_info || accountInfo?.centralized_account_info);
    const logo = accountInfoData?.logo;
    const name = accountInfo?.name;
    const csprName = accountInfo?.cspr_name;
    const deployActionText = renderAsResultAction
        ? 'Updated account'
        : 'Update account';
    return (_jsxs(FlexRow, { align: 'center', itemsSpacing: 8, children: [_jsx(BodyText, { size: 3, monotype: true, variation: 'black', children: deployActionText }), ' ', (publicKey || !!hash) && (_jsx(Address, { logo: logo, name: name, hash: publicKey || hash, csprName: csprName, loading: !hash, navigateToPath: `${csprLiveDomainPath}/account/${publicKey || hash}`, avatarSize: 'small', hashFontSize: 'sm', minifiedCopyNotification: true })), !renderAsResultAction && (_jsxs(FlexRow, { itemsSpacing: 8, align: 'center', children: [_jsx(BodyText, { size: 3, variation: 'darkGray', children: "with" }), _jsx(ContractIdentifier, { hash: contractPackage.contract_package_hash, contractPackage: contractPackage, hashFontSize: HashFontSize.big, avatarSize: 'small', path: `${csprLiveDomainPath}/contract-package/${contractPackage.contract_package_hash}` })] }))] }));
};
export default DeployActionAssociatedKeys;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVwbG95QWN0aW9uQXNzb2NpYXRlZEtleXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvbXBvbmVudHMvZGVwbG95LWFjdGlvbnMvY29tcG9uZW50cy9EZXBsb3lBY3Rpb25Bc3NvY2lhdGVkS2V5cy50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBQy9FLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBRTNELE9BQU8sRUFBRSxnQ0FBZ0MsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQzVFLE9BQU8sT0FBTyxNQUFNLHlCQUF5QixDQUFDO0FBQzlDLE9BQU8sUUFBUSxNQUFNLDJCQUEyQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLCtDQUErQyxDQUFDO0FBQ25GLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN6RCxPQUFPLE9BQU8sTUFBTSx1QkFBdUIsQ0FBQztBQUM1QyxPQUFPLEVBQUMsMEJBQTBCLEVBQUMsTUFBTSxzQ0FBc0MsQ0FBQztBQVFoRixNQUFNLDBCQUEwQixHQUFHLENBQUMsRUFDbEMsTUFBTSxFQUNOLGFBQWEsRUFDYixvQkFBb0IsR0FBRyxLQUFLLEdBQ0ksRUFBRSxFQUFFO0lBQ3BDLE1BQU0sRUFBRSxlQUFlLEVBQUUsR0FBRyxNQUFNLENBQUM7SUFFbkMsTUFBTSxnQkFBZ0IsR0FBRywwQkFBMEIsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDekUsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLGdDQUFnQyxDQUFDLGdCQUFnQixJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBRTFFLE1BQU0sRUFBRSxjQUFjLEVBQUUsdUJBQXVCLEVBQUUsa0JBQWtCLEVBQUUsR0FDbkUsMEJBQTBCLEVBQUUsQ0FBQztJQUMvQixNQUFNLFNBQVMsR0FBRyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNoRCxNQUFNLFdBQVcsR0FBRyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDekMsTUFBTSxlQUFlLEdBQUcsaUJBQWlCLENBQ3ZDLFdBQVcsRUFBRSxZQUFZLElBQUksV0FBVyxFQUFFLHdCQUF3QixDQUNuRSxDQUFDO0lBQ0YsTUFBTSxJQUFJLEdBQUcsZUFBZSxFQUFFLElBQUksQ0FBQztJQUNuQyxNQUFNLElBQUksR0FBRyxXQUFXLEVBQUUsSUFBSSxDQUFDO0lBQy9CLE1BQU0sUUFBUSxHQUFHLFdBQVcsRUFBRSxTQUFTLENBQUM7SUFFeEMsTUFBTSxnQkFBZ0IsR0FBRyxvQkFBb0I7UUFDM0MsQ0FBQyxDQUFDLGlCQUFpQjtRQUNuQixDQUFDLENBQUMsZ0JBQWdCLENBQUM7SUFFckIsT0FBTyxDQUNMLE1BQUMsT0FBTyxJQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLENBQUMsYUFDdkMsS0FBQyxRQUFRLElBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxRQUFRLFFBQUMsU0FBUyxFQUFFLE9BQU8sWUFDM0MsZ0JBQWdCLEdBQ1IsRUFBQyxHQUFHLEVBQ2QsQ0FBQyxTQUFTLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQ3hCLEtBQUMsT0FBTyxJQUNOLElBQUksRUFBRSxJQUFJLEVBQ1YsSUFBSSxFQUFFLElBQUksRUFDVixJQUFJLEVBQUUsU0FBUyxJQUFJLElBQUksRUFDdkIsUUFBUSxFQUFFLFFBQVEsRUFDbEIsT0FBTyxFQUFFLENBQUMsSUFBSSxFQUNkLGNBQWMsRUFBRSxHQUFHLGtCQUFrQixZQUFZLFNBQVMsSUFBSSxJQUFJLEVBQUUsRUFDcEUsVUFBVSxFQUFFLE9BQU8sRUFDbkIsWUFBWSxFQUFFLElBQUksRUFDbEIsd0JBQXdCLFNBQ3hCLENBQ0gsRUFDQSxDQUFDLG9CQUFvQixJQUFJLENBQ3hCLE1BQUMsT0FBTyxJQUFDLFlBQVksRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLFFBQVEsYUFDdkMsS0FBQyxRQUFRLElBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsVUFBVSxxQkFFN0IsRUFDWCxLQUFDLGtCQUFrQixJQUNqQixJQUFJLEVBQUUsZUFBZSxDQUFDLHFCQUFxQixFQUMzQyxlQUFlLEVBQUUsZUFBZSxFQUNoQyxZQUFZLEVBQUUsWUFBWSxDQUFDLEdBQUcsRUFDOUIsVUFBVSxFQUFFLE9BQU8sRUFDbkIsSUFBSSxFQUFFLEdBQUcsa0JBQWtCLHFCQUFxQixlQUFlLENBQUMscUJBQXFCLEVBQUUsR0FDdkYsSUFDTSxDQUNYLElBQ08sQ0FDWCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBQ0YsZUFBZSwwQkFBMEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VEZXBsb3lBY3Rpb25EYXRhQ29udGV4dCB9IGZyb20gJy4uL3NlcnZpY2VzL2RlcGxveS1hY3Rpb24tY29udGV4dCc7XG5pbXBvcnQgeyBkZXJpdmVBY2NvdW50SW5mbyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2FjY291bnQnO1xuaW1wb3J0IHsgRGF0YVJlc3BvbnNlLCBEZXBsb3ksIEdldERlcGxveVJlc3VsdCB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL3R5cGVzJztcbmltcG9ydCB7IGRlcml2ZVNwbGl0RGF0YUZyb21OYW1lZEtleVZhbHVlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvbmFtZWQta2V5JztcbmltcG9ydCBGbGV4Um93IGZyb20gJy4uLy4uL2ZsZXgtcm93L2ZsZXgtcm93JztcbmltcG9ydCBCb2R5VGV4dCBmcm9tICcuLi8uLi9ib2R5LXRleHQvYm9keS10ZXh0JztcbmltcG9ydCB7IENvbnRyYWN0SWRlbnRpZmllciB9IGZyb20gJy4uLy4uL2NvbnRyYWN0LWlkZW50aWZpZXIvY29udHJhY3QtaWRlbnRpZmllcic7XG5pbXBvcnQgeyBIYXNoRm9udFNpemUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mb3JtYXR0ZXJzJztcbmltcG9ydCBBZGRyZXNzIGZyb20gJy4uLy4uL2FkZHJlc3MvYWRkcmVzcyc7XG5pbXBvcnQge2Rlcml2ZVVwZGF0ZWRBc3NvY2lhdGVkS2V5fSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvZGVwbG95LWFjdGlvbi1oZWxwZXJzXCI7XG5cbmludGVyZmFjZSBEZXBsb3lBc3NvY2lhdGVkS2V5c0FjdGlvblByb3BzIHtcbiAgZGVwbG95OiBEZXBsb3k7XG4gIGRlcGxveVJhd0RhdGE6IERhdGFSZXNwb25zZTxHZXREZXBsb3lSZXN1bHQ+IHwgdW5kZWZpbmVkIHwgbnVsbDtcbiAgcmVuZGVyQXNSZXN1bHRBY3Rpb24/OiBib29sZWFuO1xufVxuXG5jb25zdCBEZXBsb3lBY3Rpb25Bc3NvY2lhdGVkS2V5cyA9ICh7XG4gIGRlcGxveSxcbiAgZGVwbG95UmF3RGF0YSxcbiAgcmVuZGVyQXNSZXN1bHRBY3Rpb24gPSBmYWxzZSxcbn06IERlcGxveUFzc29jaWF0ZWRLZXlzQWN0aW9uUHJvcHMpID0+IHtcbiAgY29uc3QgeyBjb250cmFjdFBhY2thZ2UgfSA9IGRlcGxveTtcblxuICBjb25zdCB1cGRhdGVkTWFzdGVyS2V5ID0gZGVyaXZlVXBkYXRlZEFzc29jaWF0ZWRLZXkoZGVwbG95UmF3RGF0YT8uZGF0YSk7XG4gIGNvbnN0IHsgaGFzaCB9ID0gZGVyaXZlU3BsaXREYXRhRnJvbU5hbWVkS2V5VmFsdWUodXBkYXRlZE1hc3RlcktleSB8fCAnJyk7XG5cbiAgY29uc3QgeyBnZXRBY2NvdW50SW5mbywgZ2V0UHVibGljS2V5QWNjb3VudEhhc2gsIGNzcHJMaXZlRG9tYWluUGF0aCB9ID1cbiAgICB1c2VEZXBsb3lBY3Rpb25EYXRhQ29udGV4dCgpO1xuICBjb25zdCBwdWJsaWNLZXkgPSBnZXRQdWJsaWNLZXlBY2NvdW50SGFzaChoYXNoKTtcbiAgY29uc3QgYWNjb3VudEluZm8gPSBnZXRBY2NvdW50SW5mbyhoYXNoKTtcbiAgY29uc3QgYWNjb3VudEluZm9EYXRhID0gZGVyaXZlQWNjb3VudEluZm8oXG4gICAgYWNjb3VudEluZm8/LmFjY291bnRfaW5mbyB8fCBhY2NvdW50SW5mbz8uY2VudHJhbGl6ZWRfYWNjb3VudF9pbmZvLFxuICApO1xuICBjb25zdCBsb2dvID0gYWNjb3VudEluZm9EYXRhPy5sb2dvO1xuICBjb25zdCBuYW1lID0gYWNjb3VudEluZm8/Lm5hbWU7XG4gIGNvbnN0IGNzcHJOYW1lID0gYWNjb3VudEluZm8/LmNzcHJfbmFtZTtcblxuICBjb25zdCBkZXBsb3lBY3Rpb25UZXh0ID0gcmVuZGVyQXNSZXN1bHRBY3Rpb25cbiAgICA/ICdVcGRhdGVkIGFjY291bnQnXG4gICAgOiAnVXBkYXRlIGFjY291bnQnO1xuXG4gIHJldHVybiAoXG4gICAgPEZsZXhSb3cgYWxpZ249eydjZW50ZXInfSBpdGVtc1NwYWNpbmc9ezh9PlxuICAgICAgPEJvZHlUZXh0IHNpemU9ezN9IG1vbm90eXBlIHZhcmlhdGlvbj17J2JsYWNrJ30+XG4gICAgICAgIHtkZXBsb3lBY3Rpb25UZXh0fVxuICAgICAgPC9Cb2R5VGV4dD57JyAnfVxuICAgICAgeyhwdWJsaWNLZXkgfHwgISFoYXNoKSAmJiAoXG4gICAgICAgIDxBZGRyZXNzXG4gICAgICAgICAgbG9nbz17bG9nb31cbiAgICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICAgIGhhc2g9e3B1YmxpY0tleSB8fCBoYXNofVxuICAgICAgICAgIGNzcHJOYW1lPXtjc3ByTmFtZX1cbiAgICAgICAgICBsb2FkaW5nPXshaGFzaH1cbiAgICAgICAgICBuYXZpZ2F0ZVRvUGF0aD17YCR7Y3NwckxpdmVEb21haW5QYXRofS9hY2NvdW50LyR7cHVibGljS2V5IHx8IGhhc2h9YH1cbiAgICAgICAgICBhdmF0YXJTaXplPXsnc21hbGwnfVxuICAgICAgICAgIGhhc2hGb250U2l6ZT17J3NtJ31cbiAgICAgICAgICBtaW5pZmllZENvcHlOb3RpZmljYXRpb25cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICB7IXJlbmRlckFzUmVzdWx0QWN0aW9uICYmIChcbiAgICAgICAgPEZsZXhSb3cgaXRlbXNTcGFjaW5nPXs4fSBhbGlnbj17J2NlbnRlcid9PlxuICAgICAgICAgIDxCb2R5VGV4dCBzaXplPXszfSB2YXJpYXRpb249eydkYXJrR3JheSd9PlxuICAgICAgICAgICAgd2l0aFxuICAgICAgICAgIDwvQm9keVRleHQ+XG4gICAgICAgICAgPENvbnRyYWN0SWRlbnRpZmllclxuICAgICAgICAgICAgaGFzaD17Y29udHJhY3RQYWNrYWdlLmNvbnRyYWN0X3BhY2thZ2VfaGFzaH1cbiAgICAgICAgICAgIGNvbnRyYWN0UGFja2FnZT17Y29udHJhY3RQYWNrYWdlfVxuICAgICAgICAgICAgaGFzaEZvbnRTaXplPXtIYXNoRm9udFNpemUuYmlnfVxuICAgICAgICAgICAgYXZhdGFyU2l6ZT17J3NtYWxsJ31cbiAgICAgICAgICAgIHBhdGg9e2Ake2NzcHJMaXZlRG9tYWluUGF0aH0vY29udHJhY3QtcGFja2FnZS8ke2NvbnRyYWN0UGFja2FnZS5jb250cmFjdF9wYWNrYWdlX2hhc2h9YH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0ZsZXhSb3c+XG4gICAgICApfVxuICAgIDwvRmxleFJvdz5cbiAgKTtcbn07XG5leHBvcnQgZGVmYXVsdCBEZXBsb3lBY3Rpb25Bc3NvY2lhdGVkS2V5cztcbiJdfQ==