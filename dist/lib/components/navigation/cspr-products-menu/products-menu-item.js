var _a;
import { __assign, __makeTemplateObject } from "tslib";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Badge } from '../../badge/badge';
import CaptionText from '../../caption-text/caption-text';
import FlexRow from '../../flex-row/flex-row';
import NavLink from '../../nav-link/nav-link';
import FlexColumn from '../../flex-column/flex-column';
import styled, { useTheme } from 'styled-components';
import { useMatchMedia } from '../../../utils/match-media';
import SvgIcon from '../../svg-icon/svg-icon';
import BodyText from '../../body-text/body-text';
export var ThemeModeType;
(function (ThemeModeType) {
    ThemeModeType["light"] = "light";
    ThemeModeType["dark"] = "dark";
})(ThemeModeType || (ThemeModeType = {}));
export var ProductItemWrapper = styled.span(function (_a) {
    var theme = _a.theme, isOpen = _a.isOpen, selected = _a.selected;
    return theme.withMedia(__assign({ display: 'flex', flex: '1 1 auto', justifyContent: 'center', alignItems: 'center', padding: ['8px 12px', '8px 12px', '16px'], width: ['208px', '208px', '172px'], height: ['56px', '56px', '137px'], '&:hover': {
            borderRadius: theme.borderRadius.base,
            background: theme.styleguideColors.backgroundSecondary,
        } }, (selected && {
        background: theme.styleguideColors.backgroundSecondary,
        pointerEvents: 'none',
    })));
});
export var ProductItemLink = styled(NavLink)(function (_a) {
    var theme = _a.theme, disabled = _a.disabled;
    return theme.withMedia(__assign({ color: theme.styleguideColors.contentPrimary, textDecoration: 'none', '&:hover': {
            color: theme.styleguideColors.contentBlue,
        }, '&:active': {
            color: theme.styleguideColors.contentLightBlue,
        } }, (disabled && {
        color: theme.styleguideColors.contentSecondary,
        '&:hover > *': {
            color: theme.styleguideColors.contentSecondary,
        },
    })));
});
var StyledBodyText = styled(BodyText)(templateObject_1 || (templateObject_1 = __makeTemplateObject(["\n    white-space: nowrap;\n"], ["\n    white-space: nowrap;\n"])));
var defaultIcon = (_a = {},
    _a[ThemeModeType.light] = 'assets/icons/ic-sand-clock-light.svg',
    _a[ThemeModeType.dark] = 'assets/icons/ic-sand-clock-dark.svg',
    _a);
export var ProductsMenuItem = function (_a) {
    var nameLabel = _a.nameLabel, link = _a.link, icon = _a.icon, descriptionText = _a.descriptionText, _b = _a.selected, selected = _b === void 0 ? false : _b, newBadgeLabel = _a.newBadgeLabel, comingSoonBadgeLabel = _a.comingSoonBadgeLabel, badge = _a.badge;
    var theme = useTheme();
    var itemBadge;
    if (badge) {
        itemBadge = _jsx(Badge, __assign({}, badge, { lineHeight: 'xxs' }));
    }
    else if (comingSoonBadgeLabel) {
        itemBadge = _jsx(Badge, { label: comingSoonBadgeLabel, variation: 'violet', lineHeight: 'xxs' });
    }
    else if (newBadgeLabel) {
        itemBadge = _jsx(Badge, { label: newBadgeLabel, variation: 'green', lineHeight: 'xxs' });
    }
    else {
        itemBadge = (_jsx(CaptionText, __assign({ size: 2, variation: 'lightGray' }, { children: descriptionText })));
    }
    var mobile = (_jsx(FlexRow, __assign({ itemsSpacing: 8, justify: 'flex-start', grow: 1 }, { children: _jsx(ProductItemLink, __assign({ href: link, target: '_blank', disabled: !!comingSoonBadgeLabel }, { children: _jsxs(FlexRow, __assign({ itemsSpacing: 8, grow: 1 }, { children: [_jsx(SvgIcon, { src: icon || defaultIcon[theme.themeName], size: 32 }), _jsxs(FlexColumn, __assign({ itemsSpacing: 4 }, { children: [itemBadge, _jsx(StyledBodyText, __assign({ size: 1 }, { children: nameLabel }))] }))] })) })) })));
    var desktop = (_jsx(ProductItemLink, __assign({ href: link, target: '_blank', disabled: !!comingSoonBadgeLabel }, { children: _jsxs(FlexColumn, __assign({ itemsSpacing: 16, align: 'center', justify: 'center', grow: 1 }, { children: [_jsx(SvgIcon, { src: icon || defaultIcon[theme.themeName], size: 48 }), _jsxs(FlexColumn, __assign({ itemsSpacing: 4, align: 'center' }, { children: [itemBadge, _jsx(StyledBodyText, __assign({ size: 1 }, { children: nameLabel }))] }))] })) })));
    var productMedia = useMatchMedia([mobile, mobile, desktop], []);
    return (_jsx(ProductItemWrapper, __assign({ selected: selected }, { children: productMedia })));
};
var templateObject_1;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdHMtbWVudS1pdGVtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9jb21wb25lbnRzL25hdmlnYXRpb24vY3Nwci1wcm9kdWN0cy1tZW51L3Byb2R1Y3RzLW1lbnUtaXRlbS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsT0FBTyxFQUFDLEtBQUssRUFBYSxNQUFNLG1CQUFtQixDQUFDO0FBQ3BELE9BQU8sV0FBVyxNQUFNLGlDQUFpQyxDQUFDO0FBQzFELE9BQU8sT0FBTyxNQUFNLHlCQUF5QixDQUFDO0FBQzlDLE9BQU8sT0FBTyxNQUFNLHlCQUF5QixDQUFDO0FBQzlDLE9BQU8sVUFBVSxNQUFNLCtCQUErQixDQUFDO0FBQ3ZELE9BQU8sTUFBTSxFQUFFLEVBQUUsUUFBUSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDckQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQzNELE9BQU8sT0FBTyxNQUFNLHlCQUF5QixDQUFDO0FBQzlDLE9BQU8sUUFBUSxNQUFNLDJCQUEyQixDQUFDO0FBYWpELE1BQU0sQ0FBTixJQUFZLGFBR1g7QUFIRCxXQUFZLGFBQWE7SUFDdkIsZ0NBQWUsQ0FBQTtJQUNmLDhCQUFhLENBQUE7QUFDZixDQUFDLEVBSFcsYUFBYSxLQUFiLGFBQWEsUUFHeEI7QUFFRCxNQUFNLENBQUMsSUFBTSxrQkFBa0IsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUcxQyxVQUFDLEVBQTJCO1FBQXpCLEtBQUssV0FBQSxFQUFFLE1BQU0sWUFBQSxFQUFFLFFBQVEsY0FBQTtJQUMzQixPQUFBLEtBQUssQ0FBQyxTQUFTLFlBQ2IsT0FBTyxFQUFFLE1BQU0sRUFDZixJQUFJLEVBQUUsVUFBVSxFQUNoQixjQUFjLEVBQUUsUUFBUSxFQUN4QixVQUFVLEVBQUUsUUFBUSxFQUNwQixPQUFPLEVBQUUsQ0FBQyxVQUFVLEVBQUUsVUFBVSxFQUFFLE1BQU0sQ0FB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a0JBQWtCLGFBQUMsUUFBUSxFQUFFLFFBQVEsZ0JBQUcsWUFBWSxJQUFzQixDQUM1RSxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7QmFkZ2UsIEJhZGdlUHJvcHN9IGZyb20gJy4uLy4uL2JhZGdlL2JhZGdlJztcbmltcG9ydCBDYXB0aW9uVGV4dCBmcm9tICcuLi8uLi9jYXB0aW9uLXRleHQvY2FwdGlvbi10ZXh0JztcbmltcG9ydCBGbGV4Um93IGZyb20gJy4uLy4uL2ZsZXgtcm93L2ZsZXgtcm93JztcbmltcG9ydCBOYXZMaW5rIGZyb20gJy4uLy4uL25hdi1saW5rL25hdi1saW5rJztcbmltcG9ydCBGbGV4Q29sdW1uIGZyb20gJy4uLy4uL2ZsZXgtY29sdW1uL2ZsZXgtY29sdW1uJztcbmltcG9ydCBzdHlsZWQsIHsgdXNlVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyB1c2VNYXRjaE1lZGlhIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvbWF0Y2gtbWVkaWEnO1xuaW1wb3J0IFN2Z0ljb24gZnJvbSAnLi4vLi4vc3ZnLWljb24vc3ZnLWljb24nO1xuaW1wb3J0IEJvZHlUZXh0IGZyb20gJy4uLy4uL2JvZHktdGV4dC9ib2R5LXRleHQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb2R1Y3RzTWVudUl0ZW1Qcm9wcyB7XG4gIGNvbWluZ1Nvb25CYWRnZUxhYmVsPzogc3RyaW5nO1xuICBuZXdCYWRnZUxhYmVsPzogc3RyaW5nO1xuICBzZWxlY3RlZD86IGJvb2xlYW47XG4gIGRlc2NyaXB0aW9uVGV4dD86IHN0cmluZztcbiAgbmFtZUxhYmVsOiBzdHJpbmc7XG4gIGxpbms6IHN0cmluZztcbiAgaWNvbjogc3RyaW5nO1xuICBiYWRnZT86IEJhZGdlUHJvcHM7XG59XG5cbmV4cG9ydCBlbnVtIFRoZW1lTW9kZVR5cGUge1xuICBsaWdodCA9ICdsaWdodCcsXG4gIGRhcmsgPSAnZGFyaycsXG59XG5cbmV4cG9ydCBjb25zdCBQcm9kdWN0SXRlbVdyYXBwZXIgPSBzdHlsZWQuc3Bhbjx7XG4gIGlzT3Blbj86IGJvb2xlYW47XG4gIHNlbGVjdGVkPzogYm9vbGVhbjtcbn0+KCh7IHRoZW1lLCBpc09wZW4sIHNlbGVjdGVkIH0pID0+XG4gIHRoZW1lLndpdGhNZWRpYSh7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGZsZXg6ICcxIDEgYXV0bycsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIHBhZGRpbmc6IFsnOHB4IDEycHgnLCAnOHB4IDEycHgnLCAnMTZweCddLFxuICAgIHdpZHRoOiBbJzIwOHB4JywgJzIwOHB4JywgJzE3MnB4J10sXG4gICAgaGVpZ2h0OiBbJzU2cHgnLCAnNTZweCcsICcxMzdweCddLFxuXG4gICAgJyY6aG92ZXInOiB7XG4gICAgICBib3JkZXJSYWRpdXM6IHRoZW1lLmJvcmRlclJhZGl1cy5iYXNlLFxuICAgICAgYmFja2dyb3VuZDogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5iYWNrZ3JvdW5kU2Vjb25kYXJ5LFxuICAgIH0sXG5cbiAgICAuLi4oc2VsZWN0ZWQgJiYge1xuICAgICAgYmFja2dyb3VuZDogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5iYWNrZ3JvdW5kU2Vjb25kYXJ5LFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgIH0pLFxuICB9KVxuKTtcblxuZXhwb3J0IGNvbnN0IFByb2R1Y3RJdGVtTGluayA9IHN0eWxlZChOYXZMaW5rKSgoeyB0aGVtZSwgZGlzYWJsZWQgfSkgPT5cbiAgdGhlbWUud2l0aE1lZGlhKHtcbiAgICBjb2xvcjogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5jb250ZW50UHJpbWFyeSxcbiAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxuXG4gICAgJyY6aG92ZXInOiB7XG4gICAgICBjb2xvcjogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5jb250ZW50Qmx1ZSxcbiAgICB9LFxuICAgICcmOmFjdGl2ZSc6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRMaWdodEJsdWUsXG4gICAgfSxcblxuICAgIC4uLihkaXNhYmxlZCAmJiB7XG4gICAgICBjb2xvcjogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5jb250ZW50U2Vjb25kYXJ5LFxuICAgICAgJyY6aG92ZXIgPiAqJzoge1xuICAgICAgICBjb2xvcjogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5jb250ZW50U2Vjb25kYXJ5LFxuICAgICAgfSxcbiAgICB9KSxcbiAgfSlcbik7XG5cbmNvbnN0IFN0eWxlZEJvZHlUZXh0ID0gIHN0eWxlZChCb2R5VGV4dClgXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbmBcblxuY29uc3QgZGVmYXVsdEljb24gPSB7XG4gIFtUaGVtZU1vZGVUeXBlLmxpZ2h0XTogJ2Fzc2V0cy9pY29ucy9pYy1zYW5kLWNsb2NrLWxpZ2h0LnN2ZycsXG4gIFtUaGVtZU1vZGVUeXBlLmRhcmtdOiAnYXNzZXRzL2ljb25zL2ljLXNhbmQtY2xvY2stZGFyay5zdmcnLFxufTtcblxuZXhwb3J0IGNvbnN0IFByb2R1Y3RzTWVudUl0ZW0gPSAoe1xuICBuYW1lTGFiZWwsXG4gIGxpbmssXG4gIGljb24sXG4gIGRlc2NyaXB0aW9uVGV4dCxcbiAgc2VsZWN0ZWQgPSBmYWxzZSxcbiAgbmV3QmFkZ2VMYWJlbCxcbiAgY29taW5nU29vbkJhZGdlTGFiZWwsXG4gIGJhZGdlLFxufTogUHJvZHVjdHNNZW51SXRlbVByb3BzKSA9PiB7XG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcblxuICBsZXQgaXRlbUJhZGdlO1xuICBpZiAoYmFkZ2UpIHtcbiAgICAgIGl0ZW1CYWRnZSA9IDxCYWRnZSB7Li4uYmFkZ2V9IGxpbmVIZWlnaHQ9eyd4eHMnfSAvPlxuICB9IGVsc2UgaWYgKGNvbWluZ1Nvb25CYWRnZUxhYmVsKSB7XG4gICAgaXRlbUJhZGdlID0gPEJhZGdlIGxhYmVsPXtjb21pbmdTb29uQmFkZ2VMYWJlbH0gdmFyaWF0aW9uPXsndmlvbGV0J30gbGluZUhlaWdodD17J3h4cyd9IC8+O1xuICB9IGVsc2UgaWYgKG5ld0JhZGdlTGFiZWwpIHtcbiAgICBpdGVtQmFkZ2UgPSA8QmFkZ2UgbGFiZWw9e25ld0JhZGdlTGFiZWx9IHZhcmlhdGlvbj17J2dyZWVuJ30gbGluZUhlaWdodD17J3h4cyd9IC8+O1xuICB9IGVsc2Uge1xuICAgIGl0ZW1CYWRnZSA9IChcbiAgICAgIDxDYXB0aW9uVGV4dCBzaXplPXsyfSB2YXJpYXRpb249eydsaWdodEdyYXknfT5cbiAgICAgICAge2Rlc2NyaXB0aW9uVGV4dH1cbiAgICAgIDwvQ2FwdGlvblRleHQ+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IG1vYmlsZSA9IChcbiAgICA8RmxleFJvdyBpdGVtc1NwYWNpbmc9ezh9IGp1c3RpZnk9eydmbGV4LXN0YXJ0J30gZ3Jvdz17MX0+XG4gICAgICA8UHJvZHVjdEl0ZW1MaW5rIGhyZWY9e2xpbmt9IHRhcmdldD17J19ibGFuayd9IGRpc2FibGVkPXshIWNvbWluZ1Nvb25CYWRnZUxhYmVsfT5cbiAgICAgICAgPEZsZXhSb3cgaXRlbXNTcGFjaW5nPXs4fSBncm93PXsxfT5cbiAgICAgICAgICA8U3ZnSWNvbiBzcmM9e2ljb24gfHwgZGVmYXVsdEljb25bdGhlbWUudGhlbWVOYW1lXX0gc2l6ZT17MzJ9IC8+XG4gICAgICAgICAgPEZsZXhDb2x1bW4gaXRlbXNTcGFjaW5nPXs0fT5cbiAgICAgICAgICAgIHtpdGVtQmFkZ2V9XG4gICAgICAgICAgICA8U3R5bGVkQm9keVRleHQgc2l6ZT17MX0+e25hbWVMYWJlbH08L1N0eWxlZEJvZHlUZXh0PlxuICAgICAgICAgIDwvRmxleENvbHVtbj5cbiAgICAgICAgPC9GbGV4Um93PlxuICAgICAgPC9Qcm9kdWN0SXRlbUxpbms+XG4gICAgPC9GbGV4Um93PlxuICApO1xuXG4gIGNvbnN0IGRlc2t0b3AgPSAoXG4gICAgPFByb2R1Y3RJdGVtTGluayBocmVmPXtsaW5rfSB0YXJnZXQ9eydfYmxhbmsnfSBkaXNhYmxlZD17ISFjb21pbmdTb29uQmFkZ2VMYWJlbH0+XG4gICAgICA8RmxleENvbHVtblxuICAgICAgICBpdGVtc1NwYWNpbmc9ezE2fVxuICAgICAgICBhbGlnbj17J2NlbnRlcid9XG4gICAgICAgIGp1c3RpZnk9eydjZW50ZXInfVxuICAgICAgICBncm93PXsxfVxuICAgICAgPlxuICAgICAgICA8U3ZnSWNvbiBzcmM9e2ljb24gfHwgZGVmYXVsdEljb25bdGhlbWUudGhlbWVOYW1lXX0gc2l6ZT17NDh9IC8+XG4gICAgICAgIDxGbGV4Q29sdW1uIGl0ZW1zU3BhY2luZz17NH0gYWxpZ249eydjZW50ZXInfT5cbiAgICAgICAgICB7aXRlbUJhZGdlfVxuICAgICAgICAgIDxTdHlsZWRCb2R5VGV4dCBzaXplPXsxfT57bmFtZUxhYmVsfTwvU3R5bGVkQm9keVRleHQ+XG4gICAgICAgIDwvRmxleENvbHVtbj5cbiAgICAgIDwvRmxleENvbHVtbj5cbiAgICA8L1Byb2R1Y3RJdGVtTGluaz5cbiAgKTtcblxuICBjb25zdCBwcm9kdWN0TWVkaWEgPSB1c2VNYXRjaE1lZGlhKFttb2JpbGUsIG1vYmlsZSwgZGVza3RvcF0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxQcm9kdWN0SXRlbVdyYXBwZXIgc2VsZWN0ZWQ9e3NlbGVjdGVkfT57cHJvZHVjdE1lZGlhfTwvUHJvZHVjdEl0ZW1XcmFwcGVyPlxuICApO1xufTtcbiJdfQ==