import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import styled from 'styled-components';
import { PaginationArrowButton, PaginationButton } from './pagination-button';
import { PaginationInput } from './pagination-input';
import { RowsPerPage } from './rows-per-page';
import FlexRow from '../flex-row/flex-row';
import SvgIcon from '../svg-icon/svg-icon';
import FlexColumn from '../flex-column/flex-column';
import { formatNumber } from '../../utils/formatters';
import BodyText from '../body-text/body-text';
import { useMatchMedia } from '../../utils/match-media';
import ArrowRightIcon from '../../assets/icons/ic-arrow-right.svg';
const ROWS_PER_PAGE = [5, 10, 25, 50];
export const Container = styled(FlexRow)(({ theme }) => theme.withMedia({
    height: [80, 48],
    flexDirection: ['column', 'row', 'row'],
    justifyContent: 'space-between',
    padding: ['12px 10px', '12px 20px'],
    margin: ['0 0 10px 0', '0'],
}));
const MirroredSvgIcon = styled(SvgIcon)(({ theme }) => ({
    transform: 'rotate(180deg)',
}));
export const Pagination = ({ perPage = 10, itemCount = 0, pageCount = 1, currentPage = 1, setCurrentPage = () => { }, setPerPage = () => { }, hideRowsPerPage = false, totalRowsLabel = 'total row', }) => {
    const isFirstEnabled = currentPage > 1;
    const isPrevEnabled = currentPage > 1;
    const isLastEnabled = currentPage < pageCount;
    const noData = pageCount < 1;
    const prevPageHandler = () => setCurrentPage(currentPage - 1);
    const nextPageHandler = () => setCurrentPage(currentPage + 1);
    const firstPageHandler = () => setCurrentPage(1);
    const lastPageHandler = () => setCurrentPage(pageCount);
    const handlePaginationChange = (page) => setCurrentPage(page);
    const onMobile = (_jsxs(FlexColumn, { itemsSpacing: 4, children: [_jsxs(FlexRow, { itemsSpacing: 4, children: [_jsx(PaginationButton, { color: 'secondaryRed', disabled: !isFirstEnabled, onClick: firstPageHandler, children: "First" }), _jsx(PaginationArrowButton, { color: 'secondaryRed', disabled: !isPrevEnabled, onClick: prevPageHandler, children: _jsx(MirroredSvgIcon, { src: ArrowRightIcon }) }), _jsx(PaginationInput, { pageCount: pageCount, currentPage: currentPage, onChange: handlePaginationChange }), _jsx(PaginationArrowButton, { color: 'secondaryRed', disabled: !isLastEnabled, onClick: nextPageHandler, children: _jsx(SvgIcon, { src: ArrowRightIcon }) }), _jsx(PaginationButton, { color: 'secondaryRed', disabled: !isLastEnabled, onClick: lastPageHandler, children: "Last" })] }), !hideRowsPerPage && (_jsx(RowsPerPage, { value: perPage, items: ROWS_PER_PAGE, onChange: setPerPage }))] }));
    const onAbove = (_jsxs(FlexRow, { itemsSpacing: 40, children: [!hideRowsPerPage && (_jsx(RowsPerPage, { value: perPage, items: ROWS_PER_PAGE, onChange: setPerPage })), _jsxs(FlexRow, { itemsSpacing: 4, align: 'center', children: [_jsx(PaginationButton, { disabled: !isFirstEnabled, onClick: firstPageHandler, color: 'secondaryRed', children: "First" }), _jsx(PaginationArrowButton, { color: 'secondaryRed', disabled: !isPrevEnabled, onClick: prevPageHandler, children: _jsx(MirroredSvgIcon, { src: ArrowRightIcon }) }), _jsx(PaginationInput, { pageCount: pageCount, currentPage: currentPage, onChange: handlePaginationChange }), _jsx(PaginationArrowButton, { color: 'secondaryRed', disabled: !isLastEnabled, onClick: nextPageHandler, children: _jsx(SvgIcon, { src: ArrowRightIcon }) }), _jsx(PaginationButton, { disabled: !isLastEnabled, onClick: lastPageHandler, color: 'secondaryRed', children: "Last" })] })] }));
    const responsivePagination = useMatchMedia([onMobile, onAbove], [perPage, currentPage, pageCount]);
    if (noData) {
        return (_jsx(Container, { children: _jsx("span", { children: "\u00A0" }) }));
    }
    return (_jsxs(Container, { children: [_jsx(FlexRow, { align: "center", children: _jsxs(BodyText, { size: 3, scale: 'xs', variation: 'darkGray', children: [formatNumber(itemCount), " ", totalRowsLabel, itemCount > 1 && 's'] }) }), responsivePagination] }));
};
export default Pagination;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnaW5hdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9wYWdpbmF0aW9uL3BhZ2luYXRpb24udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxPQUFPLE1BQU0sTUFBTSxtQkFBbUIsQ0FBQztBQUV2QyxPQUFPLEVBQUUscUJBQXFCLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUM5RSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDckQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzlDLE9BQU8sT0FBTyxNQUFNLHNCQUFzQixDQUFDO0FBQzNDLE9BQU8sT0FBTyxNQUFNLHNCQUFzQixDQUFDO0FBQzNDLE9BQU8sVUFBVSxNQUFNLDRCQUE0QixDQUFDO0FBQ3BELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUN0RCxPQUFPLFFBQVEsTUFBTSx3QkFBd0IsQ0FBQztBQUM5QyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDeEQsT0FBTyxjQUFjLE1BQU0sdUNBQXVDLENBQUM7QUFFbkUsTUFBTSxhQUFhLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUV0QyxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQ25ELEtBQUssQ0FBQyxTQUFTLENBQUM7SUFDZCxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDO0lBQ2hCLGFBQWEsRUFBRSxDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDO0lBQ3ZDLGNBQWMsRUFBRSxlQUFlO0lBQy9CLE9BQU8sRUFBRSxDQUFDLFdBQVcsRUFBRSxX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Q1IsS0FBQyxPQUFPLElBQUMsS0FBSyxFQUFFLFFBQVEsWUFDdEIsTUFBQyxRQUFRLElBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxVQUFVLGFBQ2xELFlBQVksQ0FBQyxTQUFTLENBQUMsT0FBRyxjQUFjLEVBQ3hDLFNBQVMsR0FBRyxDQUFDLElBQUksR0FBRyxJQUNaLEdBQ0gsRUFDVCxvQkFBb0IsSUFDWCxDQUNiLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixlQUFlLFVBQVUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcblxuaW1wb3J0IHsgUGFnaW5hdGlvbkFycm93QnV0dG9uLCBQYWdpbmF0aW9uQnV0dG9uIH0gZnJvbSAnLi9wYWdpbmF0aW9uLWJ1dHRvbic7XG5pbXBvcnQgeyBQYWdpbmF0aW9uSW5wdXQgfSBmcm9tICcuL3BhZ2luYXRpb24taW5wdXQnO1xuaW1wb3J0IHsgUm93c1BlclBhZ2UgfSBmcm9tICcuL3Jvd3MtcGVyLXBhZ2UnO1xuaW1wb3J0IEZsZXhSb3cgZnJvbSAnLi4vZmxleC1yb3cvZmxleC1yb3cnO1xuaW1wb3J0IFN2Z0ljb24gZnJvbSAnLi4vc3ZnLWljb24vc3ZnLWljb24nO1xuaW1wb3J0IEZsZXhDb2x1bW4gZnJvbSAnLi4vZmxleC1jb2x1bW4vZmxleC1jb2x1bW4nO1xuaW1wb3J0IHsgZm9ybWF0TnVtYmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvZm9ybWF0dGVycyc7XG5pbXBvcnQgQm9keVRleHQgZnJvbSAnLi4vYm9keS10ZXh0L2JvZHktdGV4dCc7XG5pbXBvcnQgeyB1c2VNYXRjaE1lZGlhIH0gZnJvbSAnLi4vLi4vdXRpbHMvbWF0Y2gtbWVkaWEnO1xuaW1wb3J0IEFycm93UmlnaHRJY29uIGZyb20gJy4uLy4uL2Fzc2V0cy9pY29ucy9pYy1hcnJvdy1yaWdodC5zdmcnO1xuXG5jb25zdCBST1dTX1BFUl9QQUdFID0gWzUsIDEwLCAyNSwgNTBdO1xuXG5leHBvcnQgY29uc3QgQ29udGFpbmVyID0gc3R5bGVkKEZsZXhSb3cpKCh7IHRoZW1lIH0pID0+XG4gICAgdGhlbWUud2l0aE1lZGlhKHtcbiAgICAgIGhlaWdodDogWzgwLCA0OF0sXG4gICAgICBmbGV4RGlyZWN0aW9uOiBbJ2NvbHVtbicsICdyb3cnLCAncm93J10sXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgcGFkZGluZzogWycxMnB4IDEwcHgnLCAnMTJweCAyMHB4J10sXG4gICAgICBtYXJnaW46IFsnMCAwIDEwcHggMCcsICcwJ10sXG4gICAgfSksXG4pO1xuXG5jb25zdCBNaXJyb3JlZFN2Z0ljb24gPSBzdHlsZWQoU3ZnSWNvbikoKHsgdGhlbWUgfSkgPT4gKHtcbiAgdHJhbnNmb3JtOiAncm90YXRlKDE4MGRlZyknLFxufSkpO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBhZ2luYXRpb25Qcm9wcyB7XG4gIHBlclBhZ2U6IG51bWJlcjtcbiAgaXRlbUNvdW50PzogbnVtYmVyO1xuICBwYWdlQ291bnQ/OiBudW1iZXI7XG4gIGN1cnJlbnRQYWdlPzogbnVtYmVyO1xuICBzZXRQZXJQYWdlPzogKGxpbWl0OiBudW1iZXIpID0+IHZvaWQ7XG4gIHNldEN1cnJlbnRQYWdlPzogKHBhZ2U6IG51bWJlcikgPT4gdm9pZDtcbiAgaGlkZVJvd3NQZXJQYWdlPzogYm9vbGVhbjtcbiAgdG90YWxSb3dzTGFiZWw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBQYWdpbmF0aW9uOiBSZWFjdC5GQzxQYWdpbmF0aW9uUHJvcHM+ID0gKHtcbiAgcGVyUGFnZSA9IDEwLFxuICBpdGVtQ291bnQ9IDAsXG4gIHBhZ2VDb3VudCA9IDEsXG4gIGN1cnJlbnRQYWdlID0gMSxcbiAgc2V0Q3VycmVudFBhZ2UgPSAoKSA9PiB7fSxcbiAgc2V0UGVyUGFnZSA9ICgpID0+IHt9LFxuICBoaWRlUm93c1BlclBhZ2UgPSBmYWxzZSxcbiAgdG90YWxSb3dzTGFiZWwgPSAndG90YWwgcm93Jyxcbn0pID0+IHtcbiAgY29uc3QgaXNGaXJzdEVuYWJsZWQgPSBjdXJyZW50UGFnZSA+IDE7XG4gIGNvbnN0IGlzUHJldkVuYWJsZWQgPSBjdXJyZW50UGFnZSA+IDE7XG4gIGNvbnN0IGlzTGFzdEVuYWJsZWQgPSBjdXJyZW50UGFnZSA8IHBhZ2VDb3VudDtcbiAgY29uc3Qgbm9EYXRhID0gcGFnZUNvdW50IDwgMTtcblxuICBjb25zdCBwcmV2UGFnZUhhbmRsZXIgPSAoKSA9PiBzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZSAtIDEpO1xuXG4gIGNvbnN0IG5leHRQYWdlSGFuZGxlciA9ICgpID0+IHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlICsgMSk7XG5cbiAgY29uc3QgZmlyc3RQYWdlSGFuZGxlciA9ICgpID0+IHNldEN1cnJlbnRQYWdlKDEpO1xuXG4gIGNvbnN0IGxhc3RQYWdlSGFuZGxlciA9ICgpID0+IHNldEN1cnJlbnRQYWdlKHBhZ2VDb3VudCk7XG5cbiAgY29uc3QgaGFuZGxlUGFnaW5hdGlvbkNoYW5nZSA9IChwYWdlOiBudW1iZXIpID0+XG4gICAgICBzZXRDdXJyZW50UGFnZShwYWdlKTtcblxuICBjb25zdCBvbk1vYmlsZSA9IChcbiAgICA8RmxleENvbHVtbiBpdGVtc1NwYWNpbmc9ezR9PlxuICAgICAgPEZsZXhSb3cgaXRlbXNTcGFjaW5nPXs0fT5cbiAgICAgICAgPFBhZ2luYXRpb25CdXR0b25cbiAgICAgICAgICBjb2xvcj17J3NlY29uZGFyeVJlZCd9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFpc0ZpcnN0RW5hYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXtmaXJzdFBhZ2VIYW5kbGVyfVxuICAgICAgICA+XG4gICAgICAgICAgRmlyc3RcbiAgICAgICAgPC9QYWdpbmF0aW9uQnV0dG9uPlxuICAgICAgICA8UGFnaW5hdGlvbkFycm93QnV0dG9uXG4gICAgICAgICAgY29sb3I9eydzZWNvbmRhcnlSZWQnfVxuICAgICAgICAgIGRpc2FibGVkPXshaXNQcmV2RW5hYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXtwcmV2UGFnZUhhbmRsZXJ9XG4gICAgICAgID5cbiAgICAgICAgICA8TWlycm9yZWRTdmdJY29uIHNyYz17QXJyb3dSaWdodEljb259IC8+XG4gICAgICAgIDwvUGFnaW5hdGlvbkFycm93QnV0dG9uPlxuICAgICAgICA8UGFnaW5hdGlvbklucHV0XG4gICAgICAgICAgcGFnZUNvdW50PXtwYWdlQ291bnR9XG4gICAgICAgICAgY3VycmVudFBhZ2U9e2N1cnJlbnRQYWdlfVxuICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVQYWdpbmF0aW9uQ2hhbmdlfVxuICAgICAgICAvPlxuICAgICAgICA8UGFnaW5hdGlvbkFycm93QnV0dG9uXG4gICAgICAgICAgY29sb3I9eydzZWNvbmRhcnlSZWQnfVxuICAgICAgICAgIGRpc2FibGVkPXshaXNMYXN0RW5hYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXtuZXh0UGFnZUhhbmRsZXJ9XG4gICAgICAgID5cbiAgICAgICAgICA8U3ZnSWNvbiBzcmM9e0Fycm93UmlnaHRJY29ufSAvPlxuICAgICAgICA8L1BhZ2luYXRpb25BcnJvd0J1dHRvbj5cbiAgICAgICAgPFBhZ2luYXRpb25CdXR0b25cbiAgICAgICAgICBjb2xvcj17J3NlY29uZGFyeVJlZCd9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFpc0xhc3RFbmFibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e2xhc3RQYWdlSGFuZGxlcn1cbiAgICAgICAgPlxuICAgICAgICAgIExhc3RcbiAgICAgICAgPC9QYWdpbmF0aW9uQnV0dG9uPlxuICAgICAgPC9GbGV4Um93PlxuICAgICAgeyFoaWRlUm93c1BlclBhZ2UgJiYgKFxuICAgICAgICAgIDxSb3dzUGVyUGFnZVxuICAgICAgICAgICAgdmFsdWU9e3BlclBhZ2V9XG4gICAgICAgICAgICBpdGVtcz17Uk9XU19QRVJfUEFHRX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtzZXRQZXJQYWdlfVxuICAgICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvRmxleENvbHVtbj5cbiAgKTtcblxuICBjb25zdCBvbkFib3ZlID0gKFxuICAgIDxGbGV4Um93IGl0ZW1zU3BhY2luZz17NDB9PlxuICAgICAgeyFoaWRlUm93c1BlclBhZ2UgJiYgKFxuICAgICAgICAgIDxSb3dzUGVyUGFnZVxuICAgICAgICAgICAgdmFsdWU9e3BlclBhZ2V9XG4gICAgICAgICAgICBpdGVtcz17Uk9XU19QRVJfUEFHRX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtzZXRQZXJQYWdlfVxuICAgICAgICAgIC8+XG4gICAgICApfVxuICAgICAgPEZsZXhSb3cgaXRlbXNTcGFjaW5nPXs0fSBhbGlnbj17J2NlbnRlcid9PlxuICAgICAgICA8UGFnaW5hdGlvbkJ1dHRvblxuICAgICAgICAgIGRpc2FibGVkPXshaXNGaXJzdEVuYWJsZWR9XG4gICAgICAgICAgb25DbGljaz17Zmlyc3RQYWdlSGFuZGxlcn1cbiAgICAgICAgICBjb2xvcj17J3NlY29uZGFyeVJlZCd9XG4gICAgICAgID5cbiAgICAgICAgICBGaXJzdFxuICAgICAgICA8L1BhZ2luYXRpb25CdXR0b24+XG4gICAgICAgIDxQYWdpbmF0aW9uQXJyb3dCdXR0b25cbiAgICAgICAgICBjb2xvcj17J3NlY29uZGFyeVJlZCd9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFpc1ByZXZFbmFibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e3ByZXZQYWdlSGFuZGxlcn1cbiAgICAgICAgPlxuICAgICAgICAgIDxNaXJyb3JlZFN2Z0ljb24gc3JjPXtBcnJvd1JpZ2h0SWNvbn0gLz5cbiAgICAgICAgPC9QYWdpbmF0aW9uQXJyb3dCdXR0b24+XG4gICAgICAgIDxQYWdpbmF0aW9uSW5wdXRcbiAgICAgICAgICBwYWdlQ291bnQ9e3BhZ2VDb3VudH1cbiAgICAgICAgICBjdXJyZW50UGFnZT17Y3VycmVudFBhZ2V9XG4gICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVBhZ2luYXRpb25DaGFuZ2V9XG4gICAgICAgIC8+XG4gICAgICAgIDxQYWdpbmF0aW9uQXJyb3dCdXR0b25cbiAgICAgICAgICBjb2xvcj17J3NlY29uZGFyeVJlZCd9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFpc0xhc3RFbmFibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e25leHRQYWdlSGFuZGxlcn1cbiAgICAgICAgPlxuICAgICAgICAgIDxTdmdJY29uIHNyYz17QXJyb3dSaWdodEljb259IC8+XG4gICAgICAgIDwvUGFnaW5hdGlvbkFycm93QnV0dG9uPlxuICAgICAgICA8UGFnaW5hdGlvbkJ1dHRvblxuICAgICAgICAgIGRpc2FibGVkPXshaXNMYXN0RW5hYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXtsYXN0UGFnZUhhbmRsZXJ9XG4gICAgICAgICAgY29sb3I9eydzZWNvbmRhcnlSZWQnfVxuICAgICAgICA+XG4gICAgICAgICAgTGFzdFxuICAgICAgICA8L1BhZ2luYXRpb25CdXR0b24+XG4gICAgICA8L0ZsZXhSb3c+XG4gICAgPC9GbGV4Um93PlxuICApO1xuXG4gIGNvbnN0IHJlc3BvbnNpdmVQYWdpbmF0aW9uID0gdXNlTWF0Y2hNZWRpYShcbiAgICBbb25Nb2JpbGUsIG9uQWJvdmVdLFxuICAgIFtwZXJQYWdlLCBjdXJyZW50UGFnZSwgcGFnZUNvdW50XSxcbiAgKTtcblxuICBpZiAobm9EYXRhKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb250YWluZXI+XG4gICAgICAgIDxzcGFuPiZuYnNwOzwvc3Bhbj5cbiAgICAgIDwvQ29udGFpbmVyPlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIChcbiAgICA8Q29udGFpbmVyPlxuICAgICAgPEZsZXhSb3cgYWxpZ249e1wiY2VudGVyXCJ9PlxuICAgICAgICA8Qm9keVRleHQgc2l6ZT17M30gc2NhbGU9eyd4cyd9IHZhcmlhdGlvbj17J2RhcmtHcmF5J30+XG4gICAgICAgICAge2Zvcm1hdE51bWJlcihpdGVtQ291bnQpfSB7dG90YWxSb3dzTGFiZWx9XG4gICAgICAgICAge2l0ZW1Db3VudCA+IDEgJiYgJ3MnfVxuICAgICAgICA8L0JvZHlUZXh0PlxuICAgICAgPC9GbGV4Um93PlxuICAgICAge3Jlc3BvbnNpdmVQYWdpbmF0aW9ufVxuICAgIDwvQ29udGFpbmVyPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUGFnaW5hdGlvbjtcbiJdfQ==