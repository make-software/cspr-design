import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import styled from 'styled-components';
import { PaginationInfoText } from './pagination-info-text';
import { useClickAway } from '../../hooks/use-click-away';
import { formatNumber } from '../../utils/formatters';
export const PaginationInputContainer = styled.div(({ theme }) => theme.withMedia({
    width: ['unset', '160px', '160px'],
    '*': {
        boxSizing: 'border-box',
    },
}));
const StyledInput = styled('input')(({ theme }) => ({
    color: 'inherit',
    background: 'inherit',
    fontFamily: 'inherit',
    fontSize: 'inherit',
    border: 'none',
    width: '100%',
    padding: 0,
    textAlign: 'center',
    caretColor: theme.styleguideColors.contentRed,
    '&[type=number]': {
        '&::-webkit-inner-spin-button, &::-webkit-outer-spin-button': {
            margin: 0,
            '-webkit-appearance': 'none',
            'pointer-events': 'none',
        },
    },
    outline: 'none',
}));
const InputInfoText = styled(PaginationInfoText)(({ theme }) => ({
    width: '100%',
    height: 24,
    cursor: 'pointer',
    ':hover': {
        background: theme.styleguideColors.fillSecondaryRedHover,
        color: theme.styleguideColors.contentRed,
    },
}));
export const PaginationInput = ({ currentPage, pageCount, onChange, }) => {
    const [isHovered, setHover] = useState(false);
    const [showInput, setShowInput] = useState(false);
    const [page, setPage] = useState(undefined);
    const convertDecimalToThousand = (value) => {
        return Number(value?.replace(/[,.]/g, '')) || 0;
    };
    const resetInputValue = () => {
        setShowInput(false);
        setPage(undefined);
    };
    const { ref } = useClickAway({
        callback: () => {
            resetInputValue();
        },
    });
    const handleMouseOver = () => {
        setHover(true);
    };
    const handleMouseOut = () => {
        setHover(false);
    };
    const handleClick = () => {
        setShowInput(true);
    };
    const handleSubmit = (e) => {
        if (e.keyCode === 13) {
            const pageNumber = convertDecimalToThousand(page);
            onChange(pageNumber > pageCount ? pageCount : pageNumber);
            resetInputValue();
        }
    };
    return (_jsx(PaginationInputContainer, { onMouseOver: handleMouseOver, onMouseOut: handleMouseOut, onClick: handleClick, ref: ref, children: _jsx(InputInfoText, { children: showInput ? (_jsx(StyledInput, { inputMode: 'numeric', autoFocus: true, value: page, onChange: (e) => setPage(e.target.value), onKeyDown: handleSubmit })) : isHovered && !showInput ? (_jsx(_Fragment, { children: "Enter page" })) : (_jsxs(_Fragment, { children: ["Page ", formatNumber(currentPage), " of ", formatNumber(pageCount)] })) }) }));
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnaW5hdGlvbi1pbnB1dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9wYWdpbmF0aW9uL3BhZ2luYXRpb24taW5wdXQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFjLEVBQUUsUUFBUSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ3hDLE9BQU8sTUFBTSxNQUFNLG1CQUFtQixDQUFDO0FBQ3ZDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBRzVELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFRdEQsTUFBTSxDQUFDLE1BQU0sd0JBQXdCLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUMvRCxLQUFLLENBQUMsU0FBUyxDQUFDO0lBQ2QsS0FBSyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUM7SUFDbEMsR0FBRyxFQUFFO1FBQ0gsU0FBUyxFQUFFLFlBQVk7S0FDeEI7Q0FDRixDQUFDLENBQ0gsQ0FBQztBQUVGLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBYSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDOUQsS0FBSyxFQUFFLFNBQVM7SUFDaEIsVUFBVSxFQUFFLFNBQVM7SUFDckIsVUFBVSxFQUFFLFNBQVM7SUFDckIsUUFBUSxFQUFFLFNBQVM7SUFDbkIsTUFBTSxFQUFFLE1BQU07SUFDZCxLQUFLLEVBQUUsTUFBTTtJQUNiLE9BQU8sRUFBRSxDQUFDO0lBQ1YsU0FBUyxFQUFFLFFBQVE7SUFDbkIsVUFBVSxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVO0lBQzdDLGdCQUFnQixFQUFFO1FBQ2hC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TyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQ3hDLFNBQVMsRUFBRSxZQUFZLEdBQ3ZCLENBQ0gsQ0FBQyxDQUFDLENBQUMsU0FBUyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUM1QiwyQ0FBZSxDQUNoQixDQUFDLENBQUMsQ0FBQyxDQUNGLHVDQUNRLFlBQVksQ0FBQyxXQUFXLENBQUMsVUFBTSxZQUFZLENBQUMsU0FBUyxDQUFDLElBQzNELENBQ0osR0FDYSxHQUNTLENBQzVCLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IFBhZ2luYXRpb25JbmZvVGV4dCB9IGZyb20gJy4vcGFnaW5hdGlvbi1pbmZvLXRleHQnO1xuaW1wb3J0IHsgQnV0dG9uUHJvcHMgfSBmcm9tICcuLi9idXR0b24vYnV0dG9uJztcbmltcG9ydCB7IElucHV0UHJvcHMgfSBmcm9tICcuLi9pbnB1dC9pbnB1dCc7XG5pbXBvcnQgeyB1c2VDbGlja0F3YXkgfSBmcm9tICcuLi8uLi9ob29rcy91c2UtY2xpY2stYXdheSc7XG5pbXBvcnQgeyBmb3JtYXROdW1iZXIgfSBmcm9tICcuLi8uLi91dGlscy9mb3JtYXR0ZXJzJztcblxuaW50ZXJmYWNlIFBhZ2luYXRpb25JbnB1dFByb3BzIGV4dGVuZHMgQnV0dG9uUHJvcHMge1xuICBjdXJyZW50UGFnZTogbnVtYmVyO1xuICBwYWdlQ291bnQ6IG51bWJlcjtcbiAgb25DaGFuZ2U6IChwYWdlKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgUGFnaW5hdGlvbklucHV0Q29udGFpbmVyID0gc3R5bGVkLmRpdigoeyB0aGVtZSB9KSA9PlxuICB0aGVtZS53aXRoTWVkaWEoe1xuICAgIHdpZHRoOiBbJ3Vuc2V0JywgJzE2MHB4JywgJzE2MHB4J10sXG4gICAgJyonOiB7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICB9LFxuICB9KSxcbik7XG5cbmNvbnN0IFN0eWxlZElucHV0ID0gc3R5bGVkKCdpbnB1dCcpPElucHV0UHJvcHM+KCh7IHRoZW1lIH0pID0+ICh7XG4gIGNvbG9yOiAnaW5oZXJpdCcsXG4gIGJhY2tncm91bmQ6ICdpbmhlcml0JyxcbiAgZm9udEZhbWlseTogJ2luaGVyaXQnLFxuICBmb250U2l6ZTogJ2luaGVyaXQnLFxuICBib3JkZXI6ICdub25lJyxcbiAgd2lkdGg6ICcxMDAlJyxcbiAgcGFkZGluZzogMCxcbiAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgY2FyZXRDb2xvcjogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5jb250ZW50UmVkLFxuICAnJlt0eXBlPW51bWJlcl0nOiB7XG4gICAgJyY6Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24sICY6Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b24nOiB7XG4gICAgICBtYXJnaW46IDAsXG4gICAgICAnLXdlYmtpdC1hcHBlYXJhbmNlJzogJ25vbmUnLFxuICAgICAgJ3BvaW50ZXItZXZlbnRzJzogJ25vbmUnLFxuICAgIH0sXG4gIH0sXG4gIG91dGxpbmU6ICdub25lJyxcbn0pKTtcblxuY29uc3QgSW5wdXRJbmZvVGV4dCA9IHN0eWxlZChQYWdpbmF0aW9uSW5mb1RleHQpKCh7IHRoZW1lIH0pID0+ICh7XG4gIHdpZHRoOiAnMTAwJScsXG4gIGhlaWdodDogMjQsXG4gIGN1cnNvcjogJ3BvaW50ZXInLFxuICAnOmhvdmVyJzoge1xuICAgIGJhY2tncm91bmQ6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuZmlsbFNlY29uZGFyeVJlZEhvdmVyLFxuICAgIGNvbG9yOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRSZWQsXG4gIH0sXG59KSk7XG5cbmV4cG9ydCBjb25zdCBQYWdpbmF0aW9uSW5wdXQgPSAoe1xuICBjdXJyZW50UGFnZSxcbiAgcGFnZUNvdW50LFxuICBvbkNoYW5nZSxcbn06IFBhZ2luYXRpb25JbnB1dFByb3BzKSA9PiB7XG4gIGNvbnN0IFtpc0hvdmVyZWQsIHNldEhvdmVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dJbnB1dCwgc2V0U2hvd0lucHV0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3BhZ2UsIHNldFBhZ2VdID0gdXNlU3RhdGUodW5kZWZpbmVkKTtcblxuICBjb25zdCBjb252ZXJ0RGVjaW1hbFRvVGhvdXNhbmQgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gTnVtYmVyKHZhbHVlPy5yZXBsYWNlKC9bLC5dL2csICcnKSkgfHwgMDtcbiAgfTtcblxuICBjb25zdCByZXNldElucHV0VmFsdWUgPSAoKSA9PiB7XG4gICAgc2V0U2hvd0lucHV0KGZhbHNlKTtcbiAgICBzZXRQYWdlKHVuZGVmaW5lZCk7XG4gIH07XG5cbiAgY29uc3QgeyByZWYgfSA9IHVzZUNsaWNrQXdheSh7XG4gICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgIHJlc2V0SW5wdXRWYWx1ZSgpO1xuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IGhhbmRsZU1vdXNlT3ZlciA9ICgpID0+IHtcbiAgICBzZXRIb3Zlcih0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVNb3VzZU91dCA9ICgpID0+IHtcbiAgICBzZXRIb3ZlcihmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoKSA9PiB7XG4gICAgc2V0U2hvd0lucHV0KHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChlKSA9PiB7XG4gICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSBjb252ZXJ0RGVjaW1hbFRvVGhvdXNhbmQocGFnZSk7XG5cbiAgICAgIG9uQ2hhbmdlKHBhZ2VOdW1iZXIgPiBwYWdlQ291bnQgPyBwYWdlQ291bnQgOiBwYWdlTnVtYmVyKTtcbiAgICAgIHJlc2V0SW5wdXRWYWx1ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxQYWdpbmF0aW9uSW5wdXRDb250YWluZXJcbiAgICAgIG9uTW91c2VPdmVyPXtoYW5kbGVNb3VzZU92ZXJ9XG4gICAgICBvbk1vdXNlT3V0PXtoYW5kbGVNb3VzZU91dH1cbiAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfVxuICAgICAgcmVmPXtyZWZ9XG4gICAgPlxuICAgICAgPElucHV0SW5mb1RleHQ+XG4gICAgICAgIHtzaG93SW5wdXQgPyAoXG4gICAgICAgICAgPFN0eWxlZElucHV0XG4gICAgICAgICAgICBpbnB1dE1vZGU9eydudW1lcmljJ31cbiAgICAgICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICAgICAgdmFsdWU9e3BhZ2V9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFBhZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgb25LZXlEb3duPXtoYW5kbGVTdWJtaXR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IGlzSG92ZXJlZCAmJiAhc2hvd0lucHV0ID8gKFxuICAgICAgICAgIDw+RW50ZXIgcGFnZTwvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICBQYWdlIHtmb3JtYXROdW1iZXIoY3VycmVudFBhZ2UpfSBvZiB7Zm9ybWF0TnVtYmVyKHBhZ2VDb3VudCl9XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L0lucHV0SW5mb1RleHQ+XG4gICAgPC9QYWdpbmF0aW9uSW5wdXRDb250YWluZXI+XG4gICk7XG59O1xuIl19