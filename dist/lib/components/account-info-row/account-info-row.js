import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import styled from 'styled-components';
import Big from 'big.js';
import { BodyText } from '../body-text/body-text';
import { FlexColumn } from '../flex-column/flex-column';
import { FlexRow } from '../flex-row/flex-row';
import { DEFAULT_PRECISION, formatHash } from '../../utils/formatters';
import { Tooltip } from '../tooltip/tooltip';
import { useMatchMedia } from '../../utils/match-media';
import { CopyHash } from '../copy-hash/copy-hash';
import { CSPR } from '../cspr/cspr';
import { PrecisionCase } from '../../utils/currency';
import { HashLength } from '../../utils/formatters';
import CEP18Token from '../cep18-token/cep18-token';
export const ValuesRow = styled(FlexRow)(({ theme }) => ({
    height: 36,
    borderRadius: theme.borderRadius.base,
    padding: '8px 16px',
    backgroundColor: theme.styleguideColors.backgroundPrimary,
    border: theme.border.base,
}));
const StyledFlexColumn = styled(FlexColumn)(({ disabled }) => ({
    ...(disabled && {
        opacity: 0.5,
    }),
}));
const BalanceText = styled(BodyText)(({}) => ({
    textAlign: 'right',
}));
const StyledIconContainer = styled.span `
  margin-left: 10px;
`;
const Ticker = ({ ticker, cep18Config, ...props }) => {
    return ticker === 'CSPR' ? (_jsx(CSPR, { ...props })) : (_jsx(CEP18Token, { ticker: ticker, motes: props.motes, decimals: cep18Config?.decimals || DEFAULT_PRECISION, precision: cep18Config?.precision || DEFAULT_PRECISION }));
};
const AccountInfoBalance = ({ accountBalance, emptyBalance, loading, error, cep18Config, ticker = 'CSPR', }) => {
    return (_jsx(BalanceText, { size: 3, variation: 'black', monotype: true, children: emptyBalance ? (_jsx(Ticker, { ticker: ticker, motes: '0', precisionCase: PrecisionCase.deployCost, cep18Config: cep18Config })) : loading ? ('Loading...') : error != null ? (error) : (_jsx(Ticker, { ticker: ticker, motes: accountBalance, precisionCase: PrecisionCase.deployCost, cep18Config: cep18Config })) }));
};
export function AccountInfoRow(props) {
    const { publicKey, label, rightLabel = 'Balance', accountEmpty, accountBalance, loading, error, ticker = 'CSPR', cep18Config, } = props;
    const responsiveHashSize = useMatchMedia([HashLength.TINY, HashLength.SMALL, HashLength.SMALL, HashLength.SMALL], []);
    const emptyBalance = accountEmpty ||
        (!loading && accountBalance != null && Big(accountBalance).lte('0'));
    return (_jsxs(StyledFlexColumn, { disabled: props.disabled, gap: 4, children: [_jsxs(FlexRow, { justify: "space-between", children: [_jsx(BodyText, { size: 1, variation: 'black', children: label }), _jsx(BodyText, { size: 1, variation: 'black', children: rightLabel })] }), _jsx(ValuesRow, { justify: "space-between", align: "center", children: publicKey && (_jsxs(_Fragment, { children: [_jsxs(FlexRow, { align: "center", children: [_jsx(Tooltip, { tooltipContent: publicKey, children: _jsx(BodyText, { size: 3, variation: 'black', monotype: true, children: formatHash(publicKey, responsiveHashSize) }) }), _jsx(StyledIconContainer, { children: _jsx(CopyHash, { value: publicKey, minified: true, variation: "gray" }) })] }), _jsx(AccountInfoBalance, { accountBalance: accountBalance, emptyBalance: emptyBalance, error: error, loading: loading, ticker: ticker, cep18Config: cep18Config })] })) })] }));
}
export default AccountInfoRow;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3VudC1pbmZvLXJvdy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9hY2NvdW50LWluZm8tcm93L2FjY291bnQtaW5mby1yb3cudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxPQUFPLE1BQU0sTUFBTSxtQkFBbUIsQ0FBQztBQUN2QyxPQUFPLEdBQUcsTUFBTSxRQUFRLENBQUM7QUFDekIsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ2xELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGlCQUFpQixFQUFFLFVBQVUsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3ZFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDeEQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ2xELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFcEMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ3JELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNwRCxPQUFPLFVBQVUsTUFBTSw0QkFBNEIsQ0FBQztBQUVwRCxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN2RCxNQUFNLEVBQUUsRUFBRTtJQUNWLFlBQVksRUFBRSxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUk7SUFDckMsT0FBTyxFQUFFLFVBQVU7SUFDbkIsZUFBZSxFQUFFLEtBQUss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b3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgQmlnIGZyb20gJ2JpZy5qcyc7XG5pbXBvcnQgeyBCb2R5VGV4dCB9IGZyb20gJy4uL2JvZHktdGV4dC9ib2R5LXRleHQnO1xuaW1wb3J0IHsgRmxleENvbHVtbiB9IGZyb20gJy4uL2ZsZXgtY29sdW1uL2ZsZXgtY29sdW1uJztcbmltcG9ydCB7IEZsZXhSb3cgfSBmcm9tICcuLi9mbGV4LXJvdy9mbGV4LXJvdyc7XG5pbXBvcnQgeyBERUZBVUxUX1BSRUNJU0lPTiwgZm9ybWF0SGFzaCB9IGZyb20gJy4uLy4uL3V0aWxzL2Zvcm1hdHRlcnMnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJy4uL3Rvb2x0aXAvdG9vbHRpcCc7XG5pbXBvcnQgeyB1c2VNYXRjaE1lZGlhIH0gZnJvbSAnLi4vLi4vdXRpbHMvbWF0Y2gtbWVkaWEnO1xuaW1wb3J0IHsgQ29weUhhc2ggfSBmcm9tICcuLi9jb3B5LWhhc2gvY29weS1oYXNoJztcbmltcG9ydCB7IENTUFIgfSBmcm9tICcuLi9jc3ByL2NzcHInO1xuXG5pbXBvcnQgeyBQcmVjaXNpb25DYXNlIH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VycmVuY3knO1xuaW1wb3J0IHsgSGFzaExlbmd0aCB9IGZyb20gJy4uLy4uL3V0aWxzL2Zvcm1hdHRlcnMnO1xuaW1wb3J0IENFUDE4VG9rZW4gZnJvbSAnLi4vY2VwMTgtdG9rZW4vY2VwMTgtdG9rZW4nO1xuXG5leHBvcnQgY29uc3QgVmFsdWVzUm93ID0gc3R5bGVkKEZsZXhSb3cpKCh7IHRoZW1lIH0pID0+ICh7XG4gIGhlaWdodDogMzYsXG4gIGJvcmRlclJhZGl1czogdGhlbWUuYm9yZGVyUmFkaXVzLmJhc2UsXG4gIHBhZGRpbmc6ICc4cHggMTZweCcsXG4gIGJhY2tncm91bmRDb2xvcjogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5iYWNrZ3JvdW5kUHJpbWFyeSxcbiAgYm9yZGVyOiB0aGVtZS5ib3JkZXIuYmFzZSxcbn0pKTtcblxuY29uc3QgU3R5bGVkRmxleENvbHVtbiA9IHN0eWxlZChGbGV4Q29sdW1uKTx7IGRpc2FibGVkPzogYm9vbGVhbiB9PihcbiAgKHsgZGlzYWJsZWQgfSkgPT4gKHtcbiAgICAuLi4oZGlzYWJsZWQgJiYge1xuICAgICAgb3BhY2l0eTogMC41LFxuICAgIH0pLFxuICB9KSxcbik7XG5cbmNvbnN0IEJhbGFuY2VUZXh0ID0gc3R5bGVkKEJvZHlUZXh0KSgoe30pID0+ICh7XG4gIHRleHRBbGlnbjogJ3JpZ2h0Jyxcbn0pKTtcblxuY29uc3QgU3R5bGVkSWNvbkNvbnRhaW5lciA9IHN0eWxlZC5zcGFuYFxuICBtYXJnaW4tbGVmdDogMTBweDtcbmA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ0VQMThDb25maWcge1xuICBkZWNpbWFsczogbnVtYmVyO1xuICBwcmVjaXNpb246IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFRpY2tlclByb3BzIHtcbiAgdGlja2VyOiBzdHJpbmc7XG4gIG1vdGVzPzogc3RyaW5nIHwgbnVsbDtcbiAgcHJlY2lzaW9uQ2FzZT86IFByZWNpc2lvbkNhc2U7XG4gIGhpZGVDdXJyZW5jeT86IGJvb2xlYW47XG4gIGNlcDE4Q29uZmlnPzogQ0VQMThDb25maWc7XG59XG5cbmNvbnN0IFRpY2tlciA9ICh7IHRpY2tlciwgY2VwMThDb25maWcsIC4uLnByb3BzIH06IFRpY2tlclByb3BzKSA9PiB7XG4gIHJldHVybiB0aWNrZXIgPT09ICdDU1BSJyA/IChcbiAgICA8Q1NQUiB7Li4ucHJvcHN9IC8+XG4gICkgOiAoXG4gICAgPENFUDE4VG9rZW5cbiAgICAgIHRpY2tlcj17dGlja2VyfVxuICAgICAgbW90ZXM9e3Byb3BzLm1vdGVzfVxuICAgICAgZGVjaW1hbHM9e2NlcDE4Q29uZmlnPy5kZWNpbWFscyB8fCBERUZBVUxUX1BSRUNJU0lPTn1cbiAgICAgIHByZWNpc2lvbj17Y2VwMThDb25maWc/LnByZWNpc2lvbiB8fCBERUZBVUxUX1BSRUNJU0lPTn1cbiAgICAvPlxuICApO1xufTtcblxuaW50ZXJmYWNlIEFjY291bnRJbmZvQmFsYW5jZVByb3BzIHtcbiAgYWNjb3VudEJhbGFuY2U6IHN0cmluZyB8IG51bGw7XG4gIGxvYWRpbmc6IGJvb2xlYW47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuICBlbXB0eUJhbGFuY2U6IGJvb2xlYW47XG4gIHRpY2tlcj86IHN0cmluZztcbiAgY2VwMThDb25maWc/OiBDRVAxOENvbmZpZztcbn1cblxuY29uc3QgQWNjb3VudEluZm9CYWxhbmNlID0gKHtcbiAgYWNjb3VudEJhbGFuY2UsXG4gIGVtcHR5QmFsYW5jZSxcbiAgbG9hZGluZyxcbiAgZXJyb3IsXG4gIGNlcDE4Q29uZmlnLFxuICB0aWNrZXIgPSAnQ1NQUicsXG59OiBBY2NvdW50SW5mb0JhbGFuY2VQcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxCYWxhbmNlVGV4dCBzaXplPXszfSB2YXJpYXRpb249eydibGFjayd9IG1vbm90eXBlPlxuICAgICAge2VtcHR5QmFsYW5jZSA/IChcbiAgICAgICAgPFRpY2tlclxuICAgICAgICAgIHRpY2tlcj17dGlja2VyfVxuICAgICAgICAgIG1vdGVzPXsnMCd9XG4gICAgICAgICAgcHJlY2lzaW9uQ2FzZT17UHJlY2lzaW9uQ2FzZS5kZXBsb3lDb3N0fVxuICAgICAgICAgIGNlcDE4Q29uZmlnPXtjZXAxOENvbmZpZ31cbiAgICAgICAgLz5cbiAgICAgICkgOiBsb2FkaW5nID8gKFxuICAgICAgICAnTG9hZGluZy4uLidcbiAgICAgICkgOiBlcnJvciAhPSBudWxsID8gKFxuICAgICAgICBlcnJvclxuICAgICAgKSA6IChcbiAgICAgICAgPFRpY2tlclxuICAgICAgICAgIHRpY2tlcj17dGlja2VyfVxuICAgICAgICAgIG1vdGVzPXthY2NvdW50QmFsYW5jZX1cbiAgICAgICAgICBwcmVjaXNpb25DYXNlPXtQcmVjaXNpb25DYXNlLmRlcGxveUNvc3R9XG4gICAgICAgICAgY2VwMThDb25maWc9e2NlcDE4Q29uZmlnfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8L0JhbGFuY2VUZXh0PlxuICApO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBBY2NvdW50SW5mb1Jvd1Byb3BzIHtcbiAgcHVibGljS2V5OiBzdHJpbmc7XG4gIGxhYmVsPzogc3RyaW5nO1xuICByaWdodExhYmVsPzogc3RyaW5nO1xuICBhY2NvdW50QmFsYW5jZTogc3RyaW5nIHwgbnVsbDtcbiAgbG9hZGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIGFjY291bnRFbXB0eTogYm9vbGVhbjtcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICB0aWNrZXI/OiBzdHJpbmc7XG4gIGNlcDE4Q29uZmlnPzogQ0VQMThDb25maWc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBY2NvdW50SW5mb1Jvdyhwcm9wczogQWNjb3VudEluZm9Sb3dQcm9wcykge1xuICBjb25zdCB7XG4gICAgcHVibGljS2V5LFxuICAgIGxhYmVsLFxuICAgIHJpZ2h0TGFiZWwgPSAnQmFsYW5jZScsXG4gICAgYWNjb3VudEVtcHR5LFxuICAgIGFjY291bnRCYWxhbmNlLFxuICAgIGxvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgdGlja2VyID0gJ0NTUFInLFxuICAgIGNlcDE4Q29uZmlnLFxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgcmVzcG9uc2l2ZUhhc2hTaXplID0gdXNlTWF0Y2hNZWRpYTxIYXNoTGVuZ3RoPihcbiAgICBbSGFzaExlbmd0aC5USU5ZLCBIYXNoTGVuZ3RoLlNNQUxMLCBIYXNoTGVuZ3RoLlNNQUxMLCBIYXNoTGVuZ3RoLlNNQUxMXSxcbiAgICBbXSxcbiAgKTtcblxuICBjb25zdCBlbXB0eUJhbGFuY2UgPVxuICAgIGFjY291bnRFbXB0eSB8fFxuICAgICghbG9hZGluZyAmJiBhY2NvdW50QmFsYW5jZSAhPSBudWxsICYmIEJpZyhhY2NvdW50QmFsYW5jZSkubHRlKCcwJykpO1xuXG4gIHJldHVybiAoXG4gICAgPFN0eWxlZEZsZXhDb2x1bW4gZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfSBnYXA9ezR9PlxuICAgICAgPEZsZXhSb3cganVzdGlmeT1cInNwYWNlLWJldHdlZW5cIj5cbiAgICAgICAgPEJvZHlUZXh0IHNpemU9ezF9IHZhcmlhdGlvbj17J2JsYWNrJ30+XG4gICAgICAgICAge2xhYmVsfVxuICAgICAgICA8L0JvZHlUZXh0PlxuICAgICAgICA8Qm9keVRleHQgc2l6ZT17MX0gdmFyaWF0aW9uPXsnYmxhY2snfT5cbiAgICAgICAgICB7cmlnaHRMYWJlbH1cbiAgICAgICAgPC9Cb2R5VGV4dD5cbiAgICAgIDwvRmxleFJvdz5cbiAgICAgIDxWYWx1ZXNSb3cganVzdGlmeT1cInNwYWNlLWJldHdlZW5cIiBhbGlnbj1cImNlbnRlclwiPlxuICAgICAgICB7cHVibGljS2V5ICYmIChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPEZsZXhSb3cgYWxpZ249XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgPFRvb2x0aXAgdG9vbHRpcENvbnRlbnQ9e3B1YmxpY0tleX0+XG4gICAgICAgICAgICAgICAgPEJvZHlUZXh0IHNpemU9ezN9IHZhcmlhdGlvbj17J2JsYWNrJ30gbW9ub3R5cGU+XG4gICAgICAgICAgICAgICAgICB7Zm9ybWF0SGFzaChwdWJsaWNLZXksIHJlc3BvbnNpdmVIYXNoU2l6ZSl9XG4gICAgICAgICAgICAgICAgPC9Cb2R5VGV4dD5cbiAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgICA8U3R5bGVkSWNvbkNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8Q29weUhhc2ggdmFsdWU9e3B1YmxpY0tleX0gbWluaWZpZWQgdmFyaWF0aW9uPVwiZ3JheVwiIC8+XG4gICAgICAgICAgICAgIDwvU3R5bGVkSWNvbkNvbnRhaW5lcj5cbiAgICAgICAgICAgIDwvRmxleFJvdz5cbiAgICAgICAgICAgIDxBY2NvdW50SW5mb0JhbGFuY2VcbiAgICAgICAgICAgICAgYWNjb3VudEJhbGFuY2U9e2FjY291bnRCYWxhbmNlfVxuICAgICAgICAgICAgICBlbXB0eUJhbGFuY2U9e2VtcHR5QmFsYW5jZX1cbiAgICAgICAgICAgICAgZXJyb3I9e2Vycm9yfVxuICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICAgICAgICB0aWNrZXI9e3RpY2tlcn1cbiAgICAgICAgICAgICAgY2VwMThDb25maWc9e2NlcDE4Q29uZmlnfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cbiAgICAgIDwvVmFsdWVzUm93PlxuICAgIDwvU3R5bGVkRmxleENvbHVtbj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQWNjb3VudEluZm9Sb3c7XG4iXX0=