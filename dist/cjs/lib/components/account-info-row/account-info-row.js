"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AccountInfoRow = exports.ValuesRow = void 0;
var tslib_1 = require("tslib");
var jsx_runtime_1 = require("react/jsx-runtime");
var styled_components_1 = tslib_1.__importDefault(require("styled-components"));
var big_js_1 = tslib_1.__importDefault(require("big.js"));
var body_text_1 = require("../body-text/body-text");
var flex_column_1 = require("../flex-column/flex-column");
var flex_row_1 = require("../flex-row/flex-row");
var formatters_1 = require("../../utils/formatters");
var tooltip_1 = require("../tooltip/tooltip");
var match_media_1 = require("../../utils/match-media");
var copy_hash_1 = require("../copy-hash/copy-hash");
var cspr_1 = require("../cspr/cspr");
var currency_1 = require("../../utils/currency");
var formatters_2 = require("../../utils/formatters");
var cep18_token_1 = tslib_1.__importDefault(require("../cep18-token/cep18-token"));
exports.ValuesRow = (0, styled_components_1.default)(flex_row_1.FlexRow)(function (_a) {
    var theme = _a.theme;
    return ({
        height: 36,
        borderRadius: theme.borderRadius.base,
        padding: '8px 16px',
        backgroundColor: theme.styleguideColors.backgroundPrimary,
        border: theme.border.base,
    });
});
var StyledFlexColumn = (0, styled_components_1.default)(flex_column_1.FlexColumn)(function (_a) {
    var disabled = _a.disabled;
    return (tslib_1.__assign({}, (disabled && {
        opacity: 0.5,
    })));
});
var BalanceText = (0, styled_components_1.default)(body_text_1.BodyText)(function (_a) { return ({
    textAlign: 'right',
}); });
var StyledIconContainer = styled_components_1.default.span(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject(["\n  margin-left: 10px;\n"], ["\n  margin-left: 10px;\n"])));
var Ticker = function (_a) {
    var ticker = _a.ticker, cep18Config = _a.cep18Config, props = tslib_1.__rest(_a, ["ticker", "cep18Config"]);
    return ticker === 'CSPR' ?
        (0, jsx_runtime_1.jsx)(cspr_1.Cspr, tslib_1.__assign({}, props)) :
        (0, jsx_runtime_1.jsx)(cep18_token_1.default, { ticker: ticker, motes: props.motes, decimals: (cep18Config === null || cep18Config === void 0 ? void 0 : cep18Config.decimals) || formatters_1.DEFAULT_PRECISION, precision: (cep18Config === null || cep18Config === void 0 ? void 0 : cep18Config.precision) || formatters_1.DEFAULT_PRECISION });
};
var AccountInfoBalance = function (_a) {
    var accountBalance = _a.accountBalance, emptyBalance = _a.emptyBalance, loading = _a.loading, error = _a.error, cep18Config = _a.cep18Config, _b = _a.ticker, ticker = _b === void 0 ? 'CSPR' : _b;
    return ((0, jsx_runtime_1.jsx)(BalanceText, tslib_1.__assign({ size: 3, monotype: true }, { children: emptyBalance ? ((0, jsx_runtime_1.jsx)(Ticker, { ticker: ticker, motes: '0', precisionCase: currency_1.PrecisionCase.deployCost, cep18Config: cep18Config })) : loading ? ('Loading...') : error != null ? (error) : ((0, jsx_runtime_1.jsx)(Ticker, { ticker: ticker, motes: accountBalance, precisionCase: currency_1.PrecisionCase.deployCost, cep18Config: cep18Config })) })));
};
function AccountInfoRow(props) {
    var publicKey = props.publicKey, label = props.label, _a = props.rightLabel, rightLabel = _a === void 0 ? 'Balance' : _a, accountEmpty = props.accountEmpty, accountBalance = props.accountBalance, loading = props.loading, error = props.error, _b = props.ticker, ticker = _b === void 0 ? 'CSPR' : _b, cep18Config = props.cep18Config;
    var responsiveHashSize = (0, match_media_1.useMatchMedia)([formatters_2.HashLength.TINY, formatters_2.HashLength.SMALL, formatters_2.HashLength.SMALL, formatters_2.HashLength.SMALL], []);
    var emptyBalance = accountEmpty ||
        (!loading && accountBalance != null && (0, big_js_1.default)(accountBalance).lte('0'));
    return ((0, jsx_runtime_1.jsxs)(StyledFlexColumn, tslib_1.__assign({ disabled: props.disabled, gap: 4 }, { children: [(0, jsx_runtime_1.jsxs)(flex_row_1.FlexRow, tslib_1.__assign({ justify: "space-between" }, { children: [(0, jsx_runtime_1.jsx)(body_text_1.BodyText, tslib_1.__assign({ size: 1 }, { children: label })), (0, jsx_runtime_1.jsx)(body_text_1.BodyText, tslib_1.__assign({ size: 1 }, { children: rightLabel }))] })), (0, jsx_runtime_1.jsx)(exports.ValuesRow, tslib_1.__assign({ justify: "space-between", align: "center" }, { children: publicKey && ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)(flex_row_1.FlexRow, tslib_1.__assign({ align: "center" }, { children: [(0, jsx_runtime_1.jsx)(tooltip_1.Tooltip, tslib_1.__assign({ title: publicKey }, { children: (0, jsx_runtime_1.jsx)(body_text_1.BodyText, tslib_1.__assign({ size: 3, monotype: true }, { children: (0, formatters_1.formatHash)(publicKey, responsiveHashSize) })) })), (0, jsx_runtime_1.jsx)(StyledIconContainer, { children: (0, jsx_runtime_1.jsx)(copy_hash_1.CopyHash, { value: publicKey, minified: true, variation: "gray" }) })] })), (0, jsx_runtime_1.jsx)(AccountInfoBalance, { accountBalance: accountBalance, emptyBalance: emptyBalance, error: error, loading: loading, ticker: ticker, cep18Config: cep18Config })] })) }))] })));
}
exports.AccountInfoRow = AccountInfoRow;
exports.default = AccountInfoRow;
var templateObject_1;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3VudC1pbmZvLXJvdy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9hY2NvdW50LWluZm8tcm93L2FjY291bnQtaW5mby1yb3cudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsZ0ZBQXVDO0FBQ3ZDLDBEQUF5QjtBQUN6QixvREFBa0Q7QUFDbEQsMERBQXdEO0FBQ3hELGlEQUErQztBQUMvQyxxREFBcUU7QUFDckUsOENBQTZDO0FBQzdDLHVEQUF3RDtBQUN4RCxvREFBa0Q7QUFDbEQscUNBQW9DO0FBRXBDLGlEQUFxRDtBQUNyRCxxREFBb0Q7QUFDcEQsbUZBQW9EO0FBRXZDLFFBQUEsU0FBUyxHQUFHLElBQUEsMkJBQU0sRUFBQyxrQkFBTyxDQUFDLENBQUMsVUFBQyxFQUFTO1FBQVAsS0FBSyxXQUFBO0lBQU8sT0FBQSxDQUFDO1FBQ3ZELE1BQU0sRUFBRSxFQUFFO1FBQ1YsWUFBWSxFQUFFLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSTtRQUNyQyxPQUFPLEVBQUUsVUFBVTtRQUNuQixlQUFlLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixDQUFDLGlCQUFpQjtRQUN6RCxNQUFNLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJO0tBQzFCLENBQUM7QUFOc0QsQ0FNdEQsQ0FBQyxDQUFDO0FBRUosSUFBTSxnQkFBZ0IsR0FBRyxJQUFBLDJCQUFNLEVBQUMsd0JBQVUsQ0FBQyxDQUN6QyxVQUFDLEVBQVk7UUFBVixRQUFRLGNBQUE7SUFBTyxPQUFBLHNCQUNiLENBQUMsUUFBUSxJQUFJO1FBQ2QsT0FBTyxFQUFFLEdBQUc7S0FDYixDQUFDLEVBQ0Y7QUFKZ0IsQ0FJaEIsQ0FDSCxDQUFDO0FBRUYsSUFBTSxXQUFXLEdBQUcsSUFBQSwyQkFBTSxFQUFDLG9CQUFRLENBQUMsQ0FBQyxVQUFDLEVBQUUsSUFBSyxPQUFBLENBQUM7SUFDNUMsU0FBUyxFQUFFLE9BQU87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QUNoRCx3QkFBQyxrQkFBTyxxQkFBQyxPQUFPLEVBQUMsZUFBZSxpQkFDOUIsdUJBQUMsb0JBQVEscUJBQUMsSUFBSSxFQUFFLENBQUMsZ0JBQUcsS0FBSyxJQUFZLEVBQ3JDLHVCQUFDLG9CQUFRLHFCQUFDLElBQUksRUFBRSxDQUFDLGdCQUFHLFVBQVUsSUFBWSxLQUNsQyxFQUNWLHVCQUFDLGlCQUFTLHFCQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsS0FBSyxFQUFDLFFBQVEsZ0JBQzlDLFNBQVMsSUFBSSxDQUNaLDZEQUNFLHdCQUFDLGtCQUFPLHFCQUFDLEtBQUssRUFBQyxRQUFRLGlCQUNyQix1QkFBQyxpQkFBTyxxQkFBQyxLQUFLLEVBQUUsU0FBUyxnQkFDdkIsdUJBQUMsb0JBQVEscUJBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxRQUFRLHNCQUN4QixJQUFBLHVCQUFVLEVBQUMsU0FBUyxFQUFFLGtCQUFrQixDQUFDLElBQ2pDLElBQ0gsRUFDVix1QkFBQyxtQkFBbUIsY0FDbEIsdUJBQUMsb0JBQVEsSUFBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLFFBQVEsUUFBQyxTQUFTLEVBQUMsTUFBTSxHQUFHLEdBQ3BDLEtBQ2QsRUFDVix1QkFBQyxrQkFBa0IsSUFBQyxjQUFjLEVBQUUsY0FBYyxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLFdBQVcsR0FBRyxJQUMxSixDQUNKLElBQ1MsS0FDSyxDQUNwQixDQUFDO0FBQ0osQ0FBQztBQS9DRCx3Q0ErQ0M7QUFFRCxrQkFBZSxjQUFjLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcclxuaW1wb3J0IEJpZyBmcm9tICdiaWcuanMnO1xyXG5pbXBvcnQgeyBCb2R5VGV4dCB9IGZyb20gJy4uL2JvZHktdGV4dC9ib2R5LXRleHQnO1xyXG5pbXBvcnQgeyBGbGV4Q29sdW1uIH0gZnJvbSAnLi4vZmxleC1jb2x1bW4vZmxleC1jb2x1bW4nO1xyXG5pbXBvcnQgeyBGbGV4Um93IH0gZnJvbSAnLi4vZmxleC1yb3cvZmxleC1yb3cnO1xyXG5pbXBvcnQge0RFRkFVTFRfUFJFQ0lTSU9OLCBmb3JtYXRIYXNofSBmcm9tICcuLi8uLi91dGlscy9mb3JtYXR0ZXJzJztcclxuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJy4uL3Rvb2x0aXAvdG9vbHRpcCc7XHJcbmltcG9ydCB7IHVzZU1hdGNoTWVkaWEgfSBmcm9tICcuLi8uLi91dGlscy9tYXRjaC1tZWRpYSc7XHJcbmltcG9ydCB7IENvcHlIYXNoIH0gZnJvbSAnLi4vY29weS1oYXNoL2NvcHktaGFzaCc7XHJcbmltcG9ydCB7IENzcHIgfSBmcm9tICcuLi9jc3ByL2NzcHInO1xyXG5cclxuaW1wb3J0IHsgUHJlY2lzaW9uQ2FzZSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1cnJlbmN5JztcclxuaW1wb3J0IHsgSGFzaExlbmd0aCB9IGZyb20gJy4uLy4uL3V0aWxzL2Zvcm1hdHRlcnMnO1xyXG5pbXBvcnQgQ0VQMThUb2tlbiBmcm9tIFwiLi4vY2VwMTgtdG9rZW4vY2VwMTgtdG9rZW5cIjtcclxuXHJcbmV4cG9ydCBjb25zdCBWYWx1ZXNSb3cgPSBzdHlsZWQoRmxleFJvdykoKHsgdGhlbWUgfSkgPT4gKHtcclxuICBoZWlnaHQ6IDM2LFxyXG4gIGJvcmRlclJhZGl1czogdGhlbWUuYm9yZGVyUmFkaXVzLmJhc2UsXHJcbiAgcGFkZGluZzogJzhweCAxNnB4JyxcclxuICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuYmFja2dyb3VuZFByaW1hcnksXHJcbiAgYm9yZGVyOiB0aGVtZS5ib3JkZXIuYmFzZSxcclxufSkpO1xyXG5cclxuY29uc3QgU3R5bGVkRmxleENvbHVtbiA9IHN0eWxlZChGbGV4Q29sdW1uKTx7IGRpc2FibGVkPzogYm9vbGVhbiB9PihcclxuICAoeyBkaXNhYmxlZCB9KSA9PiAoe1xyXG4gICAgLi4uKGRpc2FibGVkICYmIHtcclxuICAgICAgb3BhY2l0eTogMC41LFxyXG4gICAgfSksXHJcbiAgfSlcclxuKTtcclxuXHJcbmNvbnN0IEJhbGFuY2VUZXh0ID0gc3R5bGVkKEJvZHlUZXh0KSgoe30pID0+ICh7XHJcbiAgdGV4dEFsaWduOiAncmlnaHQnLFxyXG59KSk7XHJcblxyXG5jb25zdCBTdHlsZWRJY29uQ29udGFpbmVyID0gc3R5bGVkLnNwYW5gXHJcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbmA7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENFUDE4Q29uZmlnIHtcclxuICBkZWNpbWFsczogbnVtYmVyO1xyXG4gIHByZWNpc2lvbjogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVGlja2VyUHJvcHMge1xyXG4gIHRpY2tlcjogc3RyaW5nO1xyXG4gIG1vdGVzPzogc3RyaW5nIHwgbnVsbDtcclxuICBwcmVjaXNpb25DYXNlPzogUHJlY2lzaW9uQ2FzZTtcclxuICBoaWRlQ3VycmVuY3k/OiBib29sZWFuO1xyXG4gIGNlcDE4Q29uZmlnPzogQ0VQMThDb25maWc7XHJcbn1cclxuXHJcbmNvbnN0IFRpY2tlciA9ICh7dGlja2VyLCBjZXAxOENvbmZpZywgLi4ucHJvcHMgfTogVGlja2VyUHJvcHMpID0+IHtcclxuICByZXR1cm4gdGlja2VyID09PSAnQ1NQUicgP1xyXG4gICAgICA8Q3NwciB7Li4ucHJvcHN9Lz4gOlxyXG4gICAgICA8Q0VQMThUb2tlbiB0aWNrZXI9e3RpY2tlcn1cclxuICAgICAgICAgICAgICAgICAgbW90ZXM9e3Byb3BzLm1vdGVzfVxyXG4gICAgICAgICAgICAgICAgICBkZWNpbWFscz17Y2VwMThDb25maWc/LmRlY2ltYWxzIHx8IERFRkFVTFRfUFJFQ0lTSU9OfVxyXG4gICAgICAgICAgICAgICAgICBwcmVjaXNpb249e2NlcDE4Q29uZmlnPy5wcmVjaXNpb24gfHwgREVGQVVMVF9QUkVDSVNJT059IC8+O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQWNjb3VudEluZm9CYWxhbmNlUHJvcHMge1xyXG4gIGFjY291bnRCYWxhbmNlOiBzdHJpbmcgfCBudWxsO1xyXG4gIGxvYWRpbmc6IGJvb2xlYW47XHJcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XHJcbiAgZW1wdHlCYWxhbmNlOiBib29sZWFuO1xyXG4gIHRpY2tlcj86IHN0cmluZztcclxuICBjZXAxOENvbmZpZz86IENFUDE4Q29uZmlnO1xyXG59XHJcblxyXG5jb25zdCBBY2NvdW50SW5mb0JhbGFuY2UgPSAoe2FjY291bnRCYWxhbmNlLCBlbXB0eUJhbGFuY2UsIGxvYWRpbmcsIGVycm9yLCBjZXAxOENvbmZpZywgdGlja2VyID0gJ0NTUFInfTogQWNjb3VudEluZm9CYWxhbmNlUHJvcHMpID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgICA8QmFsYW5jZVRleHQgc2l6ZT17M30gbW9ub3R5cGU+XHJcbiAgICAgICAge2VtcHR5QmFsYW5jZSA/IChcclxuICAgICAgICAgICAgPFRpY2tlciB0aWNrZXI9e3RpY2tlcn0gbW90ZXM9eycwJ30gcHJlY2lzaW9uQ2FzZT17UHJlY2lzaW9uQ2FzZS5kZXBsb3lDb3N0fSBjZXAxOENvbmZpZz17Y2VwMThDb25maWd9IC8+XHJcbiAgICAgICAgKSA6IGxvYWRpbmcgPyAoXHJcbiAgICAgICAgICAgICdMb2FkaW5nLi4uJ1xyXG4gICAgICAgICkgOiBlcnJvciAhPSBudWxsID8gKFxyXG4gICAgICAgICAgICBlcnJvclxyXG4gICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgPFRpY2tlclxyXG4gICAgICAgICAgICAgICAgICB0aWNrZXI9e3RpY2tlcn1cclxuICAgICAgICAgICAgICAgICAgbW90ZXM9e2FjY291bnRCYWxhbmNlfVxyXG4gICAgICAgICAgICAgICAgICBwcmVjaXNpb25DYXNlPXtQcmVjaXNpb25DYXNlLmRlcGxveUNvc3R9XHJcbiAgICAgICAgICAgICAgICAgIGNlcDE4Q29uZmlnPXtjZXAxOENvbmZpZ31cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvQmFsYW5jZVRleHQ+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFjY291bnRJbmZvUm93UHJvcHMge1xyXG4gIHB1YmxpY0tleTogc3RyaW5nO1xyXG4gIGxhYmVsPzogc3RyaW5nO1xyXG4gIHJpZ2h0TGFiZWw/OiBzdHJpbmc7XHJcbiAgYWNjb3VudEJhbGFuY2U6IHN0cmluZyB8IG51bGw7XHJcbiAgbG9hZGluZzogYm9vbGVhbjtcclxuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcclxuICBhY2NvdW50RW1wdHk6IGJvb2xlYW47XHJcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xyXG4gIHRpY2tlcj86c3RyaW5nO1xyXG4gIGNlcDE4Q29uZmlnPzogQ0VQMThDb25maWc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBY2NvdW50SW5mb1Jvdyhwcm9wczogQWNjb3VudEluZm9Sb3dQcm9wcykge1xyXG4gIGNvbnN0IHtcclxuICAgIHB1YmxpY0tleSxcclxuICAgIGxhYmVsLFxyXG4gICAgcmlnaHRMYWJlbCA9ICdCYWxhbmNlJyxcclxuICAgIGFjY291bnRFbXB0eSxcclxuICAgIGFjY291bnRCYWxhbmNlLFxyXG4gICAgbG9hZGluZyxcclxuICAgIGVycm9yLFxyXG4gICAgdGlja2VyID0gJ0NTUFInLFxyXG4gICAgY2VwMThDb25maWcsXHJcbiAgfSA9IHByb3BzO1xyXG5cclxuICBjb25zdCByZXNwb25zaXZlSGFzaFNpemUgPSB1c2VNYXRjaE1lZGlhKFxyXG4gICAgW0hhc2hMZW5ndGguVElOWSwgSGFzaExlbmd0aC5TTUFMTCwgSGFzaExlbmd0aC5TTUFMTCwgSGFzaExlbmd0aC5TTUFMTF0sXHJcbiAgICBbXVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGVtcHR5QmFsYW5jZSA9XHJcbiAgICBhY2NvdW50RW1wdHkgfHxcclxuICAgICghbG9hZGluZyAmJiBhY2NvdW50QmFsYW5jZSAhPSBudWxsICYmIEJpZyhhY2NvdW50QmFsYW5jZSkubHRlKCcwJykpO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPFN0eWxlZEZsZXhDb2x1bW4gZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfSBnYXA9ezR9PlxyXG4gICAgICA8RmxleFJvdyBqdXN0aWZ5PVwic3BhY2UtYmV0d2VlblwiPlxyXG4gICAgICAgIDxCb2R5VGV4dCBzaXplPXsxfT57bGFiZWx9PC9Cb2R5VGV4dD5cclxuICAgICAgICA8Qm9keVRleHQgc2l6ZT17MX0+e3JpZ2h0TGFiZWx9PC9Cb2R5VGV4dD5cclxuICAgICAgPC9GbGV4Um93PlxyXG4gICAgICA8VmFsdWVzUm93IGp1c3RpZnk9XCJzcGFjZS1iZXR3ZWVuXCIgYWxpZ249XCJjZW50ZXJcIj5cclxuICAgICAgICB7cHVibGljS2V5ICYmIChcclxuICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgIDxGbGV4Um93IGFsaWduPVwiY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgPFRvb2x0aXAgdGl0bGU9e3B1YmxpY0tleX0+XHJcbiAgICAgICAgICAgICAgICA8Qm9keVRleHQgc2l6ZT17M30gbW9ub3R5cGU+XHJcbiAgICAgICAgICAgICAgICAgIHtmb3JtYXRIYXNoKHB1YmxpY0tleSwgcmVzcG9uc2l2ZUhhc2hTaXplKX1cclxuICAgICAgICAgICAgICAgIDwvQm9keVRleHQ+XHJcbiAgICAgICAgICAgICAgPC9Ub29sdGlwPlxyXG4gICAgICAgICAgICAgIDxTdHlsZWRJY29uQ29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgPENvcHlIYXNoIHZhbHVlPXtwdWJsaWNLZXl9IG1pbmlmaWVkIHZhcmlhdGlvbj1cImdyYXlcIiAvPlxyXG4gICAgICAgICAgICAgIDwvU3R5bGVkSWNvbkNvbnRhaW5lcj5cclxuICAgICAgICAgICAgPC9GbGV4Um93PlxyXG4gICAgICAgICAgICA8QWNjb3VudEluZm9CYWxhbmNlIGFjY291bnRCYWxhbmNlPXthY2NvdW50QmFsYW5jZX0gZW1wdHlCYWxhbmNlPXtlbXB0eUJhbGFuY2V9IGVycm9yPXtlcnJvcn0gbG9hZGluZz17bG9hZGluZ30gdGlja2VyPXt0aWNrZXJ9IGNlcDE4Q29uZmlnPXtjZXAxOENvbmZpZ30vPlxyXG4gICAgICAgICAgPC8+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9WYWx1ZXNSb3c+XHJcbiAgICA8L1N0eWxlZEZsZXhDb2x1bW4+XHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQWNjb3VudEluZm9Sb3c7XHJcbiJdfQ==