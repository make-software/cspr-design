"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.ProductsMenuItem = exports.ProductItemWrapper = exports.ThemeModeType = void 0;
var tslib_1 = require("tslib");
var jsx_runtime_1 = require("react/jsx-runtime");
var badge_1 = require("../../badge/badge");
var caption_text_1 = tslib_1.__importDefault(require("../../caption-text/caption-text"));
var flex_row_1 = tslib_1.__importDefault(require("../../flex-row/flex-row"));
var flex_column_1 = tslib_1.__importDefault(require("../../flex-column/flex-column"));
var styled_components_1 = tslib_1.__importStar(require("styled-components"));
var match_media_1 = require("../../../utils/match-media");
var svg_icon_1 = tslib_1.__importDefault(require("../../svg-icon/svg-icon"));
var body_text_1 = tslib_1.__importDefault(require("../../body-text/body-text"));
var ThemeModeType;
(function (ThemeModeType) {
    ThemeModeType["light"] = "light";
    ThemeModeType["dark"] = "dark";
})(ThemeModeType = exports.ThemeModeType || (exports.ThemeModeType = {}));
exports.ProductItemWrapper = styled_components_1.default.span(function (_a) {
    var theme = _a.theme, isOpen = _a.isOpen, selected = _a.selected, disabled = _a.disabled;
    return theme.withMedia(tslib_1.__assign(tslib_1.__assign({ display: 'flex', flex: '1 1 auto', justifyContent: 'center', alignItems: 'center', padding: ['8px 12px', '8px 12px', '16px'], width: ['208px', '208px', '172px'], height: ['56px', '56px', '137px'], '&:hover': {
            borderRadius: theme.borderRadius.base,
            background: theme.styleguideColors.backgroundSecondary,
        } }, (selected && {
        background: theme.styleguideColors.backgroundSecondary,
        pointerEvents: 'none',
    })), (disabled && {
        color: theme.styleguideColors.contentSecondary,
        '&:hover > *': {
            pointerEvents: 'none',
            color: theme.styleguideColors.contentSecondary,
        },
    })));
});
var StyledBodyText = (0, styled_components_1.default)(body_text_1.default)(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject(["\n  white-space: nowrap;\n"], ["\n  white-space: nowrap;\n"])));
var defaultIcon = (_a = {},
    _a[ThemeModeType.light] = 'assets/icons/ic-sand-clock-light.svg',
    _a[ThemeModeType.dark] = 'assets/icons/ic-sand-clock-dark.svg',
    _a);
var ProductsMenuItem = function (_a) {
    var nameLabel = _a.nameLabel, link = _a.link, icon = _a.icon, descriptionText = _a.descriptionText, _b = _a.selected, selected = _b === void 0 ? false : _b, newBadgeLabel = _a.newBadgeLabel, comingSoonBadgeLabel = _a.comingSoonBadgeLabel, badge = _a.badge;
    var theme = (0, styled_components_1.useTheme)();
    var itemBadge;
    if (badge) {
        itemBadge = (0, jsx_runtime_1.jsx)(badge_1.Badge, tslib_1.__assign({}, badge, { lineHeight: 'xxs' }));
    }
    else if (comingSoonBadgeLabel) {
        itemBadge = ((0, jsx_runtime_1.jsx)(badge_1.Badge, { label: comingSoonBadgeLabel, variation: 'violet', lineHeight: 'xxs' }));
    }
    else if (newBadgeLabel) {
        itemBadge = ((0, jsx_runtime_1.jsx)(badge_1.Badge, { label: newBadgeLabel, variation: 'green', lineHeight: 'xxs' }));
    }
    else {
        itemBadge = ((0, jsx_runtime_1.jsx)(caption_text_1.default, tslib_1.__assign({ size: 2, variation: 'lightGray' }, { children: descriptionText })));
    }
    var mobile = ((0, jsx_runtime_1.jsx)(flex_row_1.default, tslib_1.__assign({ itemsSpacing: 8, justify: 'flex-start', grow: 1 }, { children: (0, jsx_runtime_1.jsxs)(flex_row_1.default, tslib_1.__assign({ itemsSpacing: 8, grow: 1 }, { children: [(0, jsx_runtime_1.jsx)(svg_icon_1.default, { src: icon || defaultIcon[theme.themeName], size: 32 }), (0, jsx_runtime_1.jsxs)(flex_column_1.default, tslib_1.__assign({ itemsSpacing: 4 }, { children: [itemBadge, (0, jsx_runtime_1.jsx)(StyledBodyText, tslib_1.__assign({ variation: "black", size: 1 }, { children: nameLabel }))] }))] })) })));
    var desktop = ((0, jsx_runtime_1.jsxs)(flex_column_1.default, tslib_1.__assign({ itemsSpacing: 16, align: 'center', justify: 'center', grow: 1 }, { children: [(0, jsx_runtime_1.jsx)(svg_icon_1.default, { src: icon || defaultIcon[theme.themeName], size: 48 }), (0, jsx_runtime_1.jsxs)(flex_column_1.default, tslib_1.__assign({ itemsSpacing: 4, align: 'center' }, { children: [itemBadge, (0, jsx_runtime_1.jsx)(StyledBodyText, tslib_1.__assign({ size: 1, variation: "black" }, { children: nameLabel }))] }))] })));
    var productMedia = (0, match_media_1.useMatchMedia)([mobile, mobile, desktop], []);
    return ((0, jsx_runtime_1.jsx)(exports.ProductItemWrapper, tslib_1.__assign({ onClick: function () { return !comingSoonBadgeLabel && window.open(link, '_blank'); }, selected: selected, disabled: !!comingSoonBadgeLabel }, { children: productMedia })));
};
exports.ProductsMenuItem = ProductsMenuItem;
var templateObject_1;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdHMtbWVudS1pdGVtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9jb21wb25lbnRzL25hdmlnYXRpb24vY3Nwci1wcm9kdWN0cy1tZW51L3Byb2R1Y3RzLW1lbnUtaXRlbS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsMkNBQXNEO0FBQ3RELHlGQUEwRDtBQUMxRCw2RUFBOEM7QUFFOUMsc0ZBQXVEO0FBQ3ZELDZFQUFxRDtBQUNyRCwwREFBMkQ7QUFDM0QsNkVBQThDO0FBQzlDLGdGQUFpRDtBQWFqRCxJQUFZLGFBR1g7QUFIRCxXQUFZLGFBQWE7SUFDdkIsZ0NBQWUsQ0FBQTtJQUNmLDhCQUFhLENBQUE7QUFDZixDQUFDLEVBSFcsYUFBYSxHQUFiLHFCQUFhLEtBQWIscUJBQWEsUUFHeEI7QUFFWSxRQUFBLGtCQUFrQixHQUFHLDJCQUFNLENBQUMsSUFBSSxDQUkxQyxVQUFDLEVBQXFDO1FBQW5DLEtBQUssV0FBQSxFQUFFLE1BQU0sWUFBQSxFQUFFLFFBQVEsY0FBQSxFQUFFLFFBQVEsY0FBQTtJQUNyQyxPQUFBLEtBQUssQ0FBQyxTQUFTLHFDQUNiLE9BQU8sRUFBRSxNQUFNLEVBQ2YsSUFBSSxFQUFFLFVBQVUsRUFDaEIsY0FBYyxFQUFFLFFBQVEsRUFDeEIsVUFBVSxFQUFFLFFBQVEsRUFDcEIsT0FBTyxFQUFFLENBQUMsVUFBVSxFQUFFLFVBQVUsRUFBRSxNQUFNLENBQUMsRUFDekMsS0FBSyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFDbEMsTUFBTSxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsRUFFakMsU0FBUyxFQUFFO1lBQ1QsWUFBWSxFQUFFLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSTtZQUNyQyxVQUFVLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQjtTQUN2RCxJQUVFLENB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d0JBQUMscUJBQVUscUJBQUMsWUFBWSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsUUFBUSxpQkFDekMsU0FBUyxFQUNWLHVCQUFDLGNBQWMscUJBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsT0FBTyxnQkFBRyxTQUFTLElBQWtCLEtBQzlELEtBQ0YsQ0FDZCxDQUFDO0lBRUYsSUFBTSxZQUFZLEdBQUcsSUFBQSwyQkFBYSxFQUFDLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVsRSxPQUFPLENBQ0wsdUJBQUMsMEJBQWtCLHFCQUNqQixPQUFPLEVBQUUsY0FBTSxPQUFBLENBQUMsb0JBQW9CLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLEVBQXBELENBQW9ELEVBQ25FLFFBQVEsRUFBRSxRQUFRLEVBQ2xCLFFBQVEsRUFBRSxDQUFDLENBQUMsb0JBQW9CLGdCQUUvQixZQUFZLElBQ00sQ0FDdEIsQ0FBQztBQUNKLENBQUMsQ0FBQztBQXBFVyxRQUFBLGdCQUFnQixvQkFvRTNCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJhZGdlLCBCYWRnZVByb3BzIH0gZnJvbSAnLi4vLi4vYmFkZ2UvYmFkZ2UnO1xuaW1wb3J0IENhcHRpb25UZXh0IGZyb20gJy4uLy4uL2NhcHRpb24tdGV4dC9jYXB0aW9uLXRleHQnO1xuaW1wb3J0IEZsZXhSb3cgZnJvbSAnLi4vLi4vZmxleC1yb3cvZmxleC1yb3cnO1xuaW1wb3J0IE5hdkxpbmsgZnJvbSAnLi4vLi4vbmF2LWxpbmsvbmF2LWxpbmsnO1xuaW1wb3J0IEZsZXhDb2x1bW4gZnJvbSAnLi4vLi4vZmxleC1jb2x1bW4vZmxleC1jb2x1bW4nO1xuaW1wb3J0IHN0eWxlZCwgeyB1c2VUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IHVzZU1hdGNoTWVkaWEgfSBmcm9tICcuLi8uLi8uLi91dGlscy9tYXRjaC1tZWRpYSc7XG5pbXBvcnQgU3ZnSWNvbiBmcm9tICcuLi8uLi9zdmctaWNvbi9zdmctaWNvbic7XG5pbXBvcnQgQm9keVRleHQgZnJvbSAnLi4vLi4vYm9keS10ZXh0L2JvZHktdGV4dCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdHNNZW51SXRlbVByb3BzIHtcbiAgY29taW5nU29vbkJhZGdlTGFiZWw/OiBzdHJpbmc7XG4gIG5ld0JhZGdlTGFiZWw/OiBzdHJpbmc7XG4gIHNlbGVjdGVkPzogYm9vbGVhbjtcbiAgZGVzY3JpcHRpb25UZXh0Pzogc3RyaW5nO1xuICBuYW1lTGFiZWw6IHN0cmluZztcbiAgbGluazogc3RyaW5nO1xuICBpY29uOiBzdHJpbmc7XG4gIGJhZGdlPzogQmFkZ2VQcm9wcztcbn1cblxuZXhwb3J0IGVudW0gVGhlbWVNb2RlVHlwZSB7XG4gIGxpZ2h0ID0gJ2xpZ2h0JyxcbiAgZGFyayA9ICdkYXJrJyxcbn1cblxuZXhwb3J0IGNvbnN0IFByb2R1Y3RJdGVtV3JhcHBlciA9IHN0eWxlZC5zcGFuPHtcbiAgaXNPcGVuPzogYm9vbGVhbjtcbiAgc2VsZWN0ZWQ/OiBib29sZWFuO1xuICBkaXNhYmxlZDogYm9vbGVhbjtcbn0+KCh7IHRoZW1lLCBpc09wZW4sIHNlbGVjdGVkLCBkaXNhYmxlZCB9KSA9PlxuICB0aGVtZS53aXRoTWVkaWEoe1xuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBmbGV4OiAnMSAxIGF1dG8nLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBwYWRkaW5nOiBbJzhweCAxMnB4JywgJzhweCAxMnB4JywgJzE2cHgnXSxcbiAgICB3aWR0aDogWycyMDhweCcsICcyMDhweCcsICcxNzJweCddLFxuICAgIGhlaWdodDogWyc1NnB4JywgJzU2cHgnLCAnMTM3cHgnXSxcblxuICAgICcmOmhvdmVyJzoge1xuICAgICAgYm9yZGVyUmFkaXVzOiB0aGVtZS5ib3JkZXJSYWRpdXMuYmFzZSxcbiAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuYmFja2dyb3VuZFNlY29uZGFyeSxcbiAgICB9LFxuXG4gICAgLi4uKHNlbGVjdGVkICYmIHtcbiAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnN0eWxlZ3VpZGVDb2xvcnMuYmFja2dyb3VuZFNlY29uZGFyeSxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICB9KSxcblxuICAgIC4uLihkaXNhYmxlZCAmJiB7XG4gICAgICBjb2xvcjogdGhlbWUuc3R5bGVndWlkZUNvbG9ycy5jb250ZW50U2Vjb25kYXJ5LFxuICAgICAgJyY6aG92ZXIgPiAqJzoge1xuICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICAgIGNvbG9yOiB0aGVtZS5zdHlsZWd1aWRlQ29sb3JzLmNvbnRlbnRTZWNvbmRhcnksXG4gICAgICB9LFxuICAgIH0pLFxuICB9KVxuKTtcblxuY29uc3QgU3R5bGVkQm9keVRleHQgPSBzdHlsZWQoQm9keVRleHQpYFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuYDtcblxuY29uc3QgZGVmYXVsdEljb24gPSB7XG4gIFtUaGVtZU1vZGVUeXBlLmxpZ2h0XTogJ2Fzc2V0cy9pY29ucy9pYy1zYW5kLWNsb2NrLWxpZ2h0LnN2ZycsXG4gIFtUaGVtZU1vZGVUeXBlLmRhcmtdOiAnYXNzZXRzL2ljb25zL2ljLXNhbmQtY2xvY2stZGFyay5zdmcnLFxufTtcblxuZXhwb3J0IGNvbnN0IFByb2R1Y3RzTWVudUl0ZW0gPSAoe1xuICBuYW1lTGFiZWwsXG4gIGxpbmssXG4gIGljb24sXG4gIGRlc2NyaXB0aW9uVGV4dCxcbiAgc2VsZWN0ZWQgPSBmYWxzZSxcbiAgbmV3QmFkZ2VMYWJlbCxcbiAgY29taW5nU29vbkJhZGdlTGFiZWwsXG4gIGJhZGdlLFxufTogUHJvZHVjdHNNZW51SXRlbVByb3BzKSA9PiB7XG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcblxuICBsZXQgaXRlbUJhZGdlO1xuICBpZiAoYmFkZ2UpIHtcbiAgICBpdGVtQmFkZ2UgPSA8QmFkZ2Ugey4uLmJhZGdlfSBsaW5lSGVpZ2h0PXsneHhzJ30gLz47XG4gIH0gZWxzZSBpZiAoY29taW5nU29vbkJhZGdlTGFiZWwpIHtcbiAgICBpdGVtQmFkZ2UgPSAoXG4gICAgICA8QmFkZ2VcbiAgICAgICAgbGFiZWw9e2NvbWluZ1Nvb25CYWRnZUxhYmVsfVxuICAgICAgICB2YXJpYXRpb249eyd2aW9sZXQnfVxuICAgICAgICBsaW5lSGVpZ2h0PXsneHhzJ31cbiAgICAgIC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChuZXdCYWRnZUxhYmVsKSB7XG4gICAgaXRlbUJhZGdlID0gKFxuICAgICAgPEJhZGdlIGxhYmVsPXtuZXdCYWRnZUxhYmVsfSB2YXJpYXRpb249eydncmVlbid9IGxpbmVIZWlnaHQ9eyd4eHMnfSAvPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgaXRlbUJhZGdlID0gKFxuICAgICAgPENhcHRpb25UZXh0IHNpemU9ezJ9IHZhcmlhdGlvbj17J2xpZ2h0R3JheSd9PlxuICAgICAgICB7ZGVzY3JpcHRpb25UZXh0fVxuICAgICAgPC9DYXB0aW9uVGV4dD5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgbW9iaWxlID0gKFxuICAgIDxGbGV4Um93IGl0ZW1zU3BhY2luZz17OH0ganVzdGlmeT17J2ZsZXgtc3RhcnQnfSBncm93PXsxfT5cbiAgICAgIDxGbGV4Um93IGl0ZW1zU3BhY2luZz17OH0gZ3Jvdz17MX0+XG4gICAgICAgIDxTdmdJY29uIHNyYz17aWNvbiB8fCBkZWZhdWx0SWNvblt0aGVtZS50aGVtZU5hbWVdfSBzaXplPXszMn0gLz5cbiAgICAgICAgPEZsZXhDb2x1bW4gaXRlbXNTcGFjaW5nPXs0fT5cbiAgICAgICAgICB7aXRlbUJhZGdlfVxuICAgICAgICAgIDxTdHlsZWRCb2R5VGV4dCB2YXJpYXRpb249e1wiYmxhY2tcIn0gc2l6ZT17MX0+e25hbWVMYWJlbH08L1N0eWxlZEJvZHlUZXh0PlxuICAgICAgICA8L0ZsZXhDb2x1bW4+XG4gICAgICA8L0ZsZXhSb3c+XG4gICAgPC9GbGV4Um93PlxuICApO1xuXG4gIGNvbnN0IGRlc2t0b3AgPSAoXG4gICAgPEZsZXhDb2x1bW4gaXRlbXNTcGFjaW5nPXsxNn0gYWxpZ249eydjZW50ZXInfSBqdXN0aWZ5PXsnY2VudGVyJ30gZ3Jvdz17MX0+XG4gICAgICA8U3ZnSWNvbiBzcmM9e2ljb24gfHwgZGVmYXVsdEljb25bdGhlbWUudGhlbWVOYW1lXX0gc2l6ZT17NDh9IC8+XG4gICAgICA8RmxleENvbHVtbiBpdGVtc1NwYWNpbmc9ezR9IGFsaWduPXsnY2VudGVyJ30+XG4gICAgICAgIHtpdGVtQmFkZ2V9XG4gICAgICAgIDxTdHlsZWRCb2R5VGV4dCBzaXplPXsxfSB2YXJpYXRpb249e1wiYmxhY2tcIn0+e25hbWVMYWJlbH08L1N0eWxlZEJvZHlUZXh0PlxuICAgICAgPC9GbGV4Q29sdW1uPlxuICAgIDwvRmxleENvbHVtbj5cbiAgKTtcblxuICBjb25zdCBwcm9kdWN0TWVkaWEgPSB1c2VNYXRjaE1lZGlhKFttb2JpbGUsIG1vYmlsZSwgZGVza3RvcF0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxQcm9kdWN0SXRlbVdyYXBwZXJcbiAgICAgIG9uQ2xpY2s9eygpID0+ICFjb21pbmdTb29uQmFkZ2VMYWJlbCAmJiB3aW5kb3cub3BlbihsaW5rLCAnX2JsYW5rJyl9XG4gICAgICBzZWxlY3RlZD17c2VsZWN0ZWR9XG4gICAgICBkaXNhYmxlZD17ISFjb21pbmdTb29uQmFkZ2VMYWJlbH1cbiAgICA+XG4gICAgICB7cHJvZHVjdE1lZGlhfVxuICAgIDwvUHJvZHVjdEl0ZW1XcmFwcGVyPlxuICApO1xufTtcbiJdfQ==